(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();function Ps(e,t){const r=Object.create(null),i=e.split(",");for(let n=0;n<i.length;n++)r[i[n]]=!0;return t?n=>!!r[n.toLowerCase()]:n=>!!r[n]}function As(e){if(at(e)){const t={};for(let r=0;r<e.length;r++){const i=e[r],n=It(i)?Kc(i):As(i);if(n)for(const a in n)t[a]=n[a]}return t}else{if(It(e))return e;if(Tt(e))return e}}const jc=/;(?![^(]*\))/g,Wc=/:([^]+)/,zc=/\/\*.*?\*\//gs;function Kc(e){const t={};return e.replace(zc,"").split(jc).forEach(r=>{if(r){const i=r.split(Wc);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function oe(e){let t="";if(It(e))t=e;else if(at(e))for(let r=0;r<e.length;r++){const i=oe(e[r]);i&&(t+=i+" ")}else if(Tt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Yc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xc=Ps(Yc);function $l(e){return!!e||e===""}const vi=e=>It(e)?e:e==null?"":at(e)||Tt(e)&&(e.toString===Vl||!ot(e.toString))?JSON.stringify(e,Ul,2):String(e),Ul=(e,t)=>t&&t.__v_isRef?Ul(e,t.value):$r(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[i,n])=>(r[`${i} =>`]=n,r),{})}:Bl(t)?{[`Set(${t.size})`]:[...t.values()]}:Tt(t)&&!at(t)&&!jl(t)?String(t):t,Et={},Gr=[],be=()=>{},qc=()=>!1,Jc=/^on[^a-z]/,_n=e=>Jc.test(e),Fs=e=>e.startsWith("onUpdate:"),Xt=Object.assign,Ms=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Qc=Object.prototype.hasOwnProperty,gt=(e,t)=>Qc.call(e,t),at=Array.isArray,$r=e=>yn(e)==="[object Map]",Bl=e=>yn(e)==="[object Set]",ot=e=>typeof e=="function",It=e=>typeof e=="string",Os=e=>typeof e=="symbol",Tt=e=>e!==null&&typeof e=="object",Hl=e=>Tt(e)&&ot(e.then)&&ot(e.catch),Vl=Object.prototype.toString,yn=e=>Vl.call(e),Zc=e=>yn(e).slice(8,-1),jl=e=>yn(e)==="[object Object]",ks=e=>It(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qi=Ps(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bn=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},tu=/-(\w)/g,jr=bn(e=>e.replace(tu,(t,r)=>r?r.toUpperCase():"")),eu=/\B([A-Z])/g,Jr=bn(e=>e.replace(eu,"-$1").toLowerCase()),Wl=bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),xa=bn(e=>e?`on${Wl(e)}`:""),bi=(e,t)=>!Object.is(e,t),Ea=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},an=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},ru=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let mo;const iu=()=>mo||(mo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let ve;class nu{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ve,!t&&ve&&(this.index=(ve.scopes||(ve.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const r=ve;try{return ve=this,t()}finally{ve=r}}}on(){ve=this}off(){ve=this.parent}stop(t){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function au(e,t=ve){t&&t.active&&t.effects.push(e)}function su(){return ve}const Rs=e=>{const t=new Set(e);return t.w=0,t.n=0,t},zl=e=>(e.w&tr)>0,Kl=e=>(e.n&tr)>0,ou=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=tr},lu=e=>{const{deps:t}=e;if(t.length){let r=0;for(let i=0;i<t.length;i++){const n=t[i];zl(n)&&!Kl(n)?n.delete(e):t[r++]=n,n.w&=~tr,n.n&=~tr}t.length=r}},Ka=new WeakMap;let gi=0,tr=1;const Ya=30;let _e;const br=Symbol(""),Xa=Symbol("");class Ls{constructor(t,r=null,i){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,au(this,i)}run(){if(!this.active)return this.fn();let t=_e,r=Qe;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_e,_e=this,Qe=!0,tr=1<<++gi,gi<=Ya?ou(this):_o(this),this.fn()}finally{gi<=Ya&&lu(this),tr=1<<--gi,_e=this.parent,Qe=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_e===this?this.deferStop=!0:this.active&&(_o(this),this.onStop&&this.onStop(),this.active=!1)}}function _o(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let Qe=!0;const Yl=[];function Qr(){Yl.push(Qe),Qe=!1}function Zr(){const e=Yl.pop();Qe=e===void 0?!0:e}function ie(e,t,r){if(Qe&&_e){let i=Ka.get(e);i||Ka.set(e,i=new Map);let n=i.get(r);n||i.set(r,n=Rs()),Xl(n)}}function Xl(e,t){let r=!1;gi<=Ya?Kl(e)||(e.n|=tr,r=!zl(e)):r=!e.has(_e),r&&(e.add(_e),_e.deps.push(e))}function Ue(e,t,r,i,n,a){const s=Ka.get(e);if(!s)return;let o=[];if(t==="clear")o=[...s.values()];else if(r==="length"&&at(e)){const l=Number(i);s.forEach((h,c)=>{(c==="length"||c>=l)&&o.push(h)})}else switch(r!==void 0&&o.push(s.get(r)),t){case"add":at(e)?ks(r)&&o.push(s.get("length")):(o.push(s.get(br)),$r(e)&&o.push(s.get(Xa)));break;case"delete":at(e)||(o.push(s.get(br)),$r(e)&&o.push(s.get(Xa)));break;case"set":$r(e)&&o.push(s.get(br));break}if(o.length===1)o[0]&&qa(o[0]);else{const l=[];for(const h of o)h&&l.push(...h);qa(Rs(l))}}function qa(e,t){const r=at(e)?e:[...e];for(const i of r)i.computed&&yo(i);for(const i of r)i.computed||yo(i)}function yo(e,t){(e!==_e||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const hu=Ps("__proto__,__v_isRef,__isVue"),ql=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Os)),cu=Ds(),uu=Ds(!1,!0),du=Ds(!0),bo=fu();function fu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const i=vt(this);for(let a=0,s=this.length;a<s;a++)ie(i,"get",a+"");const n=i[t](...r);return n===-1||n===!1?i[t](...r.map(vt)):n}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Qr();const i=vt(this)[t].apply(this,r);return Zr(),i}}),e}function gu(e){const t=vt(this);return ie(t,"has",e),t.hasOwnProperty(e)}function Ds(e=!1,t=!1){return function(i,n,a){if(n==="__v_isReactive")return!e;if(n==="__v_isReadonly")return e;if(n==="__v_isShallow")return t;if(n==="__v_raw"&&a===(e?t?Mu:eh:t?th:Zl).get(i))return i;const s=at(i);if(!e){if(s&&gt(bo,n))return Reflect.get(bo,n,a);if(n==="hasOwnProperty")return gu}const o=Reflect.get(i,n,a);return(Os(n)?ql.has(n):hu(n))||(e||ie(i,"get",n),t)?o:Kt(o)?s&&ks(n)?o:o.value:Tt(o)?e?fr(o):Wr(o):o}}const pu=Jl(),vu=Jl(!0);function Jl(e=!1){return function(r,i,n,a){let s=r[i];if(zr(s)&&Kt(s)&&!Kt(n))return!1;if(!e&&(!sn(n)&&!zr(n)&&(s=vt(s),n=vt(n)),!at(r)&&Kt(s)&&!Kt(n)))return s.value=n,!0;const o=at(r)&&ks(i)?Number(i)<r.length:gt(r,i),l=Reflect.set(r,i,n,a);return r===vt(a)&&(o?bi(n,s)&&Ue(r,"set",i,n):Ue(r,"add",i,n)),l}}function mu(e,t){const r=gt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&r&&Ue(e,"delete",t,void 0),i}function _u(e,t){const r=Reflect.has(e,t);return(!Os(t)||!ql.has(t))&&ie(e,"has",t),r}function yu(e){return ie(e,"iterate",at(e)?"length":br),Reflect.ownKeys(e)}const Ql={get:cu,set:pu,deleteProperty:mu,has:_u,ownKeys:yu},bu={get:du,set(e,t){return!0},deleteProperty(e,t){return!0}},Su=Xt({},Ql,{get:uu,set:vu}),Ns=e=>e,Sn=e=>Reflect.getPrototypeOf(e);function Ni(e,t,r=!1,i=!1){e=e.__v_raw;const n=vt(e),a=vt(t);r||(t!==a&&ie(n,"get",t),ie(n,"get",a));const{has:s}=Sn(n),o=i?Ns:r?$s:Si;if(s.call(n,t))return o(e.get(t));if(s.call(n,a))return o(e.get(a));e!==n&&e.get(t)}function Ii(e,t=!1){const r=this.__v_raw,i=vt(r),n=vt(e);return t||(e!==n&&ie(i,"has",e),ie(i,"has",n)),e===n?r.has(e):r.has(e)||r.has(n)}function Gi(e,t=!1){return e=e.__v_raw,!t&&ie(vt(e),"iterate",br),Reflect.get(e,"size",e)}function So(e){e=vt(e);const t=vt(this);return Sn(t).has.call(t,e)||(t.add(e),Ue(t,"add",e,e)),this}function wo(e,t){t=vt(t);const r=vt(this),{has:i,get:n}=Sn(r);let a=i.call(r,e);a||(e=vt(e),a=i.call(r,e));const s=n.call(r,e);return r.set(e,t),a?bi(t,s)&&Ue(r,"set",e,t):Ue(r,"add",e,t),this}function Co(e){const t=vt(this),{has:r,get:i}=Sn(t);let n=r.call(t,e);n||(e=vt(e),n=r.call(t,e)),i&&i.call(t,e);const a=t.delete(e);return n&&Ue(t,"delete",e,void 0),a}function xo(){const e=vt(this),t=e.size!==0,r=e.clear();return t&&Ue(e,"clear",void 0,void 0),r}function $i(e,t){return function(i,n){const a=this,s=a.__v_raw,o=vt(s),l=t?Ns:e?$s:Si;return!e&&ie(o,"iterate",br),s.forEach((h,c)=>i.call(n,l(h),l(c),a))}}function Ui(e,t,r){return function(...i){const n=this.__v_raw,a=vt(n),s=$r(a),o=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,h=n[e](...i),c=r?Ns:t?$s:Si;return!t&&ie(a,"iterate",l?Xa:br),{next(){const{value:g,done:p}=h.next();return p?{value:g,done:p}:{value:o?[c(g[0]),c(g[1])]:c(g),done:p}},[Symbol.iterator](){return this}}}}function Ke(e){return function(...t){return e==="delete"?!1:this}}function wu(){const e={get(a){return Ni(this,a)},get size(){return Gi(this)},has:Ii,add:So,set:wo,delete:Co,clear:xo,forEach:$i(!1,!1)},t={get(a){return Ni(this,a,!1,!0)},get size(){return Gi(this)},has:Ii,add:So,set:wo,delete:Co,clear:xo,forEach:$i(!1,!0)},r={get(a){return Ni(this,a,!0)},get size(){return Gi(this,!0)},has(a){return Ii.call(this,a,!0)},add:Ke("add"),set:Ke("set"),delete:Ke("delete"),clear:Ke("clear"),forEach:$i(!0,!1)},i={get(a){return Ni(this,a,!0,!0)},get size(){return Gi(this,!0)},has(a){return Ii.call(this,a,!0)},add:Ke("add"),set:Ke("set"),delete:Ke("delete"),clear:Ke("clear"),forEach:$i(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Ui(a,!1,!1),r[a]=Ui(a,!0,!1),t[a]=Ui(a,!1,!0),i[a]=Ui(a,!0,!0)}),[e,r,t,i]}const[Cu,xu,Eu,Tu]=wu();function Is(e,t){const r=t?e?Tu:Eu:e?xu:Cu;return(i,n,a)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?i:Reflect.get(gt(r,n)&&n in i?r:i,n,a)}const Pu={get:Is(!1,!1)},Au={get:Is(!1,!0)},Fu={get:Is(!0,!1)},Zl=new WeakMap,th=new WeakMap,eh=new WeakMap,Mu=new WeakMap;function Ou(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ku(e){return e.__v_skip||!Object.isExtensible(e)?0:Ou(Zc(e))}function Wr(e){return zr(e)?e:Gs(e,!1,Ql,Pu,Zl)}function Ru(e){return Gs(e,!1,Su,Au,th)}function fr(e){return Gs(e,!0,bu,Fu,eh)}function Gs(e,t,r,i,n){if(!Tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=n.get(e);if(a)return a;const s=ku(e);if(s===0)return e;const o=new Proxy(e,s===2?i:r);return n.set(e,o),o}function Ur(e){return zr(e)?Ur(e.__v_raw):!!(e&&e.__v_isReactive)}function zr(e){return!!(e&&e.__v_isReadonly)}function sn(e){return!!(e&&e.__v_isShallow)}function rh(e){return Ur(e)||zr(e)}function vt(e){const t=e&&e.__v_raw;return t?vt(t):e}function ih(e){return an(e,"__v_skip",!0),e}const Si=e=>Tt(e)?Wr(e):e,$s=e=>Tt(e)?fr(e):e;function nh(e){Qe&&_e&&(e=vt(e),Xl(e.dep||(e.dep=Rs())))}function ah(e,t){e=vt(e);const r=e.dep;r&&qa(r)}function Kt(e){return!!(e&&e.__v_isRef===!0)}function rt(e){return sh(e,!1)}function Lu(e){return sh(e,!0)}function sh(e,t){return Kt(e)?e:new Du(e,t)}class Du{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:vt(t),this._value=r?t:Si(t)}get value(){return nh(this),this._value}set value(t){const r=this.__v_isShallow||sn(t)||zr(t);t=r?t:vt(t),bi(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:Si(t),ah(this))}}function Wt(e){return Kt(e)?e.value:e}const Nu={get:(e,t,r)=>Wt(Reflect.get(e,t,r)),set:(e,t,r,i)=>{const n=e[t];return Kt(n)&&!Kt(r)?(n.value=r,!0):Reflect.set(e,t,r,i)}};function oh(e){return Ur(e)?e:new Proxy(e,Nu)}var lh;class Iu{constructor(t,r,i,n){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[lh]=!1,this._dirty=!0,this.effect=new Ls(t,()=>{this._dirty||(this._dirty=!0,ah(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const t=vt(this);return nh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}lh="__v_isReadonly";function Gu(e,t,r=!1){let i,n;const a=ot(e);return a?(i=e,n=be):(i=e.get,n=e.set),new Iu(i,n,a||!n,r)}function Ze(e,t,r,i){let n;try{n=i?e(...i):e()}catch(a){wn(a,t,r)}return n}function fe(e,t,r,i){if(ot(e)){const a=Ze(e,t,r,i);return a&&Hl(a)&&a.catch(s=>{wn(s,t,r)}),a}const n=[];for(let a=0;a<e.length;a++)n.push(fe(e[a],t,r,i));return n}function wn(e,t,r,i=!0){const n=t?t.vnode:null;if(t){let a=t.parent;const s=t.proxy,o=r;for(;a;){const h=a.ec;if(h){for(let c=0;c<h.length;c++)if(h[c](e,s,o)===!1)return}a=a.parent}const l=t.appContext.config.errorHandler;if(l){Ze(l,null,10,[e,s,o]);return}}$u(e,r,n,i)}function $u(e,t,r,i=!0){console.error(e)}let wi=!1,Ja=!1;const zt=[];let Ae=0;const Br=[];let Ie=null,gr=0;const hh=Promise.resolve();let Us=null;function ch(e){const t=Us||hh;return e?t.then(this?e.bind(this):e):t}function Uu(e){let t=Ae+1,r=zt.length;for(;t<r;){const i=t+r>>>1;Ci(zt[i])<e?t=i+1:r=i}return t}function Bs(e){(!zt.length||!zt.includes(e,wi&&e.allowRecurse?Ae+1:Ae))&&(e.id==null?zt.push(e):zt.splice(Uu(e.id),0,e),uh())}function uh(){!wi&&!Ja&&(Ja=!0,Us=hh.then(fh))}function Bu(e){const t=zt.indexOf(e);t>Ae&&zt.splice(t,1)}function Hu(e){at(e)?Br.push(...e):(!Ie||!Ie.includes(e,e.allowRecurse?gr+1:gr))&&Br.push(e),uh()}function Eo(e,t=wi?Ae+1:0){for(;t<zt.length;t++){const r=zt[t];r&&r.pre&&(zt.splice(t,1),t--,r())}}function dh(e){if(Br.length){const t=[...new Set(Br)];if(Br.length=0,Ie){Ie.push(...t);return}for(Ie=t,Ie.sort((r,i)=>Ci(r)-Ci(i)),gr=0;gr<Ie.length;gr++)Ie[gr]();Ie=null,gr=0}}const Ci=e=>e.id==null?1/0:e.id,Vu=(e,t)=>{const r=Ci(e)-Ci(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function fh(e){Ja=!1,wi=!0,zt.sort(Vu);const t=be;try{for(Ae=0;Ae<zt.length;Ae++){const r=zt[Ae];r&&r.active!==!1&&Ze(r,null,14)}}finally{Ae=0,zt.length=0,dh(),wi=!1,Us=null,(zt.length||Br.length)&&fh()}}function ju(e,t,...r){if(e.isUnmounted)return;const i=e.vnode.props||Et;let n=r;const a=t.startsWith("update:"),s=a&&t.slice(7);if(s&&s in i){const c=`${s==="modelValue"?"model":s}Modifiers`,{number:g,trim:p}=i[c]||Et;p&&(n=r.map(f=>It(f)?f.trim():f)),g&&(n=r.map(ru))}let o,l=i[o=xa(t)]||i[o=xa(jr(t))];!l&&a&&(l=i[o=xa(Jr(t))]),l&&fe(l,e,6,n);const h=i[o+"Once"];if(h){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,fe(h,e,6,n)}}function gh(e,t,r=!1){const i=t.emitsCache,n=i.get(e);if(n!==void 0)return n;const a=e.emits;let s={},o=!1;if(!ot(e)){const l=h=>{const c=gh(h,t,!0);c&&(o=!0,Xt(s,c))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!a&&!o?(Tt(e)&&i.set(e,null),null):(at(a)?a.forEach(l=>s[l]=null):Xt(s,a),Tt(e)&&i.set(e,s),s)}function Cn(e,t){return!e||!_n(t)?!1:(t=t.slice(2).replace(/Once$/,""),gt(e,t[0].toLowerCase()+t.slice(1))||gt(e,Jr(t))||gt(e,t))}let de=null,ph=null;function on(e){const t=de;return de=e,ph=e&&e.type.__scopeId||null,t}function Ir(e,t=de,r){if(!t||e._n)return e;const i=(...n)=>{i._d&&Do(-1);const a=on(t);let s;try{s=e(...n)}finally{on(a),i._d&&Do(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Ta(e){const{type:t,vnode:r,proxy:i,withProxy:n,props:a,propsOptions:[s],slots:o,attrs:l,emit:h,render:c,renderCache:g,data:p,setupState:f,ctx:d,inheritAttrs:m}=e;let y,w;const E=on(e);try{if(r.shapeFlag&4){const v=n||i;y=Pe(c.call(v,v,g,a,f,p,d)),w=l}else{const v=t;y=Pe(v.length>1?v(a,{attrs:l,slots:o,emit:h}):v(a,null)),w=t.props?l:Wu(l)}}catch(v){yi.length=0,wn(v,e,1),y=Nt(Se)}let u=y;if(w&&m!==!1){const v=Object.keys(w),{shapeFlag:_}=u;v.length&&_&7&&(s&&v.some(Fs)&&(w=zu(w,s)),u=Be(u,w))}return r.dirs&&(u=Be(u),u.dirs=u.dirs?u.dirs.concat(r.dirs):r.dirs),r.transition&&(u.transition=r.transition),y=u,on(E),y}const Wu=e=>{let t;for(const r in e)(r==="class"||r==="style"||_n(r))&&((t||(t={}))[r]=e[r]);return t},zu=(e,t)=>{const r={};for(const i in e)(!Fs(i)||!(i.slice(9)in t))&&(r[i]=e[i]);return r};function Ku(e,t,r){const{props:i,children:n,component:a}=e,{props:s,children:o,patchFlag:l}=t,h=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return i?To(i,s,h):!!s;if(l&8){const c=t.dynamicProps;for(let g=0;g<c.length;g++){const p=c[g];if(s[p]!==i[p]&&!Cn(h,p))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?To(i,s,h):!0:!!s;return!1}function To(e,t,r){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(t[a]!==e[a]&&!Cn(r,a))return!0}return!1}function Yu({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Xu=e=>e.__isSuspense;function qu(e,t){t&&t.pendingBranch?at(e)?t.effects.push(...e):t.effects.push(e):Hu(e)}function Oe(e,t){if(Dt){let r=Dt.provides;const i=Dt.parent&&Dt.parent.provides;i===r&&(r=Dt.provides=Object.create(i)),r[e]=t}}function ee(e,t,r=!1){const i=Dt||de;if(i){const n=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(n&&e in n)return n[e];if(arguments.length>1)return r&&ot(t)?t.call(i.proxy):t}}function Ce(e,t){return Hs(e,null,t)}const Bi={};function Me(e,t,r){return Hs(e,t,r)}function Hs(e,t,{immediate:r,deep:i,flush:n,onTrack:a,onTrigger:s}=Et){const o=su()===(Dt==null?void 0:Dt.scope)?Dt:null;let l,h=!1,c=!1;if(Kt(e)?(l=()=>e.value,h=sn(e)):Ur(e)?(l=()=>e,i=!0):at(e)?(c=!0,h=e.some(u=>Ur(u)||sn(u)),l=()=>e.map(u=>{if(Kt(u))return u.value;if(Ur(u))return _r(u);if(ot(u))return Ze(u,o,2)})):ot(e)?t?l=()=>Ze(e,o,2):l=()=>{if(!(o&&o.isUnmounted))return g&&g(),fe(e,o,3,[p])}:l=be,t&&i){const u=l;l=()=>_r(u())}let g,p=u=>{g=w.onStop=()=>{Ze(u,o,4)}},f;if(Ei)if(p=be,t?r&&fe(t,o,3,[l(),c?[]:void 0,p]):l(),n==="sync"){const u=zd();f=u.__watcherHandles||(u.__watcherHandles=[])}else return be;let d=c?new Array(e.length).fill(Bi):Bi;const m=()=>{if(w.active)if(t){const u=w.run();(i||h||(c?u.some((v,_)=>bi(v,d[_])):bi(u,d)))&&(g&&g(),fe(t,o,3,[u,d===Bi?void 0:c&&d[0]===Bi?[]:d,p]),d=u)}else w.run()};m.allowRecurse=!!t;let y;n==="sync"?y=m:n==="post"?y=()=>te(m,o&&o.suspense):(m.pre=!0,o&&(m.id=o.uid),y=()=>Bs(m));const w=new Ls(l,y);t?r?m():d=w.run():n==="post"?te(w.run.bind(w),o&&o.suspense):w.run();const E=()=>{w.stop(),o&&o.scope&&Ms(o.scope.effects,w)};return f&&f.push(E),E}function Ju(e,t,r){const i=this.proxy,n=It(e)?e.includes(".")?vh(i,e):()=>i[e]:e.bind(i,i);let a;ot(t)?a=t:(a=t.handler,r=t);const s=Dt;Kr(this);const o=Hs(n,a.bind(i),r);return s?Kr(s):Sr(),o}function vh(e,t){const r=t.split(".");return()=>{let i=e;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function _r(e,t){if(!Tt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Kt(e))_r(e.value,t);else if(at(e))for(let r=0;r<e.length;r++)_r(e[r],t);else if(Bl(e)||$r(e))e.forEach(r=>{_r(r,t)});else if(jl(e))for(const r in e)_r(e[r],t);return e}function Qu(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Yt(()=>{e.isMounted=!0}),bh(()=>{e.isUnmounting=!0}),e}const ce=[Function,Array],Zu={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ce,onEnter:ce,onAfterEnter:ce,onEnterCancelled:ce,onBeforeLeave:ce,onLeave:ce,onAfterLeave:ce,onLeaveCancelled:ce,onBeforeAppear:ce,onAppear:ce,onAfterAppear:ce,onAppearCancelled:ce},setup(e,{slots:t}){const r=$d(),i=Qu();let n;return()=>{const a=t.default&&_h(t.default(),!0);if(!a||!a.length)return;let s=a[0];if(a.length>1){for(const m of a)if(m.type!==Se){s=m;break}}const o=vt(e),{mode:l}=o;if(i.isLeaving)return Pa(s);const h=Po(s);if(!h)return Pa(s);const c=Qa(h,o,i,r);Za(h,c);const g=r.subTree,p=g&&Po(g);let f=!1;const{getTransitionKey:d}=h.type;if(d){const m=d();n===void 0?n=m:m!==n&&(n=m,f=!0)}if(p&&p.type!==Se&&(!pr(h,p)||f)){const m=Qa(p,o,i,r);if(Za(p,m),l==="out-in")return i.isLeaving=!0,m.afterLeave=()=>{i.isLeaving=!1,r.update.active!==!1&&r.update()},Pa(s);l==="in-out"&&h.type!==Se&&(m.delayLeave=(y,w,E)=>{const u=mh(i,p);u[String(p.key)]=p,y._leaveCb=()=>{w(),y._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=E})}return s}}},td=Zu;function mh(e,t){const{leavingVNodes:r}=e;let i=r.get(t.type);return i||(i=Object.create(null),r.set(t.type,i)),i}function Qa(e,t,r,i){const{appear:n,mode:a,persisted:s=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:h,onEnterCancelled:c,onBeforeLeave:g,onLeave:p,onAfterLeave:f,onLeaveCancelled:d,onBeforeAppear:m,onAppear:y,onAfterAppear:w,onAppearCancelled:E}=t,u=String(e.key),v=mh(r,e),_=(b,F)=>{b&&fe(b,i,9,F)},x=(b,F)=>{const C=F[1];_(b,F),at(b)?b.every(A=>A.length<=1)&&C():b.length<=1&&C()},M={mode:a,persisted:s,beforeEnter(b){let F=o;if(!r.isMounted)if(n)F=m||o;else return;b._leaveCb&&b._leaveCb(!0);const C=v[u];C&&pr(e,C)&&C.el._leaveCb&&C.el._leaveCb(),_(F,[b])},enter(b){let F=l,C=h,A=c;if(!r.isMounted)if(n)F=y||l,C=w||h,A=E||c;else return;let G=!1;const L=b._enterCb=R=>{G||(G=!0,R?_(A,[b]):_(C,[b]),M.delayedLeave&&M.delayedLeave(),b._enterCb=void 0)};F?x(F,[b,L]):L()},leave(b,F){const C=String(e.key);if(b._enterCb&&b._enterCb(!0),r.isUnmounting)return F();_(g,[b]);let A=!1;const G=b._leaveCb=L=>{A||(A=!0,F(),L?_(d,[b]):_(f,[b]),b._leaveCb=void 0,v[C]===e&&delete v[C])};v[C]=e,p?x(p,[b,G]):G()},clone(b){return Qa(b,t,r,i)}};return M}function Pa(e){if(xn(e))return e=Be(e),e.children=null,e}function Po(e){return xn(e)?e.children?e.children[0]:void 0:e}function Za(e,t){e.shapeFlag&6&&e.component?Za(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function _h(e,t=!1,r){let i=[],n=0;for(let a=0;a<e.length;a++){let s=e[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===Ht?(s.patchFlag&128&&n++,i=i.concat(_h(s.children,t,o))):(t||s.type!==Se)&&i.push(o!=null?Be(s,{key:o}):s)}if(n>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}function jt(e){return ot(e)?{setup:e,name:e.name}:e}const Zi=e=>!!e.type.__asyncLoader,xn=e=>e.type.__isKeepAlive;function ed(e,t){yh(e,"a",t)}function rd(e,t){yh(e,"da",t)}function yh(e,t,r=Dt){const i=e.__wdc||(e.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(En(t,i,r),r){let n=r.parent;for(;n&&n.parent;)xn(n.parent.vnode)&&id(i,t,r,n),n=n.parent}}function id(e,t,r,i){const n=En(t,e,i,!0);ge(()=>{Ms(i[t],n)},r)}function En(e,t,r=Dt,i=!1){if(r){const n=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...s)=>{if(r.isUnmounted)return;Qr(),Kr(r);const o=fe(t,r,e,s);return Sr(),Zr(),o});return i?n.unshift(a):n.push(a),a}}const He=e=>(t,r=Dt)=>(!Ei||e==="sp")&&En(e,(...i)=>t(...i),r),nd=He("bm"),Yt=He("m"),ad=He("bu"),sd=He("u"),bh=He("bum"),ge=He("um"),od=He("sp"),ld=He("rtg"),hd=He("rtc");function cd(e,t=Dt){En("ec",e,t)}function ts(e,t){const r=de;if(r===null)return e;const i=An(r)||r.proxy,n=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[s,o,l,h=Et]=t[a];s&&(ot(s)&&(s={mounted:s,updated:s}),s.deep&&_r(o),n.push({dir:s,instance:i,value:o,oldValue:void 0,arg:l,modifiers:h}))}return e}function or(e,t,r,i){const n=e.dirs,a=t&&t.dirs;for(let s=0;s<n.length;s++){const o=n[s];a&&(o.oldValue=a[s].value);let l=o.dir[i];l&&(Qr(),fe(l,r,8,[e.el,o,e,t]),Zr())}}const ud=Symbol();function Hr(e,t,r,i){let n;const a=r&&r[i];if(at(e)||It(e)){n=new Array(e.length);for(let s=0,o=e.length;s<o;s++)n[s]=t(e[s],s,void 0,a&&a[s])}else if(typeof e=="number"){n=new Array(e);for(let s=0;s<e;s++)n[s]=t(s+1,s,void 0,a&&a[s])}else if(Tt(e))if(e[Symbol.iterator])n=Array.from(e,(s,o)=>t(s,o,void 0,a&&a[o]));else{const s=Object.keys(e);n=new Array(s.length);for(let o=0,l=s.length;o<l;o++){const h=s[o];n[o]=t(e[h],h,o,a&&a[o])}}else n=[];return r&&(r[i]=n),n}const es=e=>e?kh(e)?An(e)||e.proxy:es(e.parent):null,mi=Xt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>es(e.parent),$root:e=>es(e.root),$emit:e=>e.emit,$options:e=>Vs(e),$forceUpdate:e=>e.f||(e.f=()=>Bs(e.update)),$nextTick:e=>e.n||(e.n=ch.bind(e.proxy)),$watch:e=>Ju.bind(e)}),Aa=(e,t)=>e!==Et&&!e.__isScriptSetup&&gt(e,t),dd={get({_:e},t){const{ctx:r,setupState:i,data:n,props:a,accessCache:s,type:o,appContext:l}=e;let h;if(t[0]!=="$"){const f=s[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return n[t];case 4:return r[t];case 3:return a[t]}else{if(Aa(i,t))return s[t]=1,i[t];if(n!==Et&&gt(n,t))return s[t]=2,n[t];if((h=e.propsOptions[0])&&gt(h,t))return s[t]=3,a[t];if(r!==Et&&gt(r,t))return s[t]=4,r[t];rs&&(s[t]=0)}}const c=mi[t];let g,p;if(c)return t==="$attrs"&&ie(e,"get",t),c(e);if((g=o.__cssModules)&&(g=g[t]))return g;if(r!==Et&&gt(r,t))return s[t]=4,r[t];if(p=l.config.globalProperties,gt(p,t))return p[t]},set({_:e},t,r){const{data:i,setupState:n,ctx:a}=e;return Aa(n,t)?(n[t]=r,!0):i!==Et&&gt(i,t)?(i[t]=r,!0):gt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:i,appContext:n,propsOptions:a}},s){let o;return!!r[s]||e!==Et&&gt(e,s)||Aa(t,s)||(o=a[0])&&gt(o,s)||gt(i,s)||gt(mi,s)||gt(n.config.globalProperties,s)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:gt(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let rs=!0;function fd(e){const t=Vs(e),r=e.proxy,i=e.ctx;rs=!1,t.beforeCreate&&Ao(t.beforeCreate,e,"bc");const{data:n,computed:a,methods:s,watch:o,provide:l,inject:h,created:c,beforeMount:g,mounted:p,beforeUpdate:f,updated:d,activated:m,deactivated:y,beforeDestroy:w,beforeUnmount:E,destroyed:u,unmounted:v,render:_,renderTracked:x,renderTriggered:M,errorCaptured:b,serverPrefetch:F,expose:C,inheritAttrs:A,components:G,directives:L,filters:R}=t;if(h&&gd(h,i,null,e.appContext.config.unwrapInjectedRef),s)for(const N in s){const I=s[N];ot(I)&&(i[N]=I.bind(r))}if(n){const N=n.call(r,r);Tt(N)&&(e.data=Wr(N))}if(rs=!0,a)for(const N in a){const I=a[N],j=ot(I)?I.bind(r,r):ot(I.get)?I.get.bind(r,r):be,q=!ot(I)&&ot(I.set)?I.set.bind(r):be,Y=mt({get:j,set:q});Object.defineProperty(i,N,{enumerable:!0,configurable:!0,get:()=>Y.value,set:it=>Y.value=it})}if(o)for(const N in o)Sh(o[N],i,r,N);if(l){const N=ot(l)?l.call(r):l;Reflect.ownKeys(N).forEach(I=>{Oe(I,N[I])})}c&&Ao(c,e,"c");function H(N,I){at(I)?I.forEach(j=>N(j.bind(r))):I&&N(I.bind(r))}if(H(nd,g),H(Yt,p),H(ad,f),H(sd,d),H(ed,m),H(rd,y),H(cd,b),H(hd,x),H(ld,M),H(bh,E),H(ge,v),H(od,F),at(C))if(C.length){const N=e.exposed||(e.exposed={});C.forEach(I=>{Object.defineProperty(N,I,{get:()=>r[I],set:j=>r[I]=j})})}else e.exposed||(e.exposed={});_&&e.render===be&&(e.render=_),A!=null&&(e.inheritAttrs=A),G&&(e.components=G),L&&(e.directives=L)}function gd(e,t,r=be,i=!1){at(e)&&(e=is(e));for(const n in e){const a=e[n];let s;Tt(a)?"default"in a?s=ee(a.from||n,a.default,!0):s=ee(a.from||n):s=ee(a),Kt(s)&&i?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function Ao(e,t,r){fe(at(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,r)}function Sh(e,t,r,i){const n=i.includes(".")?vh(r,i):()=>r[i];if(It(e)){const a=t[e];ot(a)&&Me(n,a)}else if(ot(e))Me(n,e.bind(r));else if(Tt(e))if(at(e))e.forEach(a=>Sh(a,t,r,i));else{const a=ot(e.handler)?e.handler.bind(r):t[e.handler];ot(a)&&Me(n,a,e)}}function Vs(e){const t=e.type,{mixins:r,extends:i}=t,{mixins:n,optionsCache:a,config:{optionMergeStrategies:s}}=e.appContext,o=a.get(t);let l;return o?l=o:!n.length&&!r&&!i?l=t:(l={},n.length&&n.forEach(h=>ln(l,h,s,!0)),ln(l,t,s)),Tt(t)&&a.set(t,l),l}function ln(e,t,r,i=!1){const{mixins:n,extends:a}=t;a&&ln(e,a,r,!0),n&&n.forEach(s=>ln(e,s,r,!0));for(const s in t)if(!(i&&s==="expose")){const o=pd[s]||r&&r[s];e[s]=o?o(e[s],t[s]):t[s]}return e}const pd={data:Fo,props:dr,emits:dr,methods:dr,computed:dr,beforeCreate:qt,created:qt,beforeMount:qt,mounted:qt,beforeUpdate:qt,updated:qt,beforeDestroy:qt,beforeUnmount:qt,destroyed:qt,unmounted:qt,activated:qt,deactivated:qt,errorCaptured:qt,serverPrefetch:qt,components:dr,directives:dr,watch:md,provide:Fo,inject:vd};function Fo(e,t){return t?e?function(){return Xt(ot(e)?e.call(this,this):e,ot(t)?t.call(this,this):t)}:t:e}function vd(e,t){return dr(is(e),is(t))}function is(e){if(at(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function qt(e,t){return e?[...new Set([].concat(e,t))]:t}function dr(e,t){return e?Xt(Xt(Object.create(null),e),t):t}function md(e,t){if(!e)return t;if(!t)return e;const r=Xt(Object.create(null),e);for(const i in t)r[i]=qt(e[i],t[i]);return r}function _d(e,t,r,i=!1){const n={},a={};an(a,Pn,1),e.propsDefaults=Object.create(null),wh(e,t,n,a);for(const s in e.propsOptions[0])s in n||(n[s]=void 0);r?e.props=i?n:Ru(n):e.type.props?e.props=n:e.props=a,e.attrs=a}function yd(e,t,r,i){const{props:n,attrs:a,vnode:{patchFlag:s}}=e,o=vt(n),[l]=e.propsOptions;let h=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=e.vnode.dynamicProps;for(let g=0;g<c.length;g++){let p=c[g];if(Cn(e.emitsOptions,p))continue;const f=t[p];if(l)if(gt(a,p))f!==a[p]&&(a[p]=f,h=!0);else{const d=jr(p);n[d]=ns(l,o,d,f,e,!1)}else f!==a[p]&&(a[p]=f,h=!0)}}}else{wh(e,t,n,a)&&(h=!0);let c;for(const g in o)(!t||!gt(t,g)&&((c=Jr(g))===g||!gt(t,c)))&&(l?r&&(r[g]!==void 0||r[c]!==void 0)&&(n[g]=ns(l,o,g,void 0,e,!0)):delete n[g]);if(a!==o)for(const g in a)(!t||!gt(t,g))&&(delete a[g],h=!0)}h&&Ue(e,"set","$attrs")}function wh(e,t,r,i){const[n,a]=e.propsOptions;let s=!1,o;if(t)for(let l in t){if(Qi(l))continue;const h=t[l];let c;n&&gt(n,c=jr(l))?!a||!a.includes(c)?r[c]=h:(o||(o={}))[c]=h:Cn(e.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,s=!0)}if(a){const l=vt(r),h=o||Et;for(let c=0;c<a.length;c++){const g=a[c];r[g]=ns(n,l,g,h[g],e,!gt(h,g))}}return s}function ns(e,t,r,i,n,a){const s=e[r];if(s!=null){const o=gt(s,"default");if(o&&i===void 0){const l=s.default;if(s.type!==Function&&ot(l)){const{propsDefaults:h}=n;r in h?i=h[r]:(Kr(n),i=h[r]=l.call(null,t),Sr())}else i=l}s[0]&&(a&&!o?i=!1:s[1]&&(i===""||i===Jr(r))&&(i=!0))}return i}function Ch(e,t,r=!1){const i=t.propsCache,n=i.get(e);if(n)return n;const a=e.props,s={},o=[];let l=!1;if(!ot(e)){const c=g=>{l=!0;const[p,f]=Ch(g,t,!0);Xt(s,p),f&&o.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!a&&!l)return Tt(e)&&i.set(e,Gr),Gr;if(at(a))for(let c=0;c<a.length;c++){const g=jr(a[c]);Mo(g)&&(s[g]=Et)}else if(a)for(const c in a){const g=jr(c);if(Mo(g)){const p=a[c],f=s[g]=at(p)||ot(p)?{type:p}:Object.assign({},p);if(f){const d=Ro(Boolean,f.type),m=Ro(String,f.type);f[0]=d>-1,f[1]=m<0||d<m,(d>-1||gt(f,"default"))&&o.push(g)}}}const h=[s,o];return Tt(e)&&i.set(e,h),h}function Mo(e){return e[0]!=="$"}function Oo(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ko(e,t){return Oo(e)===Oo(t)}function Ro(e,t){return at(t)?t.findIndex(r=>ko(r,e)):ot(t)&&ko(t,e)?0:-1}const xh=e=>e[0]==="_"||e==="$stable",js=e=>at(e)?e.map(Pe):[Pe(e)],bd=(e,t,r)=>{if(t._n)return t;const i=Ir((...n)=>js(t(...n)),r);return i._c=!1,i},Eh=(e,t,r)=>{const i=e._ctx;for(const n in e){if(xh(n))continue;const a=e[n];if(ot(a))t[n]=bd(n,a,i);else if(a!=null){const s=js(a);t[n]=()=>s}}},Th=(e,t)=>{const r=js(t);e.slots.default=()=>r},Sd=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=vt(t),an(t,"_",r)):Eh(t,e.slots={})}else e.slots={},t&&Th(e,t);an(e.slots,Pn,1)},wd=(e,t,r)=>{const{vnode:i,slots:n}=e;let a=!0,s=Et;if(i.shapeFlag&32){const o=t._;o?r&&o===1?a=!1:(Xt(n,t),!r&&o===1&&delete n._):(a=!t.$stable,Eh(t,n)),s=t}else t&&(Th(e,t),s={default:1});if(a)for(const o in n)!xh(o)&&!(o in s)&&delete n[o]};function Ph(){return{app:null,config:{isNativeTag:qc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cd=0;function xd(e,t){return function(i,n=null){ot(i)||(i=Object.assign({},i)),n!=null&&!Tt(n)&&(n=null);const a=Ph(),s=new Set;let o=!1;const l=a.app={_uid:Cd++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:Kd,get config(){return a.config},set config(h){},use(h,...c){return s.has(h)||(h&&ot(h.install)?(s.add(h),h.install(l,...c)):ot(h)&&(s.add(h),h(l,...c))),l},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),l},component(h,c){return c?(a.components[h]=c,l):a.components[h]},directive(h,c){return c?(a.directives[h]=c,l):a.directives[h]},mount(h,c,g){if(!o){const p=Nt(i,n);return p.appContext=a,c&&t?t(p,h):e(p,h,g),o=!0,l._container=h,h.__vue_app__=l,An(p.component)||p.component.proxy}},unmount(){o&&(e(null,l._container),delete l._container.__vue_app__)},provide(h,c){return a.provides[h]=c,l}};return l}}function as(e,t,r,i,n=!1){if(at(e)){e.forEach((p,f)=>as(p,t&&(at(t)?t[f]:t),r,i,n));return}if(Zi(i)&&!n)return;const a=i.shapeFlag&4?An(i.component)||i.component.proxy:i.el,s=n?null:a,{i:o,r:l}=e,h=t&&t.r,c=o.refs===Et?o.refs={}:o.refs,g=o.setupState;if(h!=null&&h!==l&&(It(h)?(c[h]=null,gt(g,h)&&(g[h]=null)):Kt(h)&&(h.value=null)),ot(l))Ze(l,o,12,[s,c]);else{const p=It(l),f=Kt(l);if(p||f){const d=()=>{if(e.f){const m=p?gt(g,l)?g[l]:c[l]:l.value;n?at(m)&&Ms(m,a):at(m)?m.includes(a)||m.push(a):p?(c[l]=[a],gt(g,l)&&(g[l]=c[l])):(l.value=[a],e.k&&(c[e.k]=l.value))}else p?(c[l]=s,gt(g,l)&&(g[l]=s)):f&&(l.value=s,e.k&&(c[e.k]=s))};s?(d.id=-1,te(d,r)):d()}}}const te=qu;function Ed(e){return Td(e)}function Td(e,t){const r=iu();r.__VUE__=!0;const{insert:i,remove:n,patchProp:a,createElement:s,createText:o,createComment:l,setText:h,setElementText:c,parentNode:g,nextSibling:p,setScopeId:f=be,insertStaticContent:d}=e,m=(S,T,O,k=null,D=null,B=null,z=!1,W=null,K=!!T.dynamicChildren)=>{if(S===T)return;S&&!pr(S,T)&&(k=P(S),it(S,D,B,!0),S=null),T.patchFlag===-2&&(K=!1,T.dynamicChildren=null);const{type:$,ref:tt,shapeFlag:Q}=T;switch($){case Tn:y(S,T,O,k);break;case Se:w(S,T,O,k);break;case Fa:S==null&&E(T,O,k,z);break;case Ht:G(S,T,O,k,D,B,z,W,K);break;default:Q&1?_(S,T,O,k,D,B,z,W,K):Q&6?L(S,T,O,k,D,B,z,W,K):(Q&64||Q&128)&&$.process(S,T,O,k,D,B,z,W,K,X)}tt!=null&&D&&as(tt,S&&S.ref,B,T||S,!T)},y=(S,T,O,k)=>{if(S==null)i(T.el=o(T.children),O,k);else{const D=T.el=S.el;T.children!==S.children&&h(D,T.children)}},w=(S,T,O,k)=>{S==null?i(T.el=l(T.children||""),O,k):T.el=S.el},E=(S,T,O,k)=>{[S.el,S.anchor]=d(S.children,T,O,k,S.el,S.anchor)},u=({el:S,anchor:T},O,k)=>{let D;for(;S&&S!==T;)D=p(S),i(S,O,k),S=D;i(T,O,k)},v=({el:S,anchor:T})=>{let O;for(;S&&S!==T;)O=p(S),n(S),S=O;n(T)},_=(S,T,O,k,D,B,z,W,K)=>{z=z||T.type==="svg",S==null?x(T,O,k,D,B,z,W,K):F(S,T,D,B,z,W,K)},x=(S,T,O,k,D,B,z,W)=>{let K,$;const{type:tt,props:Q,shapeFlag:et,transition:nt,dirs:ct}=S;if(K=S.el=s(S.type,B,Q&&Q.is,Q),et&8?c(K,S.children):et&16&&b(S.children,K,null,k,D,B&&tt!=="foreignObject",z,W),ct&&or(S,null,k,"created"),M(K,S,S.scopeId,z,k),Q){for(const bt in Q)bt!=="value"&&!Qi(bt)&&a(K,bt,null,Q[bt],B,S.children,k,D,At);"value"in Q&&a(K,"value",null,Q.value),($=Q.onVnodeBeforeMount)&&Te($,k,S)}ct&&or(S,null,k,"beforeMount");const xt=(!D||D&&!D.pendingBranch)&&nt&&!nt.persisted;xt&&nt.beforeEnter(K),i(K,T,O),(($=Q&&Q.onVnodeMounted)||xt||ct)&&te(()=>{$&&Te($,k,S),xt&&nt.enter(K),ct&&or(S,null,k,"mounted")},D)},M=(S,T,O,k,D)=>{if(O&&f(S,O),k)for(let B=0;B<k.length;B++)f(S,k[B]);if(D){let B=D.subTree;if(T===B){const z=D.vnode;M(S,z,z.scopeId,z.slotScopeIds,D.parent)}}},b=(S,T,O,k,D,B,z,W,K=0)=>{for(let $=K;$<S.length;$++){const tt=S[$]=W?Xe(S[$]):Pe(S[$]);m(null,tt,T,O,k,D,B,z,W)}},F=(S,T,O,k,D,B,z)=>{const W=T.el=S.el;let{patchFlag:K,dynamicChildren:$,dirs:tt}=T;K|=S.patchFlag&16;const Q=S.props||Et,et=T.props||Et;let nt;O&&lr(O,!1),(nt=et.onVnodeBeforeUpdate)&&Te(nt,O,T,S),tt&&or(T,S,O,"beforeUpdate"),O&&lr(O,!0);const ct=D&&T.type!=="foreignObject";if($?C(S.dynamicChildren,$,W,O,k,ct,B):z||I(S,T,W,null,O,k,ct,B,!1),K>0){if(K&16)A(W,T,Q,et,O,k,D);else if(K&2&&Q.class!==et.class&&a(W,"class",null,et.class,D),K&4&&a(W,"style",Q.style,et.style,D),K&8){const xt=T.dynamicProps;for(let bt=0;bt<xt.length;bt++){const Lt=xt[bt],pe=Q[Lt],Rr=et[Lt];(Rr!==pe||Lt==="value")&&a(W,Lt,pe,Rr,D,S.children,O,k,At)}}K&1&&S.children!==T.children&&c(W,T.children)}else!z&&$==null&&A(W,T,Q,et,O,k,D);((nt=et.onVnodeUpdated)||tt)&&te(()=>{nt&&Te(nt,O,T,S),tt&&or(T,S,O,"updated")},k)},C=(S,T,O,k,D,B,z)=>{for(let W=0;W<T.length;W++){const K=S[W],$=T[W],tt=K.el&&(K.type===Ht||!pr(K,$)||K.shapeFlag&70)?g(K.el):O;m(K,$,tt,null,k,D,B,z,!0)}},A=(S,T,O,k,D,B,z)=>{if(O!==k){if(O!==Et)for(const W in O)!Qi(W)&&!(W in k)&&a(S,W,O[W],null,z,T.children,D,B,At);for(const W in k){if(Qi(W))continue;const K=k[W],$=O[W];K!==$&&W!=="value"&&a(S,W,$,K,z,T.children,D,B,At)}"value"in k&&a(S,"value",O.value,k.value)}},G=(S,T,O,k,D,B,z,W,K)=>{const $=T.el=S?S.el:o(""),tt=T.anchor=S?S.anchor:o("");let{patchFlag:Q,dynamicChildren:et,slotScopeIds:nt}=T;nt&&(W=W?W.concat(nt):nt),S==null?(i($,O,k),i(tt,O,k),b(T.children,O,tt,D,B,z,W,K)):Q>0&&Q&64&&et&&S.dynamicChildren?(C(S.dynamicChildren,et,O,D,B,z,W),(T.key!=null||D&&T===D.subTree)&&Ws(S,T,!0)):I(S,T,O,tt,D,B,z,W,K)},L=(S,T,O,k,D,B,z,W,K)=>{T.slotScopeIds=W,S==null?T.shapeFlag&512?D.ctx.activate(T,O,k,z,K):R(T,O,k,D,B,z,K):U(S,T,K)},R=(S,T,O,k,D,B,z)=>{const W=S.component=Gd(S,k,D);if(xn(S)&&(W.ctx.renderer=X),Ud(W),W.asyncDep){if(D&&D.registerDep(W,H),!S.el){const K=W.subTree=Nt(Se);w(null,K,T,O)}return}H(W,S,T,O,D,B,z)},U=(S,T,O)=>{const k=T.component=S.component;if(Ku(S,T,O))if(k.asyncDep&&!k.asyncResolved){N(k,T,O);return}else k.next=T,Bu(k.update),k.update();else T.el=S.el,k.vnode=T},H=(S,T,O,k,D,B,z)=>{const W=()=>{if(S.isMounted){let{next:tt,bu:Q,u:et,parent:nt,vnode:ct}=S,xt=tt,bt;lr(S,!1),tt?(tt.el=ct.el,N(S,tt,z)):tt=ct,Q&&Ea(Q),(bt=tt.props&&tt.props.onVnodeBeforeUpdate)&&Te(bt,nt,tt,ct),lr(S,!0);const Lt=Ta(S),pe=S.subTree;S.subTree=Lt,m(pe,Lt,g(pe.el),P(pe),S,D,B),tt.el=Lt.el,xt===null&&Yu(S,Lt.el),et&&te(et,D),(bt=tt.props&&tt.props.onVnodeUpdated)&&te(()=>Te(bt,nt,tt,ct),D)}else{let tt;const{el:Q,props:et}=T,{bm:nt,m:ct,parent:xt}=S,bt=Zi(T);if(lr(S,!1),nt&&Ea(nt),!bt&&(tt=et&&et.onVnodeBeforeMount)&&Te(tt,xt,T),lr(S,!0),Q&&pt){const Lt=()=>{S.subTree=Ta(S),pt(Q,S.subTree,S,D,null)};bt?T.type.__asyncLoader().then(()=>!S.isUnmounted&&Lt()):Lt()}else{const Lt=S.subTree=Ta(S);m(null,Lt,O,k,S,D,B),T.el=Lt.el}if(ct&&te(ct,D),!bt&&(tt=et&&et.onVnodeMounted)){const Lt=T;te(()=>Te(tt,xt,Lt),D)}(T.shapeFlag&256||xt&&Zi(xt.vnode)&&xt.vnode.shapeFlag&256)&&S.a&&te(S.a,D),S.isMounted=!0,T=O=k=null}},K=S.effect=new Ls(W,()=>Bs($),S.scope),$=S.update=()=>K.run();$.id=S.uid,lr(S,!0),$()},N=(S,T,O)=>{T.component=S;const k=S.vnode.props;S.vnode=T,S.next=null,yd(S,T.props,k,O),wd(S,T.children,O),Qr(),Eo(),Zr()},I=(S,T,O,k,D,B,z,W,K=!1)=>{const $=S&&S.children,tt=S?S.shapeFlag:0,Q=T.children,{patchFlag:et,shapeFlag:nt}=T;if(et>0){if(et&128){q($,Q,O,k,D,B,z,W,K);return}else if(et&256){j($,Q,O,k,D,B,z,W,K);return}}nt&8?(tt&16&&At($,D,B),Q!==$&&c(O,Q)):tt&16?nt&16?q($,Q,O,k,D,B,z,W,K):At($,D,B,!0):(tt&8&&c(O,""),nt&16&&b(Q,O,k,D,B,z,W,K))},j=(S,T,O,k,D,B,z,W,K)=>{S=S||Gr,T=T||Gr;const $=S.length,tt=T.length,Q=Math.min($,tt);let et;for(et=0;et<Q;et++){const nt=T[et]=K?Xe(T[et]):Pe(T[et]);m(S[et],nt,O,null,D,B,z,W,K)}$>tt?At(S,D,B,!0,!1,Q):b(T,O,k,D,B,z,W,K,Q)},q=(S,T,O,k,D,B,z,W,K)=>{let $=0;const tt=T.length;let Q=S.length-1,et=tt-1;for(;$<=Q&&$<=et;){const nt=S[$],ct=T[$]=K?Xe(T[$]):Pe(T[$]);if(pr(nt,ct))m(nt,ct,O,null,D,B,z,W,K);else break;$++}for(;$<=Q&&$<=et;){const nt=S[Q],ct=T[et]=K?Xe(T[et]):Pe(T[et]);if(pr(nt,ct))m(nt,ct,O,null,D,B,z,W,K);else break;Q--,et--}if($>Q){if($<=et){const nt=et+1,ct=nt<tt?T[nt].el:k;for(;$<=et;)m(null,T[$]=K?Xe(T[$]):Pe(T[$]),O,ct,D,B,z,W,K),$++}}else if($>et)for(;$<=Q;)it(S[$],D,B,!0),$++;else{const nt=$,ct=$,xt=new Map;for($=ct;$<=et;$++){const ne=T[$]=K?Xe(T[$]):Pe(T[$]);ne.key!=null&&xt.set(ne.key,$)}let bt,Lt=0;const pe=et-ct+1;let Rr=!1,go=0;const si=new Array(pe);for($=0;$<pe;$++)si[$]=0;for($=nt;$<=Q;$++){const ne=S[$];if(Lt>=pe){it(ne,D,B,!0);continue}let Ee;if(ne.key!=null)Ee=xt.get(ne.key);else for(bt=ct;bt<=et;bt++)if(si[bt-ct]===0&&pr(ne,T[bt])){Ee=bt;break}Ee===void 0?it(ne,D,B,!0):(si[Ee-ct]=$+1,Ee>=go?go=Ee:Rr=!0,m(ne,T[Ee],O,null,D,B,z,W,K),Lt++)}const po=Rr?Pd(si):Gr;for(bt=po.length-1,$=pe-1;$>=0;$--){const ne=ct+$,Ee=T[ne],vo=ne+1<tt?T[ne+1].el:k;si[$]===0?m(null,Ee,O,vo,D,B,z,W,K):Rr&&(bt<0||$!==po[bt]?Y(Ee,O,vo,2):bt--)}}},Y=(S,T,O,k,D=null)=>{const{el:B,type:z,transition:W,children:K,shapeFlag:$}=S;if($&6){Y(S.component.subTree,T,O,k);return}if($&128){S.suspense.move(T,O,k);return}if($&64){z.move(S,T,O,X);return}if(z===Ht){i(B,T,O);for(let Q=0;Q<K.length;Q++)Y(K[Q],T,O,k);i(S.anchor,T,O);return}if(z===Fa){u(S,T,O);return}if(k!==2&&$&1&&W)if(k===0)W.beforeEnter(B),i(B,T,O),te(()=>W.enter(B),D);else{const{leave:Q,delayLeave:et,afterLeave:nt}=W,ct=()=>i(B,T,O),xt=()=>{Q(B,()=>{ct(),nt&&nt()})};et?et(B,ct,xt):xt()}else i(B,T,O)},it=(S,T,O,k=!1,D=!1)=>{const{type:B,props:z,ref:W,children:K,dynamicChildren:$,shapeFlag:tt,patchFlag:Q,dirs:et}=S;if(W!=null&&as(W,null,O,S,!0),tt&256){T.ctx.deactivate(S);return}const nt=tt&1&&et,ct=!Zi(S);let xt;if(ct&&(xt=z&&z.onVnodeBeforeUnmount)&&Te(xt,T,S),tt&6)Zt(S.component,O,k);else{if(tt&128){S.suspense.unmount(O,k);return}nt&&or(S,null,T,"beforeUnmount"),tt&64?S.type.remove(S,T,O,D,X,k):$&&(B!==Ht||Q>0&&Q&64)?At($,T,O,!1,!0):(B===Ht&&Q&384||!D&&tt&16)&&At(K,T,O),k&&dt(S)}(ct&&(xt=z&&z.onVnodeUnmounted)||nt)&&te(()=>{xt&&Te(xt,T,S),nt&&or(S,null,T,"unmounted")},O)},dt=S=>{const{type:T,el:O,anchor:k,transition:D}=S;if(T===Ht){ft(O,k);return}if(T===Fa){v(S);return}const B=()=>{n(O),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(S.shapeFlag&1&&D&&!D.persisted){const{leave:z,delayLeave:W}=D,K=()=>z(O,B);W?W(S.el,B,K):K()}else B()},ft=(S,T)=>{let O;for(;S!==T;)O=p(S),n(S),S=O;n(T)},Zt=(S,T,O)=>{const{bum:k,scope:D,update:B,subTree:z,um:W}=S;k&&Ea(k),D.stop(),B&&(B.active=!1,it(z,S,T,O)),W&&te(W,T),te(()=>{S.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&S.asyncDep&&!S.asyncResolved&&S.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},At=(S,T,O,k=!1,D=!1,B=0)=>{for(let z=B;z<S.length;z++)it(S[z],T,O,k,D)},P=S=>S.shapeFlag&6?P(S.component.subTree):S.shapeFlag&128?S.suspense.next():p(S.anchor||S.el),V=(S,T,O)=>{S==null?T._vnode&&it(T._vnode,null,null,!0):m(T._vnode||null,S,T,null,null,null,O),Eo(),dh(),T._vnode=S},X={p:m,um:it,m:Y,r:dt,mt:R,mc:b,pc:I,pbc:C,n:P,o:e};let yt,pt;return t&&([yt,pt]=t(X)),{render:V,hydrate:yt,createApp:xd(V,yt)}}function lr({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Ws(e,t,r=!1){const i=e.children,n=t.children;if(at(i)&&at(n))for(let a=0;a<i.length;a++){const s=i[a];let o=n[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[a]=Xe(n[a]),o.el=s.el),r||Ws(s,o)),o.type===Tn&&(o.el=s.el)}}function Pd(e){const t=e.slice(),r=[0];let i,n,a,s,o;const l=e.length;for(i=0;i<l;i++){const h=e[i];if(h!==0){if(n=r[r.length-1],e[n]<h){t[i]=n,r.push(i);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,e[r[o]]<h?a=o+1:s=o;h<e[r[a]]&&(a>0&&(t[i]=r[a-1]),r[a]=i)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=t[s];return r}const Ad=e=>e.__isTeleport,_i=e=>e&&(e.disabled||e.disabled===""),Lo=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ss=(e,t)=>{const r=e&&e.to;return It(r)?t?t(r):null:r},Fd={__isTeleport:!0,process(e,t,r,i,n,a,s,o,l,h){const{mc:c,pc:g,pbc:p,o:{insert:f,querySelector:d,createText:m,createComment:y}}=h,w=_i(t.props);let{shapeFlag:E,children:u,dynamicChildren:v}=t;if(e==null){const _=t.el=m(""),x=t.anchor=m("");f(_,r,i),f(x,r,i);const M=t.target=ss(t.props,d),b=t.targetAnchor=m("");M&&(f(b,M),s=s||Lo(M));const F=(C,A)=>{E&16&&c(u,C,A,n,a,s,o,l)};w?F(r,x):M&&F(M,b)}else{t.el=e.el;const _=t.anchor=e.anchor,x=t.target=e.target,M=t.targetAnchor=e.targetAnchor,b=_i(e.props),F=b?r:x,C=b?_:M;if(s=s||Lo(x),v?(p(e.dynamicChildren,v,F,n,a,s,o),Ws(e,t,!0)):l||g(e,t,F,C,n,a,s,o,!1),w)b||Hi(t,r,_,h,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const A=t.target=ss(t.props,d);A&&Hi(t,A,null,h,0)}else b&&Hi(t,x,M,h,1)}Ah(t)},remove(e,t,r,i,{um:n,o:{remove:a}},s){const{shapeFlag:o,children:l,anchor:h,targetAnchor:c,target:g,props:p}=e;if(g&&a(c),(s||!_i(p))&&(a(h),o&16))for(let f=0;f<l.length;f++){const d=l[f];n(d,t,r,!0,!!d.dynamicChildren)}},move:Hi,hydrate:Md};function Hi(e,t,r,{o:{insert:i},m:n},a=2){a===0&&i(e.targetAnchor,t,r);const{el:s,anchor:o,shapeFlag:l,children:h,props:c}=e,g=a===2;if(g&&i(s,t,r),(!g||_i(c))&&l&16)for(let p=0;p<h.length;p++)n(h[p],t,r,2);g&&i(o,t,r)}function Md(e,t,r,i,n,a,{o:{nextSibling:s,parentNode:o,querySelector:l}},h){const c=t.target=ss(t.props,l);if(c){const g=c._lpa||c.firstChild;if(t.shapeFlag&16)if(_i(t.props))t.anchor=h(s(e),t,o(e),r,i,n,a),t.targetAnchor=g;else{t.anchor=s(e);let p=g;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}h(g,t,c,r,i,n,a)}Ah(t)}return t.anchor&&s(t.anchor)}const Od=Fd;function Ah(e){const t=e.ctx;if(t&&t.ut){let r=e.children[0].el;for(;r!==e.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",t.uid),r=r.nextSibling;t.ut()}}const Ht=Symbol(void 0),Tn=Symbol(void 0),Se=Symbol(void 0),Fa=Symbol(void 0),yi=[];let ye=null;function Ot(e=!1){yi.push(ye=e?null:[])}function kd(){yi.pop(),ye=yi[yi.length-1]||null}let xi=1;function Do(e){xi+=e}function Fh(e){return e.dynamicChildren=xi>0?ye||Gr:null,kd(),xi>0&&ye&&ye.push(e),e}function Bt(e,t,r,i,n,a){return Fh(J(e,t,r,i,n,a,!0))}function zs(e,t,r,i,n){return Fh(Nt(e,t,r,i,n,!0))}function os(e){return e?e.__v_isVNode===!0:!1}function pr(e,t){return e.type===t.type&&e.key===t.key}const Pn="__vInternal",Mh=({key:e})=>e??null,tn=({ref:e,ref_key:t,ref_for:r})=>e!=null?It(e)||Kt(e)||ot(e)?{i:de,r:e,k:t,f:!!r}:e:null;function J(e,t=null,r=null,i=0,n=null,a=e===Ht?0:1,s=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Mh(t),ref:t&&tn(t),scopeId:ph,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:de};return o?(Ks(l,r),a&128&&e.normalize(l)):r&&(l.shapeFlag|=It(r)?8:16),xi>0&&!s&&ye&&(l.patchFlag>0||a&6)&&l.patchFlag!==32&&ye.push(l),l}const Nt=Rd;function Rd(e,t=null,r=null,i=0,n=null,a=!1){if((!e||e===ud)&&(e=Se),os(e)){const o=Be(e,t,!0);return r&&Ks(o,r),xi>0&&!a&&ye&&(o.shapeFlag&6?ye[ye.indexOf(e)]=o:ye.push(o)),o.patchFlag|=-2,o}if(jd(e)&&(e=e.__vccOpts),t){t=Ld(t);let{class:o,style:l}=t;o&&!It(o)&&(t.class=oe(o)),Tt(l)&&(rh(l)&&!at(l)&&(l=Xt({},l)),t.style=As(l))}const s=It(e)?1:Xu(e)?128:Ad(e)?64:Tt(e)?4:ot(e)?2:0;return J(e,t,r,i,n,s,a,!0)}function Ld(e){return e?rh(e)||Pn in e?Xt({},e):e:null}function Be(e,t,r=!1){const{props:i,ref:n,patchFlag:a,children:s}=e,o=t?Dd(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:o,key:o&&Mh(o),ref:t&&t.ref?r&&n?at(n)?n.concat(tn(t)):[n,tn(t)]:tn(t):n,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Be(e.ssContent),ssFallback:e.ssFallback&&Be(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Oh(e=" ",t=0){return Nt(Tn,null,e,t)}function Vr(e="",t=!1){return t?(Ot(),zs(Se,null,e)):Nt(Se,null,e)}function Pe(e){return e==null||typeof e=="boolean"?Nt(Se):at(e)?Nt(Ht,null,e.slice()):typeof e=="object"?Xe(e):Nt(Tn,null,String(e))}function Xe(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Be(e)}function Ks(e,t){let r=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(at(t))r=16;else if(typeof t=="object")if(i&65){const n=t.default;n&&(n._c&&(n._d=!1),Ks(e,n()),n._c&&(n._d=!0));return}else{r=32;const n=t._;!n&&!(Pn in t)?t._ctx=de:n===3&&de&&(de.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ot(t)?(t={default:t,_ctx:de},r=32):(t=String(t),i&64?(r=16,t=[Oh(t)]):r=8);e.children=t,e.shapeFlag|=r}function Dd(...e){const t={};for(let r=0;r<e.length;r++){const i=e[r];for(const n in i)if(n==="class")t.class!==i.class&&(t.class=oe([t.class,i.class]));else if(n==="style")t.style=As([t.style,i.style]);else if(_n(n)){const a=t[n],s=i[n];s&&a!==s&&!(at(a)&&a.includes(s))&&(t[n]=a?[].concat(a,s):s)}else n!==""&&(t[n]=i[n])}return t}function Te(e,t,r,i=null){fe(e,t,7,[r,i])}const Nd=Ph();let Id=0;function Gd(e,t,r){const i=e.type,n=(t?t.appContext:e.appContext)||Nd,a={uid:Id++,vnode:e,type:i,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new nu(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ch(i,n),emitsOptions:gh(i,n),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:i.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=ju.bind(null,a),e.ce&&e.ce(a),a}let Dt=null;const $d=()=>Dt||de,Kr=e=>{Dt=e,e.scope.on()},Sr=()=>{Dt&&Dt.scope.off(),Dt=null};function kh(e){return e.vnode.shapeFlag&4}let Ei=!1;function Ud(e,t=!1){Ei=t;const{props:r,children:i}=e.vnode,n=kh(e);_d(e,r,n,t),Sd(e,i);const a=n?Bd(e,t):void 0;return Ei=!1,a}function Bd(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=ih(new Proxy(e.ctx,dd));const{setup:i}=r;if(i){const n=e.setupContext=i.length>1?Vd(e):null;Kr(e),Qr();const a=Ze(i,e,0,[e.props,n]);if(Zr(),Sr(),Hl(a)){if(a.then(Sr,Sr),t)return a.then(s=>{No(e,s,t)}).catch(s=>{wn(s,e,0)});e.asyncDep=a}else No(e,a,t)}else Rh(e,t)}function No(e,t,r){ot(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tt(t)&&(e.setupState=oh(t)),Rh(e,r)}let Io;function Rh(e,t,r){const i=e.type;if(!e.render){if(!t&&Io&&!i.render){const n=i.template||Vs(e).template;if(n){const{isCustomElement:a,compilerOptions:s}=e.appContext.config,{delimiters:o,compilerOptions:l}=i,h=Xt(Xt({isCustomElement:a,delimiters:o},s),l);i.render=Io(n,h)}}e.render=i.render||be}Kr(e),Qr(),fd(e),Zr(),Sr()}function Hd(e){return new Proxy(e.attrs,{get(t,r){return ie(e,"get","$attrs"),t[r]}})}function Vd(e){const t=i=>{e.exposed=i||{}};let r;return{get attrs(){return r||(r=Hd(e))},slots:e.slots,emit:e.emit,expose:t}}function An(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(oh(ih(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in mi)return mi[r](e)},has(t,r){return r in t||r in mi}}))}function jd(e){return ot(e)&&"__vccOpts"in e}const mt=(e,t)=>Gu(e,t,Ei);function Jt(e,t,r){const i=arguments.length;return i===2?Tt(t)&&!at(t)?os(t)?Nt(e,null,[t]):Nt(e,t):Nt(e,null,t):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&os(r)&&(r=[r]),Nt(e,t,r))}const Wd=Symbol(""),zd=()=>ee(Wd),Kd="3.2.47",Yd="http://www.w3.org/2000/svg",vr=typeof document<"u"?document:null,Go=vr&&vr.createElement("template"),Xd={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,i)=>{const n=t?vr.createElementNS(Yd,e):vr.createElement(e,r?{is:r}:void 0);return e==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:e=>vr.createTextNode(e),createComment:e=>vr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,i,n,a){const s=r?r.previousSibling:t.lastChild;if(n&&(n===a||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),r),!(n===a||!(n=n.nextSibling)););else{Go.innerHTML=i?`<svg>${e}</svg>`:e;const o=Go.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}t.insertBefore(o,r)}return[s?s.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function qd(e,t,r){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Jd(e,t,r){const i=e.style,n=It(r);if(r&&!n){if(t&&!It(t))for(const a in t)r[a]==null&&ls(i,a,"");for(const a in r)ls(i,a,r[a])}else{const a=i.display;n?t!==r&&(i.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=a)}}const $o=/\s*!important$/;function ls(e,t,r){if(at(r))r.forEach(i=>ls(e,t,i));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const i=Qd(e,t);$o.test(r)?e.setProperty(Jr(i),r.replace($o,""),"important"):e[i]=r}}const Uo=["Webkit","Moz","ms"],Ma={};function Qd(e,t){const r=Ma[t];if(r)return r;let i=jr(t);if(i!=="filter"&&i in e)return Ma[t]=i;i=Wl(i);for(let n=0;n<Uo.length;n++){const a=Uo[n]+i;if(a in e)return Ma[t]=a}return t}const Bo="http://www.w3.org/1999/xlink";function Zd(e,t,r,i,n){if(i&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(Bo,t.slice(6,t.length)):e.setAttributeNS(Bo,t,r);else{const a=Xc(t);r==null||a&&!$l(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function t0(e,t,r,i,n,a,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,n,a),e[t]=r??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const l=r??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),r==null&&e.removeAttribute(t);return}let o=!1;if(r===""||r==null){const l=typeof e[t];l==="boolean"?r=$l(r):r==null&&l==="string"?(r="",o=!0):l==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(t)}function e0(e,t,r,i){e.addEventListener(t,r,i)}function r0(e,t,r,i){e.removeEventListener(t,r,i)}function i0(e,t,r,i,n=null){const a=e._vei||(e._vei={}),s=a[t];if(i&&s)s.value=i;else{const[o,l]=n0(t);if(i){const h=a[t]=o0(i,n);e0(e,o,h,l)}else s&&(r0(e,o,s,l),a[t]=void 0)}}const Ho=/(?:Once|Passive|Capture)$/;function n0(e){let t;if(Ho.test(e)){t={};let i;for(;i=e.match(Ho);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jr(e.slice(2)),t]}let Oa=0;const a0=Promise.resolve(),s0=()=>Oa||(a0.then(()=>Oa=0),Oa=Date.now());function o0(e,t){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;fe(l0(i,r.value),t,5,[i])};return r.value=e,r.attached=s0(),r}function l0(e,t){if(at(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(i=>n=>!n._stopped&&i&&i(n))}else return t}const Vo=/^on[a-z]/,h0=(e,t,r,i,n=!1,a,s,o,l)=>{t==="class"?qd(e,i,n):t==="style"?Jd(e,r,i):_n(t)?Fs(t)||i0(e,t,r,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):c0(e,t,i,n))?t0(e,t,i,a,s,o,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),Zd(e,t,i,n))};function c0(e,t,r,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Vo.test(t)&&ot(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Vo.test(t)&&It(r)?!1:t in e}const u0={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};td.props;const hs={beforeMount(e,{value:t},{transition:r}){e._vod=e.style.display==="none"?"":e.style.display,r&&t?r.beforeEnter(e):oi(e,t)},mounted(e,{value:t},{transition:r}){r&&t&&r.enter(e)},updated(e,{value:t,oldValue:r},{transition:i}){!t!=!r&&(i?t?(i.beforeEnter(e),oi(e,!0),i.enter(e)):i.leave(e,()=>{oi(e,!1)}):oi(e,t))},beforeUnmount(e,{value:t}){oi(e,t)}};function oi(e,t){e.style.display=t?e._vod:"none"}const d0=Xt({patchProp:h0},Xd);let jo;function f0(){return jo||(jo=Ed(d0))}const g0=(...e)=>{const t=f0().createApp(...e),{mount:r}=t;return t.mount=i=>{const n=p0(i);if(!n)return;const a=t._component;!ot(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.innerHTML="";const s=r(n,!1,n instanceof SVGElement);return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},t};function p0(e){return It(e)?document.querySelector(e):e}const Lh=[{name:"V-Neck Tee",url:{front:"front1",back:"back1"}},{name:"Full Sleves Tee",url:{front:"front2",back:""}}],cs=["bg-white","bg-gray-400","bg-slate-950","bg-blue-600","bg-red-500","bg-indigo-950","bg-[#5f0202]","bg-[#ffef77]","bg-[#22607c]","bg-[#bdb0d0]","bg-[#f490b6]"],Wo=rt(cs[0]),zo=rt(Lh[0]),Ko=rt("front");function Dh(){const e=Wr(Lh),t=Wr(cs),r=a=>{Wo.value=a},i=a=>{r(cs[0]),n("front"),zo.value=a},n=a=>{Ko.value=a};return{types:fr(e),styles:fr(t),selectedType:fr(zo),selectedStyle:fr(Wo),typeView:fr(Ko),setActiveStyle:r,setActiveType:i,setTypeView:n}}const v0={class:"w-full max-w-[250px]"},m0=["value"],_0={class:"text-left w-[90%]"},y0=["onClick"],b0={class:"flex my-3 align-left"},S0={class:"my-6 flex align-left"},w0=jt({__name:"RightSideOptions",emits:["download"],setup(e,{emit:t}){const{types:r,styles:i,setActiveStyle:n,setActiveType:a,selectedType:s,typeView:o,setTypeView:l}=Dh(),h=rt(),c=()=>{let p=r.find(f=>f.name===h.value.value);p&&a(p)},g=()=>{t("download")};return(p,f)=>(Ot(),Bt("div",v0,[J("select",{class:"w-full px-3 py-2 rounded font-light hover:border-none mb-5",ref_key:"select",ref:h,onChange:f[0]||(f[0]=d=>c())},[(Ot(!0),Bt(Ht,null,Hr(Wt(r),d=>(Ot(),Bt("option",{key:d.name,class:"font-light p-2",value:d.name},vi(d.name),9,m0))),128))],544),J("div",_0,[(Ot(!0),Bt(Ht,null,Hr(Wt(i),d=>(Ot(),Bt("button",{class:oe([d,"my-2 rounded-[50%] w-[30px] mx-[6px] h-[30px] hover:border-none hover:scale-110 outline outline-offset-2 outline-1"]),onClick:m=>Wt(n)(d)},null,10,y0))),256))]),ts(J("div",b0,[J("button",{onClick:f[1]||(f[1]=d=>Wt(l)("front")),class:oe([Wt(o)==="front"?"bg-[#808080] text-white":"","uppercase px-3 rounded-md py-1 border-2 mr-1"])},"Front",2),J("button",{onClick:f[2]||(f[2]=d=>Wt(l)("back")),class:oe([Wt(o)==="back"?"bg-[#808080] text-white":"","px-3 uppercase rounded-md py-1 border-2"])},"Back",2)],512),[[hs,Wt(s).url.back]]),J("div",S0,[J("button",{onClick:f[3]||(f[3]=d=>g()),class:"bg-blue-600 hover:bg-blue-500 py-2 px-4 rounded-lg font-semibold uppercase hover:scale-110 text-white"},"Download")])]))}});function ke(e,t,...r){if(e in t){let n=t[e];return typeof n=="function"?n(...r):n}let i=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(n=>`"${n}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,ke),i}var hn=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(hn||{}),Je=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Je||{});function he({visible:e=!0,features:t=0,ourProps:r,theirProps:i,...n}){var a;let s=Ih(i,r),o=Object.assign(n,{props:s});if(e||t&2&&s.static)return ka(o);if(t&1){let l=(a=s.unmount)==null||a?0:1;return ke(l,{[0](){return null},[1](){return ka({...n,props:{...s,hidden:!0,style:{display:"none"}}})}})}return ka(o)}function ka({props:e,attrs:t,slots:r,slot:i,name:n}){var a,s;let{as:o,...l}=Gh(e,["unmount","static"]),h=(a=r.default)==null?void 0:a.call(r,i),c={};if(i){let g=!1,p=[];for(let[f,d]of Object.entries(i))typeof d=="boolean"&&(g=!0),d===!0&&p.push(f);g&&(c["data-headlessui-state"]=p.join(" "))}if(o==="template"){if(h=Nh(h??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[g,...p]=h??[];if(!C0(g)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${n} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(m=>m.trim()).filter((m,y,w)=>w.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let f=Ih((s=g.props)!=null?s:{},l),d=Be(g,f);for(let m in f)m.startsWith("on")&&(d.props||(d.props={}),d.props[m]=f[m]);return d}return Array.isArray(h)&&h.length===1?h[0]:h}return Jt(o,Object.assign({},l,c),{default:()=>h})}function Nh(e){return e.flatMap(t=>t.type===Ht?Nh(t.children):[t])}function Ih(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let i of e)for(let n in i)n.startsWith("on")&&typeof i[n]=="function"?(r[n]!=null||(r[n]=[]),r[n].push(i[n])):t[n]=i[n];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(i=>[i,void 0])));for(let i in r)Object.assign(t,{[i](n,...a){let s=r[i];for(let o of s){if(n instanceof Event&&n.defaultPrevented)return;o(n,...a)}}});return t}function Gh(e,t=[]){let r=Object.assign({},e);for(let i of t)i in r&&delete r[i];return r}function C0(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let x0=0;function E0(){return++x0}function xr(){return E0()}var $h=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))($h||{});function Vt(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let Uh=Symbol("Context");var se=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(se||{});function T0(){return Ys()!==null}function Ys(){return ee(Uh,null)}function P0(e){Oe(Uh,e)}var A0=Object.defineProperty,F0=(e,t,r)=>t in e?A0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Yo=(e,t,r)=>(F0(e,typeof t!="symbol"?t+"":t,r),r);class M0{constructor(){Yo(this,"current",this.detect()),Yo(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}}let Ai=new M0;function Fi(e){if(Ai.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=Vt(e);if(t)return t.ownerDocument}return document}let us=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var qe=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(qe||{}),Bh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Bh||{}),O0=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(O0||{});function k0(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(us)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Hh=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Hh||{});function R0(e,t=0){var r;return e===((r=Fi(e))==null?void 0:r.body)?!1:ke(t,{[0](){return e.matches(us)},[1](){let i=e;for(;i!==null;){if(i.matches(us))return!0;i=i.parentElement}return!1}})}var L0=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(L0||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function wr(e){e==null||e.focus({preventScroll:!0})}let D0=["textarea","input"].join(",");function N0(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,D0))!=null?r:!1}function I0(e,t=r=>r){return e.slice().sort((r,i)=>{let n=t(r),a=t(i);if(n===null||a===null)return 0;let s=n.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function en(e,t,{sorted:r=!0,relativeTo:i=null,skipElements:n=[]}={}){var a;let s=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,o=Array.isArray(e)?r?I0(e):e:k0(e);n.length>0&&o.length>1&&(o=o.filter(d=>!n.includes(d))),i=i??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(i))-1;if(t&4)return Math.max(0,o.indexOf(i))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},g=0,p=o.length,f;do{if(g>=p||g+p<=0)return 0;let d=h+g;if(t&16)d=(d+p)%p;else{if(d<0)return 3;if(d>=p)return 1}f=o[d],f==null||f.focus(c),g+=l}while(f!==s.activeElement);return t&6&&N0(f)&&f.select(),2}function Ra(e,t,r){Ai.isServer||Ce(i=>{document.addEventListener(e,t,r),i(()=>document.removeEventListener(e,t,r))})}function G0(e,t,r=mt(()=>!0)){function i(a,s){if(!r.value||a.defaultPrevented)return;let o=s(a);if(o===null||!o.getRootNode().contains(o))return;let l=function h(c){return typeof c=="function"?h(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let h of l){if(h===null)continue;let c=h instanceof HTMLElement?h:Vt(h);if(c!=null&&c.contains(o)||a.composed&&a.composedPath().includes(c))return}return!R0(o,Hh.Loose)&&o.tabIndex!==-1&&a.preventDefault(),t(a,o)}let n=rt(null);Ra("mousedown",a=>{var s,o;r.value&&(n.value=((o=(s=a.composedPath)==null?void 0:s.call(a))==null?void 0:o[0])||a.target)},!0),Ra("click",a=>{n.value&&(i(a,()=>n.value),n.value=null)},!0),Ra("blur",a=>i(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var cn=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(cn||{});let ds=jt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:r}){return()=>{let{features:i,...n}=e,a={"aria-hidden":(i&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(i&4)===4&&(i&2)!==2&&{display:"none"}}};return he({ourProps:a,theirProps:n,slot:{},attrs:r,slots:t,name:"Hidden"})}}});function $0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function U0(e,t,r){Ai.isServer||Ce(i=>{window.addEventListener(e,t,r),i(()=>window.removeEventListener(e,t,r))})}var pi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(pi||{});function B0(){let e=rt(0);return U0("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function Vh(e,t,r,i){Ai.isServer||Ce(n=>{e=e??window,e.addEventListener(t,r,i),n(()=>e.removeEventListener(t,r,i))})}function jh(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function H0(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function Wh(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.value){let i=Vt(r);i instanceof HTMLElement&&t.add(i)}return t}var zh=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(zh||{});let li=Object.assign(jt({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:rt(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:r,expose:i}){let n=rt(null);i({el:n,$el:n});let a=mt(()=>Fi(n)),s=rt(!1);Yt(()=>s.value=!0),ge(()=>s.value=!1),j0({ownerDocument:a},mt(()=>s.value&&!!(e.features&16)));let o=W0({ownerDocument:a,container:n,initialFocus:mt(()=>e.initialFocus)},mt(()=>s.value&&!!(e.features&2)));z0({ownerDocument:a,container:n,containers:e.containers,previousActiveElement:o},mt(()=>s.value&&!!(e.features&8)));let l=B0();function h(f){let d=Vt(n);d&&(m=>m())(()=>{ke(l.value,{[pi.Forwards]:()=>{en(d,qe.First,{skipElements:[f.relatedTarget]})},[pi.Backwards]:()=>{en(d,qe.Last,{skipElements:[f.relatedTarget]})}})})}let c=rt(!1);function g(f){f.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function p(f){if(!s.value)return;let d=Wh(e.containers);Vt(n)instanceof HTMLElement&&d.add(Vt(n));let m=f.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Kh(d,m)||(c.value?en(Vt(n),ke(l.value,{[pi.Forwards]:()=>qe.Next,[pi.Backwards]:()=>qe.Previous})|qe.WrapAround,{relativeTo:f.target}):f.target instanceof HTMLElement&&wr(f.target)))}return()=>{let f={},d={ref:n,onKeydown:g,onFocusout:p},{features:m,initialFocus:y,containers:w,...E}=e;return Jt(Ht,[!!(m&4)&&Jt(ds,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:cn.Focusable}),he({ourProps:d,theirProps:{...t,...E},slot:f,attrs:t,slots:r,name:"FocusTrap"}),!!(m&4)&&Jt(ds,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:cn.Focusable})])}}}),{features:zh}),mr=[];H0(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&mr[0]!==t.target&&(mr.unshift(t.target),mr=mr.filter(r=>r!=null&&r.isConnected),mr.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function V0(e){let t=rt(mr.slice());return Me([e],([r],[i])=>{i===!0&&r===!1?jh(()=>{t.value.splice(0)}):i===!1&&r===!0&&(t.value=mr.slice())},{flush:"post"}),()=>{var r;return(r=t.value.find(i=>i!=null&&i.isConnected))!=null?r:null}}function j0({ownerDocument:e},t){let r=V0(t);Yt(()=>{Ce(()=>{var i,n;t.value||((i=e.value)==null?void 0:i.activeElement)===((n=e.value)==null?void 0:n.body)&&wr(r())},{flush:"post"})}),ge(()=>{wr(r())})}function W0({ownerDocument:e,container:t,initialFocus:r},i){let n=rt(null),a=rt(!1);return Yt(()=>a.value=!0),ge(()=>a.value=!1),Yt(()=>{Me([t,r,i],(s,o)=>{if(s.every((h,c)=>(o==null?void 0:o[c])===h)||!i.value)return;let l=Vt(t);l&&jh(()=>{var h,c;if(!a.value)return;let g=Vt(r),p=(h=e.value)==null?void 0:h.activeElement;if(g){if(g===p){n.value=p;return}}else if(l.contains(p)){n.value=p;return}g?wr(g):en(l,qe.First|qe.NoScroll)===Bh.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),n.value=(c=e.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),n}function z0({ownerDocument:e,container:t,containers:r,previousActiveElement:i},n){var a;Vh((a=e.value)==null?void 0:a.defaultView,"focus",s=>{if(!n.value)return;let o=Wh(r);Vt(t)instanceof HTMLElement&&o.add(Vt(t));let l=i.value;if(!l)return;let h=s.target;h&&h instanceof HTMLElement?Kh(o,h)?(i.value=h,wr(h)):(s.preventDefault(),s.stopPropagation(),wr(l)):wr(i.value)},!0)}function Kh(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let La=new Map,hi=new Map;function Xo(e,t=rt(!0)){Ce(r=>{var i;if(!t.value)return;let n=Vt(e);if(!n)return;r(function(){var s;if(!n)return;let o=(s=hi.get(n))!=null?s:1;if(o===1?hi.delete(n):hi.set(n,o-1),o!==1)return;let l=La.get(n);l&&(l["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",l["aria-hidden"]),n.inert=l.inert,La.delete(n))});let a=(i=hi.get(n))!=null?i:0;hi.set(n,a+1),a===0&&(La.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0)})}let Yh=Symbol("ForcePortalRootContext");function K0(){return ee(Yh,!1)}let fs=jt({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r}){return Oe(Yh,e.force),()=>{let{force:i,...n}=e;return he({theirProps:n,ourProps:{},slot:{},slots:t,attrs:r,name:"ForcePortalRoot"})}}});function Y0(e){let t=Fi(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let r=t.getElementById("headlessui-portal-root");if(r)return r;let i=t.createElement("div");return i.setAttribute("id","headlessui-portal-root"),t.body.appendChild(i)}let Xh=jt({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:r}){let i=rt(null),n=mt(()=>Fi(i)),a=K0(),s=ee(qh,null),o=rt(a===!0||s==null?Y0(i.value):s.resolveTarget());return Ce(()=>{a||s!=null&&(o.value=s.resolveTarget())}),ge(()=>{var l,h;let c=(l=n.value)==null?void 0:l.getElementById("headlessui-portal-root");c&&o.value===c&&o.value.children.length<=0&&((h=o.value.parentElement)==null||h.removeChild(o.value))}),()=>{if(o.value===null)return null;let l={ref:i,"data-headlessui-portal":""};return Jt(Od,{to:o.value},he({ourProps:l,theirProps:e,slot:{},attrs:r,slots:t,name:"Portal"}))}}}),qh=Symbol("PortalGroupContext"),X0=jt({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:r}){let i=Wr({resolveTarget(){return e.target}});return Oe(qh,i),()=>{let{target:n,...a}=e;return he({theirProps:a,ourProps:{},slot:{},attrs:t,slots:r,name:"PortalGroup"})}}}),Jh=Symbol("StackContext");var gs=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(gs||{});function q0(){return ee(Jh,()=>{})}function J0({type:e,enabled:t,element:r,onUpdate:i}){let n=q0();function a(...s){i==null||i(...s),n(...s)}Yt(()=>{Me(t,(s,o)=>{s?a(0,e,r):o===!0&&a(1,e,r)},{immediate:!0,flush:"sync"})}),ge(()=>{t.value&&a(1,e,r)}),Oe(Jh,a)}let Qh=Symbol("DescriptionContext");function Q0(){let e=ee(Qh,null);if(e===null)throw new Error("Missing parent");return e}function Z0({slot:e=rt({}),name:t="Description",props:r={}}={}){let i=rt([]);function n(a){return i.value.push(a),()=>{let s=i.value.indexOf(a);s!==-1&&i.value.splice(s,1)}}return Oe(Qh,{register:n,slot:e,name:t,props:r}),mt(()=>i.value.length>0?i.value.join(" "):void 0)}let tf=jt({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${xr()}`}},setup(e,{attrs:t,slots:r}){let i=Q0();return Yt(()=>ge(i.register(e.id))),()=>{let{name:n="Description",slot:a=rt({}),props:s={}}=i,{id:o,...l}=e,h={...Object.entries(s).reduce((c,[g,p])=>Object.assign(c,{[g]:Wt(p)}),{}),id:o};return he({ourProps:h,theirProps:l,slot:a.value,attrs:t,slots:r,name:n})}}});function ef(e){let t=Lu(e.getSnapshot());return ge(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function Fn(){let e=[],t={addEventListener(r,i,n,a){return r.addEventListener(i,n,a),t.add(()=>r.removeEventListener(i,n,a))},requestAnimationFrame(...r){let i=requestAnimationFrame(...r);t.add(()=>cancelAnimationFrame(i))},nextFrame(...r){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...r)})},setTimeout(...r){let i=setTimeout(...r);t.add(()=>clearTimeout(i))},style(r,i,n){let a=r.style.getPropertyValue(i);return Object.assign(r.style,{[i]:n}),this.add(()=>{Object.assign(r.style,{[i]:a})})},group(r){let i=Fn();return r(i),this.add(()=>i.dispose())},add(r){return e.push(r),()=>{let i=e.indexOf(r);if(i>=0)for(let n of e.splice(i,1))n()}},dispose(){for(let r of e.splice(0))r()}};return t}function rf(e,t){let r=e(),i=new Set;return{getSnapshot(){return r},subscribe(n){return i.add(n),()=>i.delete(n)},dispatch(n,...a){let s=t[n].call(r,...a);s&&(r=s,i.forEach(o=>o()))}}}function nf(){let e;return{before({doc:t}){var r;let i=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-i.clientWidth},after({doc:t,d:r}){let i=t.documentElement,n=i.clientWidth-i.offsetWidth,a=e-n;r.style(i,"paddingRight",`${a}px`)}}}function af(){if(!$0())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:r,meta:i}){function n(s){return i.containers.flatMap(o=>o()).some(o=>o.contains(s))}r.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let a=null;r.addEventListener(t,"click",s=>{if(s.target instanceof HTMLElement)try{let o=s.target.closest("a");if(!o)return;let{hash:l}=new URL(o.href),h=t.querySelector(l);h&&!n(h)&&(a=h)}catch{}},!0),r.addEventListener(t,"touchmove",s=>{s.target instanceof HTMLElement&&!n(s.target)&&s.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+e),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})}}}function sf(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function of(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let yr=rf(()=>new Map,{PUSH(e,t){var r;let i=(r=this.get(e))!=null?r:{doc:e,count:0,d:Fn(),meta:new Set};return i.count++,i.meta.add(t),this.set(e,i),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let i={doc:e,d:t,meta:of(r)},n=[af(),nf(),sf()];n.forEach(({before:a})=>a==null?void 0:a(i)),n.forEach(({after:a})=>a==null?void 0:a(i))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});yr.subscribe(()=>{let e=yr.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let i=t.get(r.doc)==="hidden",n=r.count!==0;(n&&!i||!n&&i)&&yr.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&yr.dispatch("TEARDOWN",r)}});function lf(e,t,r){let i=ef(yr),n=mt(()=>{let a=e.value?i.value.get(e.value):void 0;return a?a.count>0:!1});return Me([e,t],([a,s],[o],l)=>{if(!a||!s)return;yr.dispatch("PUSH",a,r);let h=!1;l(()=>{h||(yr.dispatch("POP",o??a,r),h=!0)})},{immediate:!0}),n}var hf=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(hf||{});let ps=Symbol("DialogContext");function Mi(e){let t=ee(ps,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Mi),r}return t}let Vi="DC8F892D-2EBD-447C-A4C8-A03058436FF4",cf=jt({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Vi},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${xr()}`}},emits:{close:e=>!0},setup(e,{emit:t,attrs:r,slots:i,expose:n}){var a;let s=rt(!1);Yt(()=>{s.value=!0});let o=rt(0),l=Ys(),h=mt(()=>e.open===Vi&&l!==null?(l.value&se.Open)===se.Open:e.open),c=rt(null),g=rt(null),p=mt(()=>Fi(c));if(n({el:c,$el:c}),!(e.open!==Vi||l!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof h.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${h.value===Vi?void 0:e.open}`);let f=mt(()=>s.value&&h.value?0:1),d=mt(()=>f.value===0),m=mt(()=>o.value>1),y=ee(ps,null)!==null,w=mt(()=>m.value?"parent":"leaf"),E=mt(()=>l!==null?(l.value&se.Closing)===se.Closing:!1),u=mt(()=>y||E.value?!1:d.value),v=mt(()=>{var R,U,H;return(H=Array.from((U=(R=p.value)==null?void 0:R.querySelectorAll("body > *"))!=null?U:[]).find(N=>N.id==="headlessui-portal-root"?!1:N.contains(Vt(g))&&N instanceof HTMLElement))!=null?H:null});Xo(v,u);let _=mt(()=>m.value?!0:d.value),x=mt(()=>{var R,U,H;return(H=Array.from((U=(R=p.value)==null?void 0:R.querySelectorAll("[data-headlessui-portal]"))!=null?U:[]).find(N=>N.contains(Vt(g))&&N instanceof HTMLElement))!=null?H:null});Xo(x,_),J0({type:"Dialog",enabled:mt(()=>f.value===0),element:c,onUpdate:(R,U)=>{if(U==="Dialog")return ke(R,{[gs.Add]:()=>o.value+=1,[gs.Remove]:()=>o.value-=1})}});let M=Z0({name:"DialogDescription",slot:mt(()=>({open:h.value}))}),b=rt(null),F={titleId:b,panelRef:rt(null),dialogState:f,setTitleId(R){b.value!==R&&(b.value=R)},close(){t("close",!1)}};Oe(ps,F);function C(){var R,U,H;return[...Array.from((U=(R=p.value)==null?void 0:R.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?U:[]).filter(N=>!(N===document.body||N===document.head||!(N instanceof HTMLElement)||N.contains(Vt(g))||F.panelRef.value&&N.contains(F.panelRef.value))),(H=F.panelRef.value)!=null?H:c.value]}let A=mt(()=>!(!d.value||m.value));G0(()=>C(),(R,U)=>{F.close(),ch(()=>U==null?void 0:U.focus())},A);let G=mt(()=>!(m.value||f.value!==0));Vh((a=p.value)==null?void 0:a.defaultView,"keydown",R=>{G.value&&(R.defaultPrevented||R.key===$h.Escape&&(R.preventDefault(),R.stopPropagation(),F.close()))});let L=mt(()=>!(E.value||f.value!==0||y));return lf(p,L,R=>{var U;return{containers:[...(U=R.containers)!=null?U:[],C]}}),Ce(R=>{if(f.value!==0)return;let U=Vt(c);if(!U)return;let H=new ResizeObserver(N=>{for(let I of N){let j=I.target.getBoundingClientRect();j.x===0&&j.y===0&&j.width===0&&j.height===0&&F.close()}});H.observe(U),R(()=>H.disconnect())}),()=>{let{id:R,open:U,initialFocus:H,...N}=e,I={...r,ref:c,id:R,role:"dialog","aria-modal":f.value===0?!0:void 0,"aria-labelledby":b.value,"aria-describedby":M.value},j={open:f.value===0};return Jt(fs,{force:!0},()=>[Jt(Xh,()=>Jt(X0,{target:c.value},()=>Jt(fs,{force:!1},()=>Jt(li,{initialFocus:H,containers:C,features:d.value?ke(w.value,{parent:li.features.RestoreFocus,leaf:li.features.All&~li.features.FocusLock}):li.features.None},()=>he({ourProps:I,theirProps:N,slot:j,attrs:r,slots:i,visible:f.value===0,features:hn.RenderStrategy|hn.Static,name:"Dialog"}))))),Jt(ds,{features:cn.Hidden,ref:g})])}}});jt({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-overlay-${xr()}`}},setup(e,{attrs:t,slots:r}){let i=Mi("DialogOverlay");function n(a){a.target===a.currentTarget&&(a.preventDefault(),a.stopPropagation(),i.close())}return()=>{let{id:a,...s}=e;return he({ourProps:{id:a,"aria-hidden":!0,onClick:n},theirProps:s,slot:{open:i.dialogState.value===0},attrs:t,slots:r,name:"DialogOverlay"})}}});jt({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-backdrop-${xr()}`}},inheritAttrs:!1,setup(e,{attrs:t,slots:r,expose:i}){let n=Mi("DialogBackdrop"),a=rt(null);return i({el:a,$el:a}),Yt(()=>{if(n.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let{id:s,...o}=e,l={id:s,ref:a,"aria-hidden":!0};return Jt(fs,{force:!0},()=>Jt(Xh,()=>he({ourProps:l,theirProps:{...t,...o},slot:{open:n.dialogState.value===0},attrs:t,slots:r,name:"DialogBackdrop"})))}}});let uf=jt({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${xr()}`}},setup(e,{attrs:t,slots:r,expose:i}){let n=Mi("DialogPanel");i({el:n.panelRef,$el:n.panelRef});function a(s){s.stopPropagation()}return()=>{let{id:s,...o}=e,l={id:s,ref:n.panelRef,onClick:a};return he({ourProps:l,theirProps:o,slot:{open:n.dialogState.value===0},attrs:t,slots:r,name:"DialogPanel"})}}}),df=jt({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${xr()}`}},setup(e,{attrs:t,slots:r}){let i=Mi("DialogTitle");return Yt(()=>{i.setTitleId(e.id),ge(()=>i.setTitleId(null))}),()=>{let{id:n,...a}=e;return he({ourProps:{id:n},theirProps:a,slot:{open:i.dialogState.value===0},attrs:t,slots:r,name:"DialogTitle"})}}}),ff=tf;function gf(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function Da(e,...t){e&&t.length>0&&e.classList.add(...t)}function ji(e,...t){e&&t.length>0&&e.classList.remove(...t)}var vs=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(vs||{});function pf(e,t){let r=Fn();if(!e)return r.dispose;let{transitionDuration:i,transitionDelay:n}=getComputedStyle(e),[a,s]=[i,n].map(o=>{let[l=0]=o.split(",").filter(Boolean).map(h=>h.includes("ms")?parseFloat(h):parseFloat(h)*1e3).sort((h,c)=>c-h);return l});return a!==0?r.setTimeout(()=>t("finished"),a+s):t("finished"),r.add(()=>t("cancelled")),r.dispose}function qo(e,t,r,i,n,a){let s=Fn(),o=a!==void 0?gf(a):()=>{};return ji(e,...n),Da(e,...t,...r),s.nextFrame(()=>{ji(e,...r),Da(e,...i),s.add(pf(e,l=>(ji(e,...i,...t),Da(e,...n),o(l))))}),s.add(()=>ji(e,...t,...r,...i,...n)),s.add(()=>o("cancelled")),s.dispose}function hr(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let Xs=Symbol("TransitionContext");var vf=(e=>(e.Visible="visible",e.Hidden="hidden",e))(vf||{});function mf(){return ee(Xs,null)!==null}function _f(){let e=ee(Xs,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function yf(){let e=ee(qs,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let qs=Symbol("NestingContext");function Mn(e){return"children"in e?Mn(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Zh(e){let t=rt([]),r=rt(!1);Yt(()=>r.value=!0),ge(()=>r.value=!1);function i(a,s=Je.Hidden){let o=t.value.findIndex(({id:l})=>l===a);o!==-1&&(ke(s,{[Je.Unmount](){t.value.splice(o,1)},[Je.Hidden](){t.value[o].state="hidden"}}),!Mn(t)&&r.value&&(e==null||e()))}function n(a){let s=t.value.find(({id:o})=>o===a);return s?s.state!=="visible"&&(s.state="visible"):t.value.push({id:a,state:"visible"}),()=>i(a,Je.Unmount)}return{children:t,register:n,unregister:i}}let tc=hn.RenderStrategy,bf=jt({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:i,expose:n}){let a=rt(0);function s(){a.value|=se.Opening,t("beforeEnter")}function o(){a.value&=~se.Opening,t("afterEnter")}function l(){a.value|=se.Closing,t("beforeLeave")}function h(){a.value&=~se.Closing,t("afterLeave")}if(!mf()&&T0())return()=>Jt(ec,{...e,onBeforeEnter:s,onAfterEnter:o,onBeforeLeave:l,onAfterLeave:h},i);let c=rt(null),g=mt(()=>e.unmount?Je.Unmount:Je.Hidden);n({el:c,$el:c});let{show:p,appear:f}=_f(),{register:d,unregister:m}=yf(),y=rt(p.value?"visible":"hidden"),w={value:!0},E=xr(),u={value:!1},v=Zh(()=>{!u.value&&y.value!=="hidden"&&(y.value="hidden",m(E),h())});Yt(()=>{let L=d(E);ge(L)}),Ce(()=>{if(g.value===Je.Hidden&&E){if(p.value&&y.value!=="visible"){y.value="visible";return}ke(y.value,{hidden:()=>m(E),visible:()=>d(E)})}});let _=hr(e.enter),x=hr(e.enterFrom),M=hr(e.enterTo),b=hr(e.entered),F=hr(e.leave),C=hr(e.leaveFrom),A=hr(e.leaveTo);Yt(()=>{Ce(()=>{if(y.value==="visible"){let L=Vt(c);if(L instanceof Comment&&L.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function G(L){let R=w.value&&!f.value,U=Vt(c);!U||!(U instanceof HTMLElement)||R||(u.value=!0,p.value&&s(),p.value||l(),L(p.value?qo(U,_,x,M,b,H=>{u.value=!1,H===vs.Finished&&o()}):qo(U,F,C,A,b,H=>{u.value=!1,H===vs.Finished&&(Mn(v)||(y.value="hidden",m(E),h()))})))}return Yt(()=>{Me([p],(L,R,U)=>{G(U),w.value=!1},{immediate:!0})}),Oe(qs,v),P0(mt(()=>ke(y.value,{visible:se.Open,hidden:se.Closed})|a.value)),()=>{let{appear:L,show:R,enter:U,enterFrom:H,enterTo:N,entered:I,leave:j,leaveFrom:q,leaveTo:Y,...it}=e,dt={ref:c},ft={...it,...f.value&&p.value&&Ai.isServer?{class:oe([r.class,it.class,..._,...x])}:{}};return he({theirProps:ft,ourProps:dt,slot:{},slots:i,attrs:r,features:tc,visible:y.value==="visible",name:"TransitionChild"})}}}),Sf=bf,ec=jt({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:r,slots:i}){let n=Ys(),a=mt(()=>e.show===null&&n!==null?(n.value&se.Open)===se.Open:e.show);Ce(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let s=rt(a.value?"visible":"hidden"),o=Zh(()=>{s.value="hidden"}),l=rt(!0),h={show:a,appear:mt(()=>e.appear||!l.value)};return Yt(()=>{Ce(()=>{l.value=!1,a.value?s.value="visible":Mn(o)||(s.value="hidden")})}),Oe(qs,o),Oe(Xs,h),()=>{let c=Gh(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),g={unmount:e.unmount};return he({ourProps:{...g,as:"template"},theirProps:{},slot:{},slots:{...i,default:()=>[Jt(Sf,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...r,...g,...c},i.default)]},attrs:{},features:tc,visible:s.value==="visible",name:"Transition"})}}});const wf={key:0,class:"fixed top-[0px] left-[0px] w-screen h-screen bg-gray-200 z-20 opacity-[50%]"},Cf=["value"],xf={key:0,class:"mx-3 text-2xl capitalize"},Ef={key:1,class:"mx-3 text-2xl capitalize"},Tf=J("hr",null,null,-1),Pf={class:"w-full flex flex-row-reverse"},Af=jt({__name:"FontFamilySelector",props:["isModalOpen"],emits:["closeModal","setFontFamily"],setup(e,{emit:t}){const r=rt("display"),i=rt(["display","handwriting"]);rt(["sedgwick","notoSerif","ruslan","majorMono","bigShoulders","almendra","monoton","nosifer","fasterOne"]),rt(["delicious","freehand","alkatra","handlee","gochi"]);const n=o=>{r.value=o.target.value},a=o=>{t("setFontFamily",o)},s=()=>{t("closeModal",!1)};return(o,l)=>(Ot(),zs(Wt(ec),{show:e.isModalOpen,enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Ir(()=>[e.isModalOpen?(Ot(),Bt("div",wf)):Vr("",!0),Nt(Wt(cf),{open:e.isModalOpen,onClose:l[16]||(l[16]=h=>s()),class:"fixed w-screen top-[0px] h-screen z-50 flex"},{default:Ir(()=>[Nt(Wt(uf),{class:"opacity-[100%] p-3 bg-white mx-auto z-20 my-auto max-w-[500px] rounded-xl"},{default:Ir(()=>[Nt(Wt(df),{class:"text-xl uppercase font-bold"},{default:Ir(()=>[Oh("Choose Font")]),_:1}),Nt(Wt(ff),null,{default:Ir(()=>[J("select",{class:"w-full mt-4 min-w-[430px] h-[40px] uppercase px-3 py-2 rounded font-light hover:border-none mb-5",onChange:l[0]||(l[0]=h=>n(h))},[(Ot(!0),Bt(Ht,null,Hr(i.value,h=>(Ot(),Bt("option",{key:h,class:"uppercase p-2",value:h},vi(h),9,Cf))),128))],32),r.value==="display"?(Ot(),Bt("ul",xf,[J("li",{onClick:l[1]||(l[1]=h=>a("sedgwick")),class:"font-sedgwick cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"sedgwick"),J("li",{onClick:l[2]||(l[2]=h=>a("notoSerif")),class:"font-notoSerif cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"notoSerif"),J("li",{onClick:l[3]||(l[3]=h=>a("ruslan")),class:"font-ruslan cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"rulsan"),J("li",{onClick:l[4]||(l[4]=h=>a("majorMono")),class:"font-majorMono cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"majorMono"),J("li",{onClick:l[5]||(l[5]=h=>a("bigShoulders")),class:"font-bigShoulders cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"bigShoulders"),J("li",{onClick:l[6]||(l[6]=h=>a("almendra")),class:"font-almendra cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"almendra"),J("li",{onClick:l[7]||(l[7]=h=>a("monoton")),class:"font-monoton cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"monoton"),J("li",{onClick:l[8]||(l[8]=h=>a("nosifer")),class:"font-nosifer cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"nosifer"),J("li",{onClick:l[9]||(l[9]=h=>a("fasterOne")),class:"font-fasterOne cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"fasterOne")])):Vr("",!0),r.value==="handwriting"?(Ot(),Bt("ul",Ef,[J("li",{onClick:l[10]||(l[10]=h=>a("delicious")),class:"font-delicious cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"delicious"),J("li",{onClick:l[11]||(l[11]=h=>a("freehand")),class:"font-freehand cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"freehand"),J("li",{onClick:l[12]||(l[12]=h=>a("alkatra")),class:"font-alkatra cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"alkatra"),J("li",{onClick:l[13]||(l[13]=h=>a("handlee")),class:"font-handlee cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"handlee"),J("li",{onClick:l[14]||(l[14]=h=>a("gochi")),class:"font-gochi cursor-pointer mt-1 hover:bg-gray-500 hover:text-white p-2 rounded"},"gochi")])):Vr("",!0)]),_:1}),Tf,J("div",Pf,[J("button",{class:"border-2 block text-right mt-3 bg-red-500 text-white py-2 px-3 font-bold rounded-lg uppercase",onClick:l[15]||(l[15]=h=>s())},"Close")])]),_:1})]),_:1},8,["open"])]),_:1},8,["show"]))}}),Ff={class:"w-full max-w-[370px]"},Mf={class:"flex align-left font-extralight"},Of={class:"mt-4"},kf=["value"],Rf={class:"flex mt-4"},Lf=["value"],Df={class:"flex mt-4"},Nf=J("label",{for:"fontsize",class:"pt-1"},"Select font Size:",-1),If=["value"],Gf=["value"],$f={class:"mt-1"},Uf=J("p",{class:"text-left font-bold"},"Padding and Background colour",-1),Bf={class:"flex"},Hf=["value"],Vf=["value"],jf=["value"],Wf={class:"flex mt-2"},zf=J("label",{for:"letter-spacing",class:"pt-1"},"Letter Spacing:",-1),Kf=["value"],Yf={key:0,class:"text-left mt-5"},Xf=jt({__name:"LeftOptions",props:["editMode","selectedData","editType"],emits:["sendData","delete","closeEditMode","sendEditData","sendImage"],setup(e,{emit:t}){const r=e,i=rt("text"),n=N=>{i.value=N,H()},a=N=>{t("sendImage",N.target.files[0])},s=[12,14,16,18,20,22,24,26,28,30,32,34,36,40,42,45,50,55,60,65,70,75,80],o=[1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18],l=[1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18];Me(()=>r.selectedData,()=>{h.value=r.selectedData.colour,c.value=r.selectedData.bgColour,g.value=r.selectedData.padding,p.value=r.selectedData.text,f.value=r.selectedData.bold,d.value=r.selectedData.italic,m.value=r.selectedData.fontSize,y.value=r.selectedData.letterSpacing,w.value=r.selectedData.fontFamily}),Me(()=>r.editType,()=>{r.editType==="art"&&(i.value="art"),r.editType==="text"&&(i.value="text")});const h=rt("#fffff"),c=rt(null),g=rt(null),p=rt(""),f=rt(!1),d=rt(!1),m=rt(12),y=rt(1),w=rt(null),E=rt(!1),u=N=>{h.value=N.target.value,r.editMode&&A()},v=()=>{f.value=!f.value,r.editMode&&A()},_=()=>{d.value=!d.value,r.editMode&&A()},x=N=>{m.value=N.target.value,r.editMode&&A()},M=N=>{p.value=N.target.value,r.editMode&&A()},b=N=>{y.value=N.target.value,r.editMode&&A()},F=N=>{g.value=N.target.value,r.editMode&&A()},C=N=>{c.value=N.target.value,r.editMode&&A()},A=()=>{let N={text:p.value,bold:f.value,italic:d.value,fontSize:m.value,colour:h.value,letterSpacing:y.value,padding:g.value,bgColour:c.value,fontFamily:w.value};t("sendEditData",N)},G=()=>{let N={text:p.value,bold:f.value,italic:d.value,fontSize:m.value,colour:h.value,letterSpacing:y.value,padding:g.value,bgColour:c.value,fontFamily:w.value};t("sendData",N)},L=N=>{E.value=N},R=N=>{w.value=N,L(!1),r.editMode&&A()},U=()=>{t("delete")},H=()=>{t("closeEditMode")};return(N,I)=>(Ot(),Bt("div",Ff,[Nt(Af,{"is-modal-open":E.value,onCloseModal:L,onSetFontFamily:R},null,8,["is-modal-open"]),J("div",Mf,[J("button",{onClick:I[0]||(I[0]=j=>n("text")),class:oe([{"bg-gray-500 text-white":i.value==="text"},"border-2 rounded hover:scale-105 font-semibold px-4 py-2 mr-2"])},"Add Text",2),J("button",{onClick:I[1]||(I[1]=j=>n("art")),class:oe([{"bg-gray-500 text-white":i.value==="art"},"px-4 py-2 rounded border-2 hover:scale-105 font-semibold"])},"Browse Art",2)]),ts(J("div",null,[J("div",Of,[e.editMode?(Ot(),Bt("button",{key:0,onClick:I[2]||(I[2]=j=>H()),class:"w-full uppercase py-2 bg-red-400 text-white rounded-md hover:bg-red-500 hover:scale-105"}," done ")):Vr("",!0),e.editMode?Vr("",!0):(Ot(),Bt("button",{key:1,onClick:I[3]||(I[3]=j=>G()),class:"w-full uppercase py-2 bg-red-400 text-white rounded-md hover:bg-red-500 hover:scale-105"},"Add Text")),J("input",{type:"text",id:"text",value:p.value,onKeyup:I[4]||(I[4]=j=>M(j)),placeholder:"Write Your Own Text Here",class:"bg-gray-50 mt-4 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"},null,40,kf),J("div",Rf,[J("input",{type:"text",value:h.value,disabled:"",class:"h-[40px] disabled:bg-gray-200 disabled:text-gray-700 rounded-md bg-gray-50 text-sm p-2.5 border border-gray-300 text-gray-900"},null,8,Lf),J("input",{type:"color",id:"head",name:"head",onChange:I[5]||(I[5]=j=>u(j)),value:"colour",class:"rounded-lg cursor-pointer ml-[-15%] text-white h-8 my-1 text-left"},null,32),J("button",{onClick:I[6]||(I[6]=j=>v()),class:oe([f.value?"text-white bg-black":"","font-bold px-4 py-2 border-2 ml-3"])},"B",2),J("button",{onClick:I[7]||(I[7]=j=>_()),class:oe([d.value?"text-white bg-black":"","font-bold px-4 py-2 border-2 ml-3"])},"/",2)]),J("div",Df,[Nf,J("select",{class:"w-fit h-[40px] mr-2 ml-3 px-3 py-2 rounded font-light hover:border-none mb-5",name:"fontsize",onChange:I[8]||(I[8]=j=>x(j))},[(Ot(),Bt(Ht,null,Hr(s,j=>J("option",{key:j,class:"font-light p-2",value:j},vi(j)+" px",9,If)),64))],32),J("input",{type:"text",placeholder:"Font Family",value:w.value,readonly:"",onClick:I[9]||(I[9]=j=>L(!0)),class:oe([`font-${w.value}`,"focus:outline-none h-[40px] cursor-pointer w-[110px] disabled:bg-gray-200 disabled:text-gray-700 rounded-md bg-gray-50 text-sm p-2.5 border border-gray-300 text-gray-900"])},null,10,Gf)]),J("div",$f,[Uf,J("div",Bf,[J("select",{class:"w-fit px-3 py-2.5 mr-2 rounded font-light hover:border-none mb-5",name:"letter-spacing",onChange:I[10]||(I[10]=j=>F(j))},[(Ot(),Bt(Ht,null,Hr(o,j=>J("option",{key:j,class:"font-light p-2",value:j},vi(j)+" px",9,Hf)),64))],32),J("input",{type:"text",value:c.value?c.value:"None",disabled:"",class:"disabled:bg-gray-200 h-[40px] disabled:text-gray-700 rounded-md bg-gray-50 text-sm p-2.5 border border-gray-300 text-gray-900"},null,8,Vf),J("input",{type:"color",id:"head",name:"head",onChange:I[11]||(I[11]=j=>C(j)),value:c.value,class:"rounded-lg cursor-pointer ml-[-15%] text-white h-8 my-1 text-left"},null,40,jf)])]),J("div",Wf,[zf,J("select",{class:"w-fit ml-3 px-3 py-2 rounded font-light hover:border-none mb-5",name:"letter-spacing",onChange:I[12]||(I[12]=j=>b(j))},[(Ot(),Bt(Ht,null,Hr(l,j=>J("option",{key:j,class:"font-light p-2",value:j},vi(j)+" px",9,Kf)),64))],32)])])],512),[[hs,i.value==="text"]]),ts(J("div",null,[J("input",{class:"mt-3 w-full",onChange:I[13]||(I[13]=j=>a(j)),type:"file",accept:"image/png, image/gif, image/jpeg"},null,32)],512),[[hs,i.value==="art"]]),e.editMode?(Ot(),Bt("div",Yf,[J("button",{onClick:I[14]||(I[14]=j=>U()),class:"bg-red-500 text-white hover:scale-105 py-2 px-4 rounded uppercase"},"Delete")])):Vr("",!0)]))}});function qf(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const r=document.implementation.createHTMLDocument(),i=r.createElement("base"),n=r.createElement("a");return r.head.appendChild(i),r.body.appendChild(n),t&&(i.href=t),n.href=e,n.href}const Jf=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ge(e){const t=[];for(let r=0,i=e.length;r<i;r++)t.push(e[r]);return t}function un(e,t){const i=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return i?parseFloat(i.replace("px","")):0}function Qf(e){const t=un(e,"border-left-width"),r=un(e,"border-right-width");return e.clientWidth+t+r}function Zf(e){const t=un(e,"border-top-width"),r=un(e,"border-bottom-width");return e.clientHeight+t+r}function rc(e,t={}){const r=t.width||Qf(e),i=t.height||Zf(e);return{width:r,height:i}}function t1(){let e,t;try{t=process}catch{}const r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ae=16384;function e1(e){(e.width>ae||e.height>ae)&&(e.width>ae&&e.height>ae?e.width>e.height?(e.height*=ae/e.width,e.width=ae):(e.width*=ae/e.height,e.height=ae):e.width>ae?(e.height*=ae/e.width,e.width=ae):(e.width*=ae/e.height,e.height=ae))}function dn(e){return new Promise((t,r)=>{const i=new Image;i.decode=()=>t(i),i.onload=()=>t(i),i.onerror=r,i.crossOrigin="anonymous",i.decoding="async",i.src=e})}async function r1(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function i1(e,t,r){const i="http://www.w3.org/2000/svg",n=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject");return n.setAttribute("width",`${t}`),n.setAttribute("height",`${r}`),n.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),n.appendChild(a),a.appendChild(e),r1(n)}const re=(e,t)=>{if(e instanceof t)return!0;const r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||re(r,t)};function n1(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function a1(e){return Ge(e).map(t=>{const r=e.getPropertyValue(t),i=e.getPropertyPriority(t);return`${t}: ${r}${i?" !important":""};`}).join(" ")}function s1(e,t,r){const i=`.${e}:${t}`,n=r.cssText?n1(r):a1(r);return document.createTextNode(`${i}{${n}}`)}function Jo(e,t,r){const i=window.getComputedStyle(e,r),n=i.getPropertyValue("content");if(n===""||n==="none")return;const a=Jf();try{t.className=`${t.className} ${a}`}catch{return}const s=document.createElement("style");s.appendChild(s1(a,r,i)),t.appendChild(s)}function o1(e,t){Jo(e,t,":before"),Jo(e,t,":after")}const Qo="application/font-woff",Zo="image/jpeg",l1={woff:Qo,woff2:Qo,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Zo,jpeg:Zo,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function h1(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Js(e){const t=h1(e).toLowerCase();return l1[t]||""}function c1(e){return e.split(/,/)[1]}function ms(e){return e.search(/^(data:)/)!==-1}function ic(e,t){return`data:${t};base64,${e}`}async function nc(e,t,r){const i=await fetch(e,t);if(i.status===404)throw new Error(`Resource "${i.url}" not found`);const n=await i.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(r({res:i,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(n)})}const Na={};function u1(e,t,r){let i=e.replace(/\?.*/,"");return r&&(i=e),/ttf|otf|eot|woff2?/i.test(i)&&(i=i.replace(/.*\//,"")),t?`[${t}]${i}`:i}async function Qs(e,t,r){const i=u1(e,t,r.includeQueryParams);if(Na[i]!=null)return Na[i];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let n;try{const a=await nc(e,r.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),c1(o)));n=ic(a,t)}catch(a){n=r.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return Na[i]=n,n}async function d1(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):dn(t)}async function f1(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return dn(o)}const r=e.poster,i=Js(r),n=await Qs(r,i,t);return dn(n)}async function g1(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await On(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function p1(e,t){return re(e,HTMLCanvasElement)?d1(e):re(e,HTMLVideoElement)?f1(e,t):re(e,HTMLIFrameElement)?g1(e):e.cloneNode(!1)}const v1=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function m1(e,t,r){var i,n;let a=[];return v1(e)&&e.assignedNodes?a=Ge(e.assignedNodes()):re(e,HTMLIFrameElement)&&(!((i=e.contentDocument)===null||i===void 0)&&i.body)?a=Ge(e.contentDocument.body.childNodes):a=Ge(((n=e.shadowRoot)!==null&&n!==void 0?n:e).childNodes),a.length===0||re(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>On(o,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function _1(e,t){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):Ge(i).forEach(n=>{let a=i.getPropertyValue(n);n==="font-size"&&a.endsWith("px")&&(a=`${Math.floor(parseFloat(a.substring(0,a.length-2)))-.1}px`),re(e,HTMLIFrameElement)&&n==="display"&&a==="inline"&&(a="block"),n==="d"&&t.getAttribute("d")&&(a=`path(${t.getAttribute("d")})`),r.setProperty(n,a,i.getPropertyPriority(n))})}function y1(e,t){re(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),re(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function b1(e,t){if(re(e,HTMLSelectElement)){const r=t,i=Array.from(r.children).find(n=>e.value===n.getAttribute("value"));i&&i.setAttribute("selected","")}}function S1(e,t){return re(t,Element)&&(_1(e,t),o1(e,t),y1(e,t),b1(e,t)),t}async function w1(e,t){const r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;const i={};for(let a=0;a<r.length;a++){const o=r[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),h=document.querySelector(o);!l&&h&&!i[o]&&(i[o]=await On(h,t,!0))}}const n=Object.values(i);if(n.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<n.length;l++)o.appendChild(n[l]);e.appendChild(s)}return e}async function On(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(i=>p1(i,t)).then(i=>m1(e,i,t)).then(i=>S1(e,i)).then(i=>w1(i,t))}const ac=/url\((['"]?)([^'"]+?)\1\)/g,C1=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,x1=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function E1(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function T1(e){const t=[];return e.replace(ac,(r,i,n)=>(t.push(n),r)),t.filter(r=>!ms(r))}async function P1(e,t,r,i,n){try{const a=r?qf(t,r):t,s=Js(t);let o;if(n){const l=await n(a);o=ic(l,s)}else o=await Qs(a,s,i);return e.replace(E1(t),`$1${o}$3`)}catch{}return e}function A1(e,{preferredFontFormat:t}){return t?e.replace(x1,r=>{for(;;){const[i,,n]=C1.exec(r)||[];if(!n)return"";if(n===t)return`src: ${i};`}}):e}function sc(e){return e.search(ac)!==-1}async function oc(e,t,r){if(!sc(e))return e;const i=A1(e,r);return T1(i).reduce((a,s)=>a.then(o=>P1(o,s,t,r)),Promise.resolve(i))}async function Wi(e,t,r){var i;const n=(i=t.style)===null||i===void 0?void 0:i.getPropertyValue(e);if(n){const a=await oc(n,null,r);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function F1(e,t){await Wi("background",e,t)||await Wi("background-image",e,t),await Wi("mask",e,t)||await Wi("mask-image",e,t)}async function M1(e,t){const r=re(e,HTMLImageElement);if(!(r&&!ms(e.src))&&!(re(e,SVGImageElement)&&!ms(e.href.baseVal)))return;const i=r?e.src:e.href.baseVal,n=await Qs(i,Js(i),t);await new Promise((a,s)=>{e.onload=a,e.onerror=s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),r?(e.srcset="",e.src=n):e.href.baseVal=n})}async function O1(e,t){const i=Ge(e.childNodes).map(n=>lc(n,t));await Promise.all(i).then(()=>e)}async function lc(e,t){re(e,Element)&&(await F1(e,t),await M1(e,t),await O1(e,t))}function k1(e,t){const{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);const i=t.style;return i!=null&&Object.keys(i).forEach(n=>{r[n]=i[n]}),e}const tl={};async function el(e){let t=tl[e];if(t!=null)return t;const i=await(await fetch(e)).text();return t={url:e,cssText:i},tl[e]=t,t}async function rl(e,t){let r=e.cssText;const i=/url\(["']?([^"')]+)["']?\)/g,a=(r.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(i,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),nc(o,t.fetchRequestInit,({result:l})=>(r=r.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>r)}function il(e){if(e==null)return[];const t=[],r=/(\/\*[\s\S]*?\*\/)/gi;let i=e.replace(r,"");const n=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=n.exec(i);if(l===null)break;t.push(l[0])}i=i.replace(n,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(i);if(l===null){if(l=o.exec(i),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function R1(e,t){const r=[],i=[];return e.forEach(n=>{if("cssRules"in n)try{Ge(n.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,h=el(l).then(c=>rl(c,t)).then(c=>il(c).forEach(g=>{try{n.insertRule(g,g.startsWith("@import")?o+=1:n.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:g,error:p})}})).catch(c=>{console.error("Error loading remote css",c.toString())});i.push(h)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];n.href!=null&&i.push(el(n.href).then(o=>rl(o,t)).then(o=>il(o).forEach(l=>{s.insertRule(l,n.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(i).then(()=>(e.forEach(n=>{if("cssRules"in n)try{Ge(n.cssRules||[]).forEach(a=>{r.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${n.href}`,a)}}),r))}function L1(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>sc(t.style.getPropertyValue("src")))}async function D1(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const r=Ge(e.ownerDocument.styleSheets),i=await R1(r,t);return L1(i)}async function N1(e,t){const r=await D1(e,t);return(await Promise.all(r.map(n=>{const a=n.parentStyleSheet?n.parentStyleSheet.href:null;return oc(n.cssText,a,t)}))).join(`
`)}async function I1(e,t){const r=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await N1(e,t);if(r){const i=document.createElement("style"),n=document.createTextNode(r);i.appendChild(n),e.firstChild?e.insertBefore(i,e.firstChild):e.appendChild(i)}}async function G1(e,t={}){const{width:r,height:i}=rc(e,t),n=await On(e,t,!0);return await I1(n,t),await lc(n,t),k1(n,t),await i1(n,r,i)}async function $1(e,t={}){const{width:r,height:i}=rc(e,t),n=await G1(e,t),a=await dn(n),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||t1(),h=t.canvasWidth||r,c=t.canvasHeight||i;return s.width=h*l,s.height=c*l,t.skipAutoScale||e1(s),s.style.width=`${h}`,s.style.height=`${c}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function U1(e,t={}){return(await $1(e,t)).toDataURL("image/jpeg",t.quality||1)}const B1=""+new URL("tshirt_front-03a9b727.png",import.meta.url).href,H1=""+new URL("tshirt_back-cea004e3.png",import.meta.url).href,V1=""+new URL("full_sleeve_front_new-27619204.png",import.meta.url).href;var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fn={},W1={get exports(){return fn},set exports(e){fn=e}},kn={},hc={},ht={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._registerNode=e.Konva=e.glob=void 0;var t=Math.PI/180;function r(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}e.glob=typeof nl<"u"?nl:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},e.Konva={_global:e.glob,version:"9.0.1",isBrowser:r(),isUnminified:/param/.test(function(n){}.toString()),dblClickWindow:400,getAngle(n){return e.Konva.angleDeg?n*t:n},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return e.Konva.DD.isDragging},isDragReady(){return!!e.Konva.DD.node},releaseCanvasOnDestroy:!0,document:e.glob.document,_injectGlobal(n){e.glob.Konva=n}};const i=n=>{e.Konva[n.prototype.getClassName()]=n};e._registerNode=i,e.Konva._injectGlobal(e.Konva)})(ht);var Ft={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Util=e.Transform=void 0;const t=ht;class r{constructor(v=[1,0,0,1,0,0]){this.dirty=!1,this.m=v&&v.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new r(this.m)}copyInto(v){v.m[0]=this.m[0],v.m[1]=this.m[1],v.m[2]=this.m[2],v.m[3]=this.m[3],v.m[4]=this.m[4],v.m[5]=this.m[5]}point(v){var _=this.m;return{x:_[0]*v.x+_[2]*v.y+_[4],y:_[1]*v.x+_[3]*v.y+_[5]}}translate(v,_){return this.m[4]+=this.m[0]*v+this.m[2]*_,this.m[5]+=this.m[1]*v+this.m[3]*_,this}scale(v,_){return this.m[0]*=v,this.m[1]*=v,this.m[2]*=_,this.m[3]*=_,this}rotate(v){var _=Math.cos(v),x=Math.sin(v),M=this.m[0]*_+this.m[2]*x,b=this.m[1]*_+this.m[3]*x,F=this.m[0]*-x+this.m[2]*_,C=this.m[1]*-x+this.m[3]*_;return this.m[0]=M,this.m[1]=b,this.m[2]=F,this.m[3]=C,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(v,_){var x=this.m[0]+this.m[2]*_,M=this.m[1]+this.m[3]*_,b=this.m[2]+this.m[0]*v,F=this.m[3]+this.m[1]*v;return this.m[0]=x,this.m[1]=M,this.m[2]=b,this.m[3]=F,this}multiply(v){var _=this.m[0]*v.m[0]+this.m[2]*v.m[1],x=this.m[1]*v.m[0]+this.m[3]*v.m[1],M=this.m[0]*v.m[2]+this.m[2]*v.m[3],b=this.m[1]*v.m[2]+this.m[3]*v.m[3],F=this.m[0]*v.m[4]+this.m[2]*v.m[5]+this.m[4],C=this.m[1]*v.m[4]+this.m[3]*v.m[5]+this.m[5];return this.m[0]=_,this.m[1]=x,this.m[2]=M,this.m[3]=b,this.m[4]=F,this.m[5]=C,this}invert(){var v=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),_=this.m[3]*v,x=-this.m[1]*v,M=-this.m[2]*v,b=this.m[0]*v,F=v*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),C=v*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=_,this.m[1]=x,this.m[2]=M,this.m[3]=b,this.m[4]=F,this.m[5]=C,this}getMatrix(){return this.m}decompose(){var v=this.m[0],_=this.m[1],x=this.m[2],M=this.m[3],b=this.m[4],F=this.m[5],C=v*M-_*x;let A={x:b,y:F,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(v!=0||_!=0){var G=Math.sqrt(v*v+_*_);A.rotation=_>0?Math.acos(v/G):-Math.acos(v/G),A.scaleX=G,A.scaleY=C/G,A.skewX=(v*x+_*M)/C,A.skewY=0}else if(x!=0||M!=0){var L=Math.sqrt(x*x+M*M);A.rotation=Math.PI/2-(M>0?Math.acos(-x/L):-Math.acos(x/L)),A.scaleX=C/L,A.scaleY=L,A.skewX=0,A.skewY=(v*x+_*M)/C}return A.rotation=e.Util._getRotation(A.rotation),A}}e.Transform=r;var i="[object Array]",n="[object Number]",a="[object String]",s="[object Boolean]",o=Math.PI/180,l=180/Math.PI,h="#",c="",g="0",p="Konva warning: ",f="Konva error: ",d="rgb(",m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},y=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,w=[];const E=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(u){setTimeout(u,60)};e.Util={_isElement(u){return!!(u&&u.nodeType==1)},_isFunction(u){return!!(u&&u.constructor&&u.call&&u.apply)},_isPlainObject(u){return!!u&&u.constructor===Object},_isArray(u){return Object.prototype.toString.call(u)===i},_isNumber(u){return Object.prototype.toString.call(u)===n&&!isNaN(u)&&isFinite(u)},_isString(u){return Object.prototype.toString.call(u)===a},_isBoolean(u){return Object.prototype.toString.call(u)===s},isObject(u){return u instanceof Object},isValidSelector(u){if(typeof u!="string")return!1;var v=u[0];return v==="#"||v==="."||v===v.toUpperCase()},_sign(u){return u===0||u>0?1:-1},requestAnimFrame(u){w.push(u),w.length===1&&E(function(){const v=w;w=[],v.forEach(function(_){_()})})},createCanvasElement(){var u=document.createElement("canvas");try{u.style=u.style||{}}catch{}return u},createImageElement(){return document.createElement("img")},_isInDocument(u){for(;u=u.parentNode;)if(u==document)return!0;return!1},_urlToImage(u,v){var _=e.Util.createImageElement();_.onload=function(){v(_)},_.src=u},_rgbToHex(u,v,_){return((1<<24)+(u<<16)+(v<<8)+_).toString(16).slice(1)},_hexToRgb(u){u=u.replace(h,c);var v=parseInt(u,16);return{r:v>>16&255,g:v>>8&255,b:v&255}},getRandomColor(){for(var u=(Math.random()*16777215<<0).toString(16);u.length<6;)u=g+u;return h+u},getRGB(u){var v;return u in m?(v=m[u],{r:v[0],g:v[1],b:v[2]}):u[0]===h?this._hexToRgb(u.substring(1)):u.substr(0,4)===d?(v=y.exec(u.replace(/ /g,"")),{r:parseInt(v[1],10),g:parseInt(v[2],10),b:parseInt(v[3],10)}):{r:0,g:0,b:0}},colorToRGBA(u){return u=u||"black",e.Util._namedColorToRBA(u)||e.Util._hex3ColorToRGBA(u)||e.Util._hex4ColorToRGBA(u)||e.Util._hex6ColorToRGBA(u)||e.Util._hex8ColorToRGBA(u)||e.Util._rgbColorToRGBA(u)||e.Util._rgbaColorToRGBA(u)||e.Util._hslColorToRGBA(u)},_namedColorToRBA(u){var v=m[u.toLowerCase()];return v?{r:v[0],g:v[1],b:v[2],a:1}:null},_rgbColorToRGBA(u){if(u.indexOf("rgb(")===0){u=u.match(/rgb\(([^)]+)\)/)[1];var v=u.split(/ *, */).map(Number);return{r:v[0],g:v[1],b:v[2],a:1}}},_rgbaColorToRGBA(u){if(u.indexOf("rgba(")===0){u=u.match(/rgba\(([^)]+)\)/)[1];var v=u.split(/ *, */).map((_,x)=>_.slice(-1)==="%"?x===3?parseInt(_)/100:parseInt(_)/100*255:Number(_));return{r:v[0],g:v[1],b:v[2],a:v[3]}}},_hex8ColorToRGBA(u){if(u[0]==="#"&&u.length===9)return{r:parseInt(u.slice(1,3),16),g:parseInt(u.slice(3,5),16),b:parseInt(u.slice(5,7),16),a:parseInt(u.slice(7,9),16)/255}},_hex6ColorToRGBA(u){if(u[0]==="#"&&u.length===7)return{r:parseInt(u.slice(1,3),16),g:parseInt(u.slice(3,5),16),b:parseInt(u.slice(5,7),16),a:1}},_hex4ColorToRGBA(u){if(u[0]==="#"&&u.length===5)return{r:parseInt(u[1]+u[1],16),g:parseInt(u[2]+u[2],16),b:parseInt(u[3]+u[3],16),a:parseInt(u[4]+u[4],16)/255}},_hex3ColorToRGBA(u){if(u[0]==="#"&&u.length===4)return{r:parseInt(u[1]+u[1],16),g:parseInt(u[2]+u[2],16),b:parseInt(u[3]+u[3],16),a:1}},_hslColorToRGBA(u){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(u)){const[v,..._]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(u),x=Number(_[0])/360,M=Number(_[1])/100,b=Number(_[2])/100;let F,C,A;if(M===0)return A=b*255,{r:Math.round(A),g:Math.round(A),b:Math.round(A),a:1};b<.5?F=b*(1+M):F=b+M-b*M;const G=2*b-F,L=[0,0,0];for(let R=0;R<3;R++)C=x+1/3*-(R-1),C<0&&C++,C>1&&C--,6*C<1?A=G+(F-G)*6*C:2*C<1?A=F:3*C<2?A=G+(F-G)*(2/3-C)*6:A=G,L[R]=A*255;return{r:Math.round(L[0]),g:Math.round(L[1]),b:Math.round(L[2]),a:1}}},haveIntersection(u,v){return!(v.x>u.x+u.width||v.x+v.width<u.x||v.y>u.y+u.height||v.y+v.height<u.y)},cloneObject(u){var v={};for(var _ in u)this._isPlainObject(u[_])?v[_]=this.cloneObject(u[_]):this._isArray(u[_])?v[_]=this.cloneArray(u[_]):v[_]=u[_];return v},cloneArray(u){return u.slice(0)},degToRad(u){return u*o},radToDeg(u){return u*l},_degToRad(u){return e.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),e.Util.degToRad(u)},_radToDeg(u){return e.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),e.Util.radToDeg(u)},_getRotation(u){return t.Konva.angleDeg?e.Util.radToDeg(u):u},_capitalize(u){return u.charAt(0).toUpperCase()+u.slice(1)},throw(u){throw new Error(f+u)},error(u){console.error(f+u)},warn(u){t.Konva.showWarnings&&console.warn(p+u)},each(u,v){for(var _ in u)v(_,u[_])},_inRange(u,v,_){return v<=u&&u<_},_getProjectionToSegment(u,v,_,x,M,b){var F,C,A,G=(u-_)*(u-_)+(v-x)*(v-x);if(G==0)F=u,C=v,A=(M-_)*(M-_)+(b-x)*(b-x);else{var L=((M-u)*(_-u)+(b-v)*(x-v))/G;L<0?(F=u,C=v,A=(u-M)*(u-M)+(v-b)*(v-b)):L>1?(F=_,C=x,A=(_-M)*(_-M)+(x-b)*(x-b)):(F=u+L*(_-u),C=v+L*(x-v),A=(F-M)*(F-M)+(C-b)*(C-b))}return[F,C,A]},_getProjectionToLine(u,v,_){var x=e.Util.cloneObject(u),M=Number.MAX_VALUE;return v.forEach(function(b,F){if(!(!_&&F===v.length-1)){var C=v[(F+1)%v.length],A=e.Util._getProjectionToSegment(b.x,b.y,C.x,C.y,u.x,u.y),G=A[0],L=A[1],R=A[2];R<M&&(x.x=G,x.y=L,M=R)}}),x},_prepareArrayForTween(u,v,_){var x,M=[],b=[];if(u.length>v.length){var F=v;v=u,u=F}for(x=0;x<u.length;x+=2)M.push({x:u[x],y:u[x+1]});for(x=0;x<v.length;x+=2)b.push({x:v[x],y:v[x+1]});var C=[];return b.forEach(function(A){var G=e.Util._getProjectionToLine(A,M,_);C.push(G.x),C.push(G.y)}),C},_prepareToStringify(u){var v;u.visitedByCircularReferenceRemoval=!0;for(var _ in u)if(u.hasOwnProperty(_)&&u[_]&&typeof u[_]=="object"){if(v=Object.getOwnPropertyDescriptor(u,_),u[_].visitedByCircularReferenceRemoval||e.Util._isElement(u[_]))if(v.configurable)delete u[_];else return null;else if(e.Util._prepareToStringify(u[_])===null)if(v.configurable)delete u[_];else return null}return delete u.visitedByCircularReferenceRemoval,u},_assign(u,v){for(var _ in v)u[_]=v[_];return u},_getFirstPointerId(u){return u.touches?u.changedTouches[0].identifier:u.pointerId||999},releaseCanvas(...u){t.Konva.releaseCanvasOnDestroy&&u.forEach(v=>{v.width=0,v.height=0})},drawRoundedRectPath(u,v,_,x){let M=0,b=0,F=0,C=0;typeof x=="number"?M=b=F=C=Math.min(x,v/2,_/2):(M=Math.min(x[0]||0,v/2,_/2),b=Math.min(x[1]||0,v/2,_/2),C=Math.min(x[2]||0,v/2,_/2),F=Math.min(x[3]||0,v/2,_/2)),u.moveTo(M,0),u.lineTo(v-b,0),u.arc(v-b,b,b,Math.PI*3/2,0,!1),u.lineTo(v,_-C),u.arc(v-C,_-C,C,0,Math.PI/2,!1),u.lineTo(F,_),u.arc(F,_-F,F,Math.PI/2,Math.PI,!1),u.lineTo(0,M),u.arc(M,M,M,Math.PI,Math.PI*3/2,!1)}}})(Ft);var Pt={},lt={},Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.getComponentValidator=Z.getBooleanValidator=Z.getNumberArrayValidator=Z.getFunctionValidator=Z.getStringOrGradientValidator=Z.getStringValidator=Z.getNumberOrAutoValidator=Z.getNumberOrArrayOfNumbersValidator=Z.getNumberValidator=Z.alphaComponent=Z.RGBComponent=void 0;const Ve=ht,Mt=Ft;function je(e){return Mt.Util._isString(e)?'"'+e+'"':Object.prototype.toString.call(e)==="[object Number]"||Mt.Util._isBoolean(e)?e:Object.prototype.toString.call(e)}function z1(e){return e>255?255:e<0?0:Math.round(e)}Z.RGBComponent=z1;function K1(e){return e>1?1:e<1e-4?1e-4:e}Z.alphaComponent=K1;function Y1(){if(Ve.Konva.isUnminified)return function(e,t){return Mt.Util._isNumber(e)||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a number.'),e}}Z.getNumberValidator=Y1;function X1(e){if(Ve.Konva.isUnminified)return function(t,r){let i=Mt.Util._isNumber(t),n=Mt.Util._isArray(t)&&t.length==e;return!i&&!n&&Mt.Util.warn(je(t)+' is a not valid value for "'+r+'" attribute. The value should be a number or Array<number>('+e+")"),t}}Z.getNumberOrArrayOfNumbersValidator=X1;function q1(){if(Ve.Konva.isUnminified)return function(e,t){var r=Mt.Util._isNumber(e),i=e==="auto";return r||i||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a number or "auto".'),e}}Z.getNumberOrAutoValidator=q1;function J1(){if(Ve.Konva.isUnminified)return function(e,t){return Mt.Util._isString(e)||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a string.'),e}}Z.getStringValidator=J1;function Q1(){if(Ve.Konva.isUnminified)return function(e,t){const r=Mt.Util._isString(e),i=Object.prototype.toString.call(e)==="[object CanvasGradient]"||e&&e.addColorStop;return r||i||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a string or a native gradient.'),e}}Z.getStringOrGradientValidator=Q1;function Z1(){if(Ve.Konva.isUnminified)return function(e,t){return Mt.Util._isFunction(e)||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a function.'),e}}Z.getFunctionValidator=Z1;function tg(){if(Ve.Konva.isUnminified)return function(e,t){const r=Int8Array?Object.getPrototypeOf(Int8Array):null;return r&&e instanceof r||(Mt.Util._isArray(e)?e.forEach(function(i){Mt.Util._isNumber(i)||Mt.Util.warn('"'+t+'" attribute has non numeric element '+i+". Make sure that all elements are numbers.")}):Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a array of numbers.')),e}}Z.getNumberArrayValidator=tg;function eg(){if(Ve.Konva.isUnminified)return function(e,t){var r=e===!0||e===!1;return r||Mt.Util.warn(je(e)+' is a not valid value for "'+t+'" attribute. The value should be a boolean.'),e}}Z.getBooleanValidator=eg;function rg(e){if(Ve.Konva.isUnminified)return function(t,r){return t==null||Mt.Util.isObject(t)||Mt.Util.warn(je(t)+' is a not valid value for "'+r+'" attribute. The value should be an object with properties '+e),t}}Z.getComponentValidator=rg;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Factory=void 0;const t=Ft,r=Z;var i="get",n="set";e.Factory={addGetterSetter(a,s,o,l,h){e.Factory.addGetter(a,s,o),e.Factory.addSetter(a,s,l,h),e.Factory.addOverloadedGetterSetter(a,s)},addGetter(a,s,o){var l=i+t.Util._capitalize(s);a.prototype[l]=a.prototype[l]||function(){var h=this.attrs[s];return h===void 0?o:h}},addSetter(a,s,o,l){var h=n+t.Util._capitalize(s);a.prototype[h]||e.Factory.overWriteSetter(a,s,o,l)},overWriteSetter(a,s,o,l){var h=n+t.Util._capitalize(s);a.prototype[h]=function(c){return o&&c!==void 0&&c!==null&&(c=o.call(this,c,s)),this._setAttr(s,c),l&&l.call(this),this}},addComponentsGetterSetter(a,s,o,l,h){var c=o.length,g=t.Util._capitalize,p=i+g(s),f=n+g(s),d,m;a.prototype[p]=function(){var w={};for(d=0;d<c;d++)m=o[d],w[m]=this.getAttr(s+g(m));return w};var y=(0,r.getComponentValidator)(o);a.prototype[f]=function(w){var E=this.attrs[s],u;l&&(w=l.call(this,w)),y&&y.call(this,w,s);for(u in w)w.hasOwnProperty(u)&&this._setAttr(s+g(u),w[u]);return w||o.forEach(v=>{this._setAttr(s+g(v),void 0)}),this._fireChangeEvent(s,E,w),h&&h.call(this),this},e.Factory.addOverloadedGetterSetter(a,s)},addOverloadedGetterSetter(a,s){var o=t.Util._capitalize(s),l=n+o,h=i+o;a.prototype[s]=function(){return arguments.length?(this[l](arguments[0]),this):this[h]()}},addDeprecatedGetterSetter(a,s,o,l){t.Util.error("Adding deprecated "+s);var h=i+t.Util._capitalize(s),c=s+" property is deprecated and will be removed soon. Look at Konva change log for more information.";a.prototype[h]=function(){t.Util.error(c);var g=this.attrs[s];return g===void 0?o:g},e.Factory.addSetter(a,s,l,function(){t.Util.error(c)}),e.Factory.addOverloadedGetterSetter(a,s)},backCompat(a,s){t.Util.each(s,function(o,l){var h=a.prototype[l],c=i+t.Util._capitalize(o),g=n+t.Util._capitalize(o);function p(){h.apply(this,arguments),t.Util.error('"'+o+'" method is deprecated and will be removed soon. Use ""'+l+'" instead.')}a.prototype[o]=p,a.prototype[c]=p,a.prototype[g]=p})},afterSetFilter(){this._filterUpToDate=!1}}})(lt);var we={},$e={};Object.defineProperty($e,"__esModule",{value:!0});$e.HitContext=$e.SceneContext=$e.Context=void 0;const cc=Ft,ig=ht;function ng(e){var t=[],r=e.length,i=cc.Util,n,a;for(n=0;n<r;n++)a=e[n],i._isNumber(a)?a=Math.round(a*1e3)/1e3:i._isString(a)||(a=a+""),t.push(a);return t}var al=",",ag="(",sg=")",og="([",lg="])",hg=";",cg="()",ug="=",sl=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],dg=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"];const fg=100;class Rn{constructor(t){this.canvas=t,ig.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(t){t.fillEnabled()&&this._fill(t)}_fill(t){}strokeShape(t){t.hasStroke()&&this._stroke(t)}_stroke(t){}fillStrokeShape(t){t.attrs.fillAfterStrokeEnabled?(this.strokeShape(t),this.fillShape(t)):(this.fillShape(t),this.strokeShape(t))}getTrace(t,r){var i=this.traceArr,n=i.length,a="",s,o,l,h;for(s=0;s<n;s++)o=i[s],l=o.method,l?(h=o.args,a+=l,t?a+=cg:cc.Util._isArray(h[0])?a+=og+h.join(al)+lg:(r&&(h=h.map(c=>typeof c=="number"?Math.floor(c):c)),a+=ag+h.join(al)+sg)):(a+=o.property,t||(a+=ug+o.val)),a+=hg;return a}clearTrace(){this.traceArr=[]}_trace(t){var r=this.traceArr,i;r.push(t),i=r.length,i>=fg&&r.shift()}reset(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)}getCanvas(){return this.canvas}clear(t){var r=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,r.getWidth()/r.pixelRatio,r.getHeight()/r.pixelRatio)}_applyLineCap(t){const r=t.attrs.lineCap;r&&this.setAttr("lineCap",r)}_applyOpacity(t){var r=t.getAbsoluteOpacity();r!==1&&this.setAttr("globalAlpha",r)}_applyLineJoin(t){const r=t.attrs.lineJoin;r&&this.setAttr("lineJoin",r)}setAttr(t,r){this._context[t]=r}arc(t,r,i,n,a,s){this._context.arc(t,r,i,n,a,s)}arcTo(t,r,i,n,a){this._context.arcTo(t,r,i,n,a)}beginPath(){this._context.beginPath()}bezierCurveTo(t,r,i,n,a,s){this._context.bezierCurveTo(t,r,i,n,a,s)}clearRect(t,r,i,n){this._context.clearRect(t,r,i,n)}clip(){this._context.clip()}closePath(){this._context.closePath()}createImageData(t,r){var i=arguments;if(i.length===2)return this._context.createImageData(t,r);if(i.length===1)return this._context.createImageData(t)}createLinearGradient(t,r,i,n){return this._context.createLinearGradient(t,r,i,n)}createPattern(t,r){return this._context.createPattern(t,r)}createRadialGradient(t,r,i,n,a,s){return this._context.createRadialGradient(t,r,i,n,a,s)}drawImage(t,r,i,n,a,s,o,l,h){var c=arguments,g=this._context;c.length===3?g.drawImage(t,r,i):c.length===5?g.drawImage(t,r,i,n,a):c.length===9&&g.drawImage(t,r,i,n,a,s,o,l,h)}ellipse(t,r,i,n,a,s,o,l){this._context.ellipse(t,r,i,n,a,s,o,l)}isPointInPath(t,r,i,n){return i?this._context.isPointInPath(i,t,r,n):this._context.isPointInPath(t,r,n)}fill(t){t?this._context.fill(t):this._context.fill()}fillRect(t,r,i,n){this._context.fillRect(t,r,i,n)}strokeRect(t,r,i,n){this._context.strokeRect(t,r,i,n)}fillText(t,r,i,n){n?this._context.fillText(t,r,i,n):this._context.fillText(t,r,i)}measureText(t){return this._context.measureText(t)}getImageData(t,r,i,n){return this._context.getImageData(t,r,i,n)}lineTo(t,r){this._context.lineTo(t,r)}moveTo(t,r){this._context.moveTo(t,r)}rect(t,r,i,n){this._context.rect(t,r,i,n)}putImageData(t,r,i){this._context.putImageData(t,r,i)}quadraticCurveTo(t,r,i,n){this._context.quadraticCurveTo(t,r,i,n)}restore(){this._context.restore()}rotate(t){this._context.rotate(t)}save(){this._context.save()}scale(t,r){this._context.scale(t,r)}setLineDash(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)}getLineDash(){return this._context.getLineDash()}setTransform(t,r,i,n,a,s){this._context.setTransform(t,r,i,n,a,s)}stroke(t){t?this._context.stroke(t):this._context.stroke()}strokeText(t,r,i,n){this._context.strokeText(t,r,i,n)}transform(t,r,i,n,a,s){this._context.transform(t,r,i,n,a,s)}translate(t,r){this._context.translate(t,r)}_enableTrace(){var t=this,r=sl.length,i=this.setAttr,n,a,s=function(o){var l=t[o],h;t[o]=function(){return a=ng(Array.prototype.slice.call(arguments,0)),h=l.apply(t,arguments),t._trace({method:o,args:a}),h}};for(n=0;n<r;n++)s(sl[n]);t.setAttr=function(){i.apply(t,arguments);var o=arguments[0],l=arguments[1];(o==="shadowOffsetX"||o==="shadowOffsetY"||o==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),t._trace({property:o,val:l})}}_applyGlobalCompositeOperation(t){const r=t.attrs.globalCompositeOperation;var i=!r||r==="source-over";i||this.setAttr("globalCompositeOperation",r)}}$e.Context=Rn;dg.forEach(function(e){Object.defineProperty(Rn.prototype,e,{get(){return this._context[e]},set(t){this._context[e]=t}})});class gg extends Rn{constructor(t,{willReadFrequently:r=!1}={}){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:r})}_fillColor(t){var r=t.fill();this.setAttr("fillStyle",r),t._fillFunc(this)}_fillPattern(t){this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)}_fillLinearGradient(t){var r=t._getLinearGradient();r&&(this.setAttr("fillStyle",r),t._fillFunc(this))}_fillRadialGradient(t){const r=t._getRadialGradient();r&&(this.setAttr("fillStyle",r),t._fillFunc(this))}_fill(t){const r=t.fill(),i=t.getFillPriority();if(r&&i==="color"){this._fillColor(t);return}const n=t.getFillPatternImage();if(n&&i==="pattern"){this._fillPattern(t);return}const a=t.getFillLinearGradientColorStops();if(a&&i==="linear-gradient"){this._fillLinearGradient(t);return}const s=t.getFillRadialGradientColorStops();if(s&&i==="radial-gradient"){this._fillRadialGradient(t);return}r?this._fillColor(t):n?this._fillPattern(t):a?this._fillLinearGradient(t):s&&this._fillRadialGradient(t)}_strokeLinearGradient(t){const r=t.getStrokeLinearGradientStartPoint(),i=t.getStrokeLinearGradientEndPoint(),n=t.getStrokeLinearGradientColorStops(),a=this.createLinearGradient(r.x,r.y,i.x,i.y);if(n){for(var s=0;s<n.length;s+=2)a.addColorStop(n[s],n[s+1]);this.setAttr("strokeStyle",a)}}_stroke(t){var r=t.dash(),i=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!i){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t),r&&t.dashEnabled()&&(this.setLineDash(r),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)");var a=t.getStrokeLinearGradientColorStops();a?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),i||this.restore()}}_applyShadow(t){var r,i,n,a=(r=t.getShadowRGBA())!==null&&r!==void 0?r:"black",s=(i=t.getShadowBlur())!==null&&i!==void 0?i:5,o=(n=t.getShadowOffset())!==null&&n!==void 0?n:{x:0,y:0},l=t.getAbsoluteScale(),h=this.canvas.getPixelRatio(),c=l.x*h,g=l.y*h;this.setAttr("shadowColor",a),this.setAttr("shadowBlur",s*Math.min(Math.abs(c),Math.abs(g))),this.setAttr("shadowOffsetX",o.x*c),this.setAttr("shadowOffsetY",o.y*g)}}$e.SceneContext=gg;class pg extends Rn{constructor(t){super(t),this._context=t._canvas.getContext("2d",{willReadFrequently:!0})}_fill(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()}strokeShape(t){t.hasHitStroke()&&this._stroke(t)}_stroke(t){if(t.hasHitStroke()){const a=t.getStrokeScaleEnabled();if(!a){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t);var i=t.hitStrokeWidth(),n=i==="auto"?t.strokeWidth():i;this.setAttr("lineWidth",n),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),a||this.restore()}}}$e.HitContext=pg;Object.defineProperty(we,"__esModule",{value:!0});we.HitCanvas=we.SceneCanvas=we.Canvas=void 0;const gn=Ft,uc=$e,dc=ht,vg=lt,mg=Z;var zi;function _g(){if(zi)return zi;var e=gn.Util.createCanvasElement(),t=e.getContext("2d");return zi=function(){var r=dc.Konva._global.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return r/i}(),gn.Util.releaseCanvas(e),zi}class Ln{constructor(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var r=t||{},i=r.pixelRatio||dc.Konva.pixelRatio||_g();this.pixelRatio=i,this._canvas=gn.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(t){var r=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/r,this.getHeight()/r)}setWidth(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}setHeight(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var r=this.pixelRatio,i=this.getContext()._context;i.scale(r,r)}getWidth(){return this.width}getHeight(){return this.height}setSize(t,r){this.setWidth(t||0),this.setHeight(r||0)}toDataURL(t,r){try{return this._canvas.toDataURL(t,r)}catch{try{return this._canvas.toDataURL()}catch(n){return gn.Util.error("Unable to get data URL. "+n.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}we.Canvas=Ln;vg.Factory.addGetterSetter(Ln,"pixelRatio",void 0,(0,mg.getNumberValidator)());class yg extends Ln{constructor(t={width:0,height:0,willReadFrequently:!1}){super(t),this.context=new uc.SceneContext(this,{willReadFrequently:t.willReadFrequently}),this.setSize(t.width,t.height)}}we.SceneCanvas=yg;class bg extends Ln{constructor(t={width:0,height:0}){super(t),this.hitCanvas=!0,this.context=new uc.HitContext(this),this.setSize(t.width,t.height)}}we.HitCanvas=bg;var Dn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DD=void 0;const t=ht,r=Ft;e.DD={get isDragging(){var i=!1;return e.DD._dragElements.forEach(n=>{n.dragStatus==="dragging"&&(i=!0)}),i},justDragged:!1,get node(){var i;return e.DD._dragElements.forEach(n=>{i=n.node}),i},_dragElements:new Map,_drag(i){const n=[];e.DD._dragElements.forEach((a,s)=>{const{node:o}=a,l=o.getStage();l.setPointersPositions(i),a.pointerId===void 0&&(a.pointerId=r.Util._getFirstPointerId(i));const h=l._changedPointerPositions.find(p=>p.id===a.pointerId);if(h){if(a.dragStatus!=="dragging"){var c=o.dragDistance(),g=Math.max(Math.abs(h.x-a.startPointerPos.x),Math.abs(h.y-a.startPointerPos.y));if(g<c||(o.startDrag({evt:i}),!o.isDragging()))return}o._setDragPosition(i,a),n.push(o)}}),n.forEach(a=>{a.fire("dragmove",{type:"dragmove",target:a,evt:i},!0)})},_endDragBefore(i){const n=[];e.DD._dragElements.forEach(a=>{const{node:s}=a,o=s.getStage();if(i&&o.setPointersPositions(i),!o._changedPointerPositions.find(c=>c.id===a.pointerId))return;(a.dragStatus==="dragging"||a.dragStatus==="stopped")&&(e.DD.justDragged=!0,t.Konva._mouseListenClick=!1,t.Konva._touchListenClick=!1,t.Konva._pointerListenClick=!1,a.dragStatus="stopped");const h=a.node.getLayer()||a.node instanceof t.Konva.Stage&&a.node;h&&n.indexOf(h)===-1&&n.push(h)}),n.forEach(a=>{a.draw()})},_endDragAfter(i){e.DD._dragElements.forEach((n,a)=>{n.dragStatus==="stopped"&&n.node.fire("dragend",{type:"dragend",target:n.node,evt:i},!0),n.dragStatus!=="dragging"&&e.DD._dragElements.delete(a)})}},t.Konva.isBrowser&&(window.addEventListener("mouseup",e.DD._endDragBefore,!0),window.addEventListener("touchend",e.DD._endDragBefore,!0),window.addEventListener("mousemove",e.DD._drag),window.addEventListener("touchmove",e.DD._drag),window.addEventListener("mouseup",e.DD._endDragAfter,!1),window.addEventListener("touchend",e.DD._endDragAfter,!1))})(Dn);Object.defineProperty(Pt,"__esModule",{value:!0});Pt.Node=void 0;const ut=Ft,Oi=lt,Ki=we,cr=ht,ue=Dn,kt=Z;var rn="absoluteOpacity",Yi="allEventListeners",Ne="absoluteTransform",ol="absoluteScale",ur="canvas",Sg="Change",wg="children",Cg="konva",_s="listening",ll="mouseenter",hl="mouseleave",cl="set",ul="Shape",nn=" ",dl="stage",Ye="transform",xg="Stage",ys="visible",Eg=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(nn);let Tg=1,st=class bs{constructor(t){this._id=Tg++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(t){(t===Ye||t===Ne)&&this._cache.get(t)?this._cache.get(t).dirty=!0:t?this._cache.delete(t):this._cache.clear()}_getCache(t,r){var i=this._cache.get(t),n=t===Ye||t===Ne,a=i===void 0||n&&i.dirty===!0;return a&&(i=r.call(this),this._cache.set(t,i)),i}_calculate(t,r,i){if(!this._attachedDepsListeners.get(t)){const n=r.map(a=>a+"Change.konva").join(nn);this.on(n,()=>{this._clearCache(t)}),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,i)}_getCanvasCache(){return this._cache.get(ur)}_clearSelfAndDescendantCache(t){this._clearCache(t),t===Ne&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(ur)){const{scene:t,filter:r,hit:i}=this._cache.get(ur);ut.Util.releaseCanvas(t,r,i),this._cache.delete(ur)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(t){var r=t||{},i={};(r.x===void 0||r.y===void 0||r.width===void 0||r.height===void 0)&&(i=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var n=Math.ceil(r.width||i.width),a=Math.ceil(r.height||i.height),s=r.pixelRatio,o=r.x===void 0?Math.floor(i.x):r.x,l=r.y===void 0?Math.floor(i.y):r.y,h=r.offset||0,c=r.drawBorder||!1,g=r.hitCanvasPixelRatio||1;if(!n||!a){ut.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}n+=h*2+1,a+=h*2+1,o-=h,l-=h;var p=new Ki.SceneCanvas({pixelRatio:s,width:n,height:a}),f=new Ki.SceneCanvas({pixelRatio:s,width:0,height:0,willReadFrequently:!0}),d=new Ki.HitCanvas({pixelRatio:g,width:n,height:a}),m=p.getContext(),y=d.getContext();return d.isCache=!0,p.isCache=!0,this._cache.delete(ur),this._filterUpToDate=!1,r.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,f.getContext()._context.imageSmoothingEnabled=!1),m.save(),y.save(),m.translate(-o,-l),y.translate(-o,-l),this._isUnderCache=!0,this._clearSelfAndDescendantCache(rn),this._clearSelfAndDescendantCache(ol),this.drawScene(p,this),this.drawHit(d,this),this._isUnderCache=!1,m.restore(),y.restore(),c&&(m.save(),m.beginPath(),m.rect(0,0,n,a),m.closePath(),m.setAttr("strokeStyle","red"),m.setAttr("lineWidth",5),m.stroke(),m.restore()),this._cache.set(ur,{scene:p,filter:f,hit:d,x:o,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(ur)}getClientRect(t){throw new Error('abstract "getClientRect" method call')}_transformedRect(t,r){var i=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],n,a,s,o,l=this.getAbsoluteTransform(r);return i.forEach(function(h){var c=l.point(h);n===void 0&&(n=s=c.x,a=o=c.y),n=Math.min(n,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),{x:n,y:a,width:s-n,height:o-a}}_drawCachedSceneCanvas(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);const r=this._getCanvasCache();t.translate(r.x,r.y);var i=this._getCachedSceneCanvas(),n=i.pixelRatio;t.drawImage(i._canvas,0,0,i.width/n,i.height/n),t.restore()}_drawCachedHitCanvas(t){var r=this._getCanvasCache(),i=r.hit;t.save(),t.translate(r.x,r.y),t.drawImage(i._canvas,0,0,i.width/i.pixelRatio,i.height/i.pixelRatio),t.restore()}_getCachedSceneCanvas(){var t=this.filters(),r=this._getCanvasCache(),i=r.scene,n=r.filter,a=n.getContext(),s,o,l,h;if(t){if(!this._filterUpToDate){var c=i.pixelRatio;n.setSize(i.width/i.pixelRatio,i.height/i.pixelRatio);try{for(s=t.length,a.clear(),a.drawImage(i._canvas,0,0,i.getWidth()/c,i.getHeight()/c),o=a.getImageData(0,0,n.getWidth(),n.getHeight()),l=0;l<s;l++){if(h=t[l],typeof h!="function"){ut.Util.error("Filter should be type of function, but got "+typeof h+" instead. Please check correct filters");continue}h.call(this,o),a.putImageData(o,0,0)}}catch(g){ut.Util.error("Unable to apply filter. "+g.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return n}return i}on(t,r){if(this._cache&&this._cache.delete(Yi),arguments.length===3)return this._delegate.apply(this,arguments);var i=t.split(nn),n=i.length,a,s,o,l,h;for(a=0;a<n;a++)s=i[a],o=s.split("."),l=o[0],h=o[1]||"",this.eventListeners[l]||(this.eventListeners[l]=[]),this.eventListeners[l].push({name:h,handler:r});return this}off(t,r){var i=(t||"").split(nn),n=i.length,a,s,o,l,h,c;if(this._cache&&this._cache.delete(Yi),!t)for(s in this.eventListeners)this._off(s);for(a=0;a<n;a++)if(o=i[a],l=o.split("."),h=l[0],c=l[1],h)this.eventListeners[h]&&this._off(h,c,r);else for(s in this.eventListeners)this._off(s,c,r);return this}dispatchEvent(t){var r={target:this,type:t.type,evt:t};return this.fire(t.type,r),this}addEventListener(t,r){return this.on(t,function(i){r.call(this,i.evt)}),this}removeEventListener(t){return this.off(t),this}_delegate(t,r,i){var n=this;this.on(t,function(a){for(var s=a.target.findAncestors(r,!0,n),o=0;o<s.length;o++)a=ut.Util.cloneObject(a),a.currentTarget=s[o],i.call(s[o],a)})}remove(){return this.isDragging()&&this.stopDrag(),ue.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(Ne),this._clearSelfAndDescendantCache(rn),this._clearSelfAndDescendantCache(ol),this._clearSelfAndDescendantCache(dl),this._clearSelfAndDescendantCache(ys),this._clearSelfAndDescendantCache(_s)}_remove(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(t){var r="get"+ut.Util._capitalize(t);return ut.Util._isFunction(this[r])?this[r]():this.attrs[t]}getAncestors(){for(var t=this.getParent(),r=[];t;)r.push(t),t=t.getParent();return r}getAttrs(){return this.attrs||{}}setAttrs(t){return this._batchTransformChanges(()=>{var r,i;if(!t)return this;for(r in t)r!==wg&&(i=cl+ut.Util._capitalize(r),ut.Util._isFunction(this[i])?this[i](t[r]):this._setAttr(r,t[r]))}),this}isListening(){return this._getCache(_s,this._isListening)}_isListening(t){if(!this.listening())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isListening(t):!0}isVisible(){return this._getCache(ys,this._isVisible)}_isVisible(t){if(!this.visible())return!1;const i=this.getParent();return i&&i!==t&&this!==t?i._isVisible(t):!0}shouldDrawHit(t,r=!1){if(t)return this._isVisible(t)&&this._isListening(t);var i=this.getLayer(),n=!1;ue.DD._dragElements.forEach(s=>{s.dragStatus==="dragging"&&(s.node.nodeType==="Stage"||s.node.getLayer()===i)&&(n=!0)});var a=!r&&!cr.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!a}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){var t=this.getDepth(),r=this,i=0,n,a,s,o;function l(h){for(n=[],a=h.length,s=0;s<a;s++)o=h[s],i++,o.nodeType!==ul&&(n=n.concat(o.getChildren().slice())),o._id===r._id&&(s=a);n.length>0&&n[0].getDepth()<=t&&l(n)}return r.nodeType!==xg&&l(r.getStage().getChildren()),i}getDepth(){for(var t=0,r=this.parent;r;)t++,r=r.parent;return t}_batchTransformChanges(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ye),this._clearSelfAndDescendantCache(Ne)),this._needClearTransformCache=!1}setPosition(t){return this._batchTransformChanges(()=>{this.x(t.x),this.y(t.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){if(!this.getStage())return null;var t=this.getStage().getPointerPosition();if(!t)return null;var r=this.getAbsoluteTransform().copy();return r.invert(),r.point(t)}getAbsolutePosition(t){let r=!1,i=this.parent;for(;i;){if(i.isCached()){r=!0;break}i=i.parent}r&&!t&&(t=!0);var n=this.getAbsoluteTransform(t).getMatrix(),a=new ut.Transform,s=this.offset();return a.m=n.slice(),a.translate(s.x,s.y),a.getTranslation()}setAbsolutePosition(t){var r=this._clearTransform();this.attrs.x=r.x,this.attrs.y=r.y,delete r.x,delete r.y,this._clearCache(Ye);var i=this._getAbsoluteTransform().copy();return i.invert(),i.translate(t.x,t.y),t={x:this.attrs.x+i.getTranslation().x,y:this.attrs.y+i.getTranslation().y},this._setTransform(r),this.setPosition({x:t.x,y:t.y}),this._clearCache(Ye),this._clearSelfAndDescendantCache(Ne),this}_setTransform(t){var r;for(r in t)this.attrs[r]=t[r]}_clearTransform(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t}move(t){var r=t.x,i=t.y,n=this.x(),a=this.y();return r!==void 0&&(n+=r),i!==void 0&&(a+=i),this.setPosition({x:n,y:a}),this}_eachAncestorReverse(t,r){var i=[],n=this.getParent(),a,s;if(!(r&&r._id===this._id)){for(i.unshift(this);n&&(!r||n._id!==r._id);)i.unshift(n),n=n.parent;for(a=i.length,s=0;s<a;s++)t(i[s])}}rotate(t){return this.rotation(this.rotation()+t),this}moveToTop(){if(!this.parent)return ut.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index,r=this.parent.getChildren().length;return t<r-1?(this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return ut.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index,r=this.parent.getChildren().length;return t<r-1?(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return ut.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return ut.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0?(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(t){if(!this.parent)return ut.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&ut.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var r=this.index;return this.parent.children.splice(r,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(rn,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){var t=this.opacity(),r=this.getParent();return r&&!r._isUnderCache&&(t*=r.getAbsoluteOpacity()),t}moveTo(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this}toObject(){var t={},r=this.getAttrs(),i,n,a,s,o;t.attrs={};for(i in r)n=r[i],o=ut.Util.isObject(n)&&!ut.Util._isPlainObject(n)&&!ut.Util._isArray(n),!o&&(a=typeof this[i]=="function"&&this[i],delete r[i],s=a?a.call(this):null,r[i]=n,s!==n&&(t.attrs[i]=n));return t.className=this.getClassName(),ut.Util._prepareToStringify(t)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(t,r,i){var n=[];r&&this._isMatch(t)&&n.push(this);for(var a=this.parent;a;){if(a===i)return n;a._isMatch(t)&&n.push(a),a=a.parent}return n}isAncestorOf(t){return!1}findAncestor(t,r,i){return this.findAncestors(t,r,i)[0]}_isMatch(t){if(!t)return!1;if(typeof t=="function")return t(this);var r=t.replace(/ /g,"").split(","),i=r.length,n,a;for(n=0;n<i;n++)if(a=r[n],ut.Util.isValidSelector(a)||(ut.Util.warn('Selector "'+a+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),ut.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),ut.Util.warn("Konva is awesome, right?")),a.charAt(0)==="#"){if(this.id()===a.slice(1))return!0}else if(a.charAt(0)==="."){if(this.hasName(a.slice(1)))return!0}else if(this.className===a||this.nodeType===a)return!0;return!1}getLayer(){var t=this.getParent();return t?t.getLayer():null}getStage(){return this._getCache(dl,this._getStage)}_getStage(){var t=this.getParent();if(t)return t.getStage()}fire(t,r={},i){return r.target=r.target||this,i?this._fireAndBubble(t,r):this._fire(t,r),this}getAbsoluteTransform(t){return t?this._getAbsoluteTransform(t):this._getCache(Ne,this._getAbsoluteTransform)}_getAbsoluteTransform(t){var r;if(t)return r=new ut.Transform,this._eachAncestorReverse(function(n){var a=n.transformsEnabled();a==="all"?r.multiply(n.getTransform()):a==="position"&&r.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},t),r;r=this._cache.get(Ne)||new ut.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(r):r.reset();var i=this.transformsEnabled();if(i==="all")r.multiply(this.getTransform());else if(i==="position"){const n=this.attrs.x||0,a=this.attrs.y||0,s=this.attrs.offsetX||0,o=this.attrs.offsetY||0;r.translate(n-s,a-o)}return r.dirty=!1,r}getAbsoluteScale(t){for(var r=this;r;)r._isUnderCache&&(t=r),r=r.getParent();const n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ye,this._getTransform)}_getTransform(){var t,r,i=this._cache.get(Ye)||new ut.Transform;i.reset();var n=this.x(),a=this.y(),s=cr.Konva.getAngle(this.rotation()),o=(t=this.attrs.scaleX)!==null&&t!==void 0?t:1,l=(r=this.attrs.scaleY)!==null&&r!==void 0?r:1,h=this.attrs.skewX||0,c=this.attrs.skewY||0,g=this.attrs.offsetX||0,p=this.attrs.offsetY||0;return(n!==0||a!==0)&&i.translate(n,a),s!==0&&i.rotate(s),(h!==0||c!==0)&&i.skew(h,c),(o!==1||l!==1)&&i.scale(o,l),(g!==0||p!==0)&&i.translate(-1*g,-1*p),i.dirty=!1,i}clone(t){var r=ut.Util.cloneObject(this.attrs),i,n,a,s,o;for(i in t)r[i]=t[i];var l=new this.constructor(r);for(i in this.eventListeners)for(n=this.eventListeners[i],a=n.length,s=0;s<a;s++)o=n[s],o.name.indexOf(Cg)<0&&(l.eventListeners[i]||(l.eventListeners[i]=[]),l.eventListeners[i].push(o));return l}_toKonvaCanvas(t){t=t||{};var r=this.getClientRect(),i=this.getStage(),n=t.x!==void 0?t.x:Math.floor(r.x),a=t.y!==void 0?t.y:Math.floor(r.y),s=t.pixelRatio||1,o=new Ki.SceneCanvas({width:t.width||Math.ceil(r.width)||(i?i.width():0),height:t.height||Math.ceil(r.height)||(i?i.height():0),pixelRatio:s}),l=o.getContext();return t.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(n||a)&&l.translate(-1*n,-1*a),this.drawScene(o),l.restore(),o}toCanvas(t){return this._toKonvaCanvas(t)._canvas}toDataURL(t){t=t||{};var r=t.mimeType||null,i=t.quality||null,n=this._toKonvaCanvas(t).toDataURL(r,i);return t.callback&&t.callback(n),n}toImage(t){return new Promise((r,i)=>{try{const n=t==null?void 0:t.callback;n&&delete t.callback,ut.Util._urlToImage(this.toDataURL(t),function(a){r(a),n==null||n(a)})}catch(n){i(n)}})}toBlob(t){return new Promise((r,i)=>{try{const n=t==null?void 0:t.callback;n&&delete t.callback,this.toCanvas(t).toBlob(a=>{r(a),n==null||n(a)})}catch(n){i(n)}})}setSize(t){return this.width(t.width),this.height(t.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():cr.Konva.dragDistance}_off(t,r,i){var n=this.eventListeners[t],a,s,o;for(a=0;a<n.length;a++)if(s=n[a].name,o=n[a].handler,(s!=="konva"||r==="konva")&&(!r||s===r)&&(!i||i===o)){if(n.splice(a,1),n.length===0){delete this.eventListeners[t];break}a--}}_fireChangeEvent(t,r,i){this._fire(t+Sg,{oldVal:r,newVal:i})}addName(t){if(!this.hasName(t)){var r=this.name(),i=r?r+" "+t:t;this.name(i)}return this}hasName(t){if(!t)return!1;const r=this.name();if(!r)return!1;var i=(r||"").split(/\s/g);return i.indexOf(t)!==-1}removeName(t){var r=(this.name()||"").split(/\s/g),i=r.indexOf(t);return i!==-1&&(r.splice(i,1),this.name(r.join(" "))),this}setAttr(t,r){var i=this[cl+ut.Util._capitalize(t)];return ut.Util._isFunction(i)?i.call(this,r):this._setAttr(t,r),this}_requestDraw(){if(cr.Konva.autoDrawEnabled){const t=this.getLayer()||this.getStage();t==null||t.batchDraw()}}_setAttr(t,r){var i=this.attrs[t];i===r&&!ut.Util.isObject(r)||(r==null?delete this.attrs[t]:this.attrs[t]=r,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,r),this._requestDraw())}_setComponentAttr(t,r,i){var n;i!==void 0&&(n=this.attrs[t],n||(this.attrs[t]=this.getAttr(t)),this.attrs[t][r]=i,this._fireChangeEvent(t,n,i))}_fireAndBubble(t,r,i){r&&this.nodeType===ul&&(r.target=this);var n=(t===ll||t===hl)&&(i&&(this===i||this.isAncestorOf&&this.isAncestorOf(i))||this.nodeType==="Stage"&&!i);if(!n){this._fire(t,r);var a=(t===ll||t===hl)&&i&&i.isAncestorOf&&i.isAncestorOf(this)&&!i.isAncestorOf(this.parent);(r&&!r.cancelBubble||!r)&&this.parent&&this.parent.isListening()&&!a&&(i&&i.parent?this._fireAndBubble.call(this.parent,t,r,i):this._fireAndBubble.call(this.parent,t,r))}}_getProtoListeners(t){var r,i,n;const a=(r=this._cache.get(Yi))!==null&&r!==void 0?r:{};let s=a==null?void 0:a[t];if(s===void 0){s=[];let o=Object.getPrototypeOf(this);for(;o;){const l=(n=(i=o.eventListeners)===null||i===void 0?void 0:i[t])!==null&&n!==void 0?n:[];s.push(...l),o=Object.getPrototypeOf(o)}a[t]=s,this._cache.set(Yi,a)}return s}_fire(t,r){r=r||{},r.currentTarget=this,r.type=t;const i=this._getProtoListeners(t);if(i)for(var n=0;n<i.length;n++)i[n].handler.call(this,r);const a=this.eventListeners[t];if(a)for(var n=0;n<a.length;n++)a[n].handler.call(this,r)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(t){var r=t?t.pointerId:void 0,i=this.getStage(),n=this.getAbsolutePosition(),a=i._getPointerById(r)||i._changedPointerPositions[0]||n;ue.DD._dragElements.set(this._id,{node:this,startPointerPos:a,offset:{x:a.x-n.x,y:a.y-n.y},dragStatus:"ready",pointerId:r})}startDrag(t,r=!0){ue.DD._dragElements.has(this._id)||this._createDragElement(t);const i=ue.DD._dragElements.get(this._id);i.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},r)}_setDragPosition(t,r){const i=this.getStage()._getPointerById(r.pointerId);if(i){var n={x:i.x-r.offset.x,y:i.y-r.offset.y},a=this.dragBoundFunc();if(a!==void 0){const s=a.call(this,n,t);s?n=s:ut.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==n.x||this._lastPos.y!==n.y)&&(this.setAbsolutePosition(n),this._requestDraw()),this._lastPos=n}}stopDrag(t){const r=ue.DD._dragElements.get(this._id);r&&(r.dragStatus="stopped"),ue.DD._endDragBefore(t),ue.DD._endDragAfter(t)}setDraggable(t){this._setAttr("draggable",t),this._dragChange()}isDragging(){const t=ue.DD._dragElements.get(this._id);return t?t.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(t){var r=t.evt.button!==void 0,i=!r||cr.Konva.dragButtons.indexOf(t.evt.button)>=0;if(i&&!this.isDragging()){var n=!1;ue.DD._dragElements.forEach(a=>{this.isAncestorOf(a.node)&&(n=!0)}),n||this._createDragElement(t)}})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{this._dragCleanup();var t=this.getStage();if(!t)return;const r=ue.DD._dragElements.get(this._id),i=r&&r.dragStatus==="dragging",n=r&&r.dragStatus==="ready";i?this.stopDrag():n&&ue.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(t={x:0,y:0}){const r=this.getStage();if(!r)return!1;const i={x:-t.x,y:-t.y,width:r.width()+2*t.x,height:r.height()+2*t.y};return ut.Util.haveIntersection(i,this.getClientRect())}static create(t,r){return ut.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,r)}static _createNode(t,r){var i=bs.prototype.getClassName.call(t),n=t.children,a,s,o;r&&(t.attrs.container=r),cr.Konva[i]||(ut.Util.warn('Can not find a node with class name "'+i+'". Fallback to "Shape".'),i="Shape");const l=cr.Konva[i];if(a=new l(t.attrs),n)for(s=n.length,o=0;o<s;o++)a.add(bs._createNode(n[o]));return a}};Pt.Node=st;st.prototype.nodeType="Node";st.prototype._attrsAffectingSize=[];st.prototype.eventListeners={};st.prototype.on.call(st.prototype,Eg,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ye),this._clearSelfAndDescendantCache(Ne)});st.prototype.on.call(st.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ys)});st.prototype.on.call(st.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(_s)});st.prototype.on.call(st.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(rn)});const Ct=Oi.Factory.addGetterSetter;Ct(st,"zIndex");Ct(st,"absolutePosition");Ct(st,"position");Ct(st,"x",0,(0,kt.getNumberValidator)());Ct(st,"y",0,(0,kt.getNumberValidator)());Ct(st,"globalCompositeOperation","source-over",(0,kt.getStringValidator)());Ct(st,"opacity",1,(0,kt.getNumberValidator)());Ct(st,"name","",(0,kt.getStringValidator)());Ct(st,"id","",(0,kt.getStringValidator)());Ct(st,"rotation",0,(0,kt.getNumberValidator)());Oi.Factory.addComponentsGetterSetter(st,"scale",["x","y"]);Ct(st,"scaleX",1,(0,kt.getNumberValidator)());Ct(st,"scaleY",1,(0,kt.getNumberValidator)());Oi.Factory.addComponentsGetterSetter(st,"skew",["x","y"]);Ct(st,"skewX",0,(0,kt.getNumberValidator)());Ct(st,"skewY",0,(0,kt.getNumberValidator)());Oi.Factory.addComponentsGetterSetter(st,"offset",["x","y"]);Ct(st,"offsetX",0,(0,kt.getNumberValidator)());Ct(st,"offsetY",0,(0,kt.getNumberValidator)());Ct(st,"dragDistance",null,(0,kt.getNumberValidator)());Ct(st,"width",0,(0,kt.getNumberValidator)());Ct(st,"height",0,(0,kt.getNumberValidator)());Ct(st,"listening",!0,(0,kt.getBooleanValidator)());Ct(st,"preventDefault",!0,(0,kt.getBooleanValidator)());Ct(st,"filters",null,function(e){return this._filterUpToDate=!1,e});Ct(st,"visible",!0,(0,kt.getBooleanValidator)());Ct(st,"transformsEnabled","all",(0,kt.getStringValidator)());Ct(st,"size");Ct(st,"dragBoundFunc");Ct(st,"draggable",!1,(0,kt.getBooleanValidator)());Oi.Factory.backCompat(st,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.Container=void 0;const ti=lt,Ia=Pt,Nn=Z;class Tr extends Ia.Node{constructor(){super(...arguments),this.children=[]}getChildren(t){if(!t)return this.children||[];const r=this.children||[];var i=[];return r.forEach(function(n){t(n)&&i.push(n)}),i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(t=>{t.parent=null,t.index=0,t.destroy()}),this.children=[],this._requestDraw(),this}add(...t){if(t.length===0)return this;if(t.length>1){for(var r=0;r<t.length;r++)this.add(t[r]);return this}const i=t[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(t){return this._generalFind(t,!1)}findOne(t){var r=this._generalFind(t,!0);return r.length>0?r[0]:void 0}_generalFind(t,r){var i=[];return this._descendants(n=>{const a=n._isMatch(t);return a&&i.push(n),!!(a&&r)}),i}_descendants(t){let r=!1;const i=this.getChildren();for(const n of i){if(r=t(n),r)return!0;if(n.hasChildren()&&(r=n._descendants(t),r))return!0}return!1}toObject(){var t=Ia.Node.prototype.toObject.call(this);return t.children=[],this.getChildren().forEach(r=>{t.children.push(r.toObject())}),t}isAncestorOf(t){for(var r=t.getParent();r;){if(r._id===this._id)return!0;r=r.getParent()}return!1}clone(t){var r=Ia.Node.prototype.clone.call(this,t);return this.getChildren().forEach(function(i){r.add(i.clone())}),r}getAllIntersections(t){var r=[];return this.find("Shape").forEach(function(i){i.isVisible()&&i.intersects(t)&&r.push(i)}),r}_clearSelfAndDescendantCache(t){var r;super._clearSelfAndDescendantCache(t),!this.isCached()&&((r=this.children)===null||r===void 0||r.forEach(function(i){i._clearSelfAndDescendantCache(t)}))}_setChildrenIndices(){var t;(t=this.children)===null||t===void 0||t.forEach(function(r,i){r.index=i}),this._requestDraw()}drawScene(t,r){var i=this.getLayer(),n=t||i&&i.getCanvas(),a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.scene,l=n&&n.isCache;if(!this.isVisible()&&!l)return this;if(o){a.save();var h=this.getAbsoluteTransform(r).getMatrix();a.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",n,r);return this}drawHit(t,r){if(!this.shouldDrawHit(r))return this;var i=this.getLayer(),n=t||i&&i.hitCanvas,a=n&&n.getContext(),s=this._getCanvasCache(),o=s&&s.hit;if(o){a.save();var l=this.getAbsoluteTransform(r).getMatrix();a.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(a),a.restore()}else this._drawChildren("drawHit",n,r);return this}_drawChildren(t,r,i){var n,a=r&&r.getContext(),s=this.clipWidth(),o=this.clipHeight(),l=this.clipFunc(),h=s&&o||l;const c=i===this;if(h){a.save();var g=this.getAbsoluteTransform(i),p=g.getMatrix();if(a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a.beginPath(),l)l.call(this,a,this);else{var f=this.clipX(),d=this.clipY();a.rect(f,d,s,o)}a.clip(),p=g.copy().invert().getMatrix(),a.transform(p[0],p[1],p[2],p[3],p[4],p[5])}var m=!c&&this.globalCompositeOperation()!=="source-over"&&t==="drawScene";m&&(a.save(),a._applyGlobalCompositeOperation(this)),(n=this.children)===null||n===void 0||n.forEach(function(y){y[t](r,i)}),m&&a.restore(),h&&a.restore()}getClientRect(t){var r;t=t||{};var i=t.skipTransform,n=t.relativeTo,a,s,o,l,h={x:1/0,y:1/0,width:0,height:0},c=this;(r=this.children)===null||r===void 0||r.forEach(function(m){if(m.visible()){var y=m.getClientRect({relativeTo:c,skipShadow:t.skipShadow,skipStroke:t.skipStroke});y.width===0&&y.height===0||(a===void 0?(a=y.x,s=y.y,o=y.x+y.width,l=y.y+y.height):(a=Math.min(a,y.x),s=Math.min(s,y.y),o=Math.max(o,y.x+y.width),l=Math.max(l,y.y+y.height)))}});for(var g=this.find("Shape"),p=!1,f=0;f<g.length;f++){var d=g[f];if(d._isVisible(this)){p=!0;break}}return p&&a!==void 0?h={x:a,y:s,width:o-a,height:l-s}:h={x:0,y:0,width:0,height:0},i?h:this._transformedRect(h,n)}}Er.Container=Tr;ti.Factory.addComponentsGetterSetter(Tr,"clip",["x","y","width","height"]);ti.Factory.addGetterSetter(Tr,"clipX",void 0,(0,Nn.getNumberValidator)());ti.Factory.addGetterSetter(Tr,"clipY",void 0,(0,Nn.getNumberValidator)());ti.Factory.addGetterSetter(Tr,"clipWidth",void 0,(0,Nn.getNumberValidator)());ti.Factory.addGetterSetter(Tr,"clipHeight",void 0,(0,Nn.getNumberValidator)());ti.Factory.addGetterSetter(Tr,"clipFunc");var fc={},le={};Object.defineProperty(le,"__esModule",{value:!0});le.releaseCapture=le.setPointerCapture=le.hasPointerCapture=le.createEvent=le.getCapturedShape=void 0;const Pg=ht,Ti=new Map,gc=Pg.Konva._global.PointerEvent!==void 0;function Ag(e){return Ti.get(e)}le.getCapturedShape=Ag;function Zs(e){return{evt:e,pointerId:e.pointerId}}le.createEvent=Zs;function Fg(e,t){return Ti.get(e)===t}le.hasPointerCapture=Fg;function Mg(e,t){pc(e),t.getStage()&&(Ti.set(e,t),gc&&t._fire("gotpointercapture",Zs(new PointerEvent("gotpointercapture"))))}le.setPointerCapture=Mg;function pc(e,t){const r=Ti.get(e);if(!r)return;const i=r.getStage();i&&i.content,Ti.delete(e),gc&&r._fire("lostpointercapture",Zs(new PointerEvent("lostpointercapture")))}le.releaseCapture=pc;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Stage=e.stages=void 0;const t=Ft,r=lt,i=Er,n=ht,a=we,s=Dn,o=ht,l=le;var h="Stage",c="string",g="px",p="mouseout",f="mouseleave",d="mouseover",m="mouseenter",y="mousemove",w="mousedown",E="mouseup",u="pointermove",v="pointerdown",_="pointerup",x="pointercancel",M="lostpointercapture",b="pointerout",F="pointerleave",C="pointerover",A="pointerenter",G="contextmenu",L="touchstart",R="touchend",U="touchmove",H="touchcancel",N="wheel",I=5,j=[[m,"_pointerenter"],[w,"_pointerdown"],[y,"_pointermove"],[E,"_pointerup"],[f,"_pointerleave"],[L,"_pointerdown"],[U,"_pointermove"],[R,"_pointerup"],[H,"_pointercancel"],[d,"_pointerover"],[N,"_wheel"],[G,"_contextmenu"],[v,"_pointerdown"],[u,"_pointermove"],[_,"_pointerup"],[x,"_pointercancel"],[M,"_lostpointercapture"]];const q={mouse:{[b]:p,[F]:f,[C]:d,[A]:m,[u]:y,[v]:w,[_]:E,[x]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[b]:"touchout",[F]:"touchleave",[C]:"touchover",[A]:"touchenter",[u]:U,[v]:L,[_]:R,[x]:H,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[b]:b,[F]:F,[C]:C,[A]:A,[u]:u,[v]:v,[_]:_,[x]:x,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},Y=At=>At.indexOf("pointer")>=0?"pointer":At.indexOf("touch")>=0?"touch":"mouse",it=At=>{const P=Y(At);if(P==="pointer")return n.Konva.pointerEventsEnabled&&q.pointer;if(P==="touch")return q.touch;if(P==="mouse")return q.mouse};function dt(At={}){return(At.clipFunc||At.clipWidth||At.clipHeight)&&t.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),At}const ft="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";e.stages=[];class Zt extends i.Container{constructor(P){super(dt(P)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),e.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{dt(this.attrs)}),this._checkVisibility()}_validateAdd(P){const V=P.getType()==="Layer",X=P.getType()==="FastLayer";V||X||t.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const P=this.visible()?"":"none";this.content.style.display=P}setContainer(P){if(typeof P===c){if(P.charAt(0)==="."){var V=P.slice(1);P=document.getElementsByClassName(V)[0]}else{var X;P.charAt(0)!=="#"?X=P:X=P.slice(1),P=document.getElementById(X)}if(!P)throw"Can not find container in document with id "+X}return this._setAttr("container",P),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),P.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){var P=this.children,V=P.length,X;for(X=0;X<V;X++)P[X].clear();return this}clone(P){return P||(P={}),P.container=typeof document<"u"&&document.createElement("div"),i.Container.prototype.clone.call(this,P)}destroy(){super.destroy();var P=this.content;P&&t.Util._isInDocument(P)&&this.container().removeChild(P);var V=e.stages.indexOf(this);return V>-1&&e.stages.splice(V,1),t.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const P=this._pointerPositions[0]||this._changedPointerPositions[0];return P?{x:P.x,y:P.y}:(t.Util.warn(ft),null)}_getPointerById(P){return this._pointerPositions.find(V=>V.id===P)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(P){P=P||{},P.x=P.x||0,P.y=P.y||0,P.width=P.width||this.width(),P.height=P.height||this.height();var V=new a.SceneCanvas({width:P.width,height:P.height,pixelRatio:P.pixelRatio||1}),X=V.getContext()._context,yt=this.children;return(P.x||P.y)&&X.translate(-1*P.x,-1*P.y),yt.forEach(function(pt){if(pt.isVisible()){var S=pt._toKonvaCanvas(P);X.drawImage(S._canvas,P.x,P.y,S.getWidth()/S.getPixelRatio(),S.getHeight()/S.getPixelRatio())}}),V}getIntersection(P){if(!P)return null;var V=this.children,X=V.length,yt=X-1,pt;for(pt=yt;pt>=0;pt--){const S=V[pt].getIntersection(P);if(S)return S}return null}_resizeDOM(){var P=this.width(),V=this.height();this.content&&(this.content.style.width=P+g,this.content.style.height=V+g),this.bufferCanvas.setSize(P,V),this.bufferHitCanvas.setSize(P,V),this.children.forEach(X=>{X.setSize({width:P,height:V}),X.draw()})}add(P,...V){if(arguments.length>1){for(var X=0;X<arguments.length;X++)this.add(arguments[X]);return this}super.add(P);var yt=this.children.length;return yt>I&&t.Util.warn("The stage has "+yt+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),P.setSize({width:this.width(),height:this.height()}),P.draw(),n.Konva.isBrowser&&this.content.appendChild(P.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(P){return l.hasPointerCapture(P,this)}setPointerCapture(P){l.setPointerCapture(P,this)}releaseCapture(P){l.releaseCapture(P,this)}getLayers(){return this.children}_bindContentEvents(){n.Konva.isBrowser&&j.forEach(([P,V])=>{this.content.addEventListener(P,X=>{this[V](X)},{passive:!1})})}_pointerenter(P){this.setPointersPositions(P);const V=it(P.type);this._fire(V.pointerenter,{evt:P,target:this,currentTarget:this})}_pointerover(P){this.setPointersPositions(P);const V=it(P.type);this._fire(V.pointerover,{evt:P,target:this,currentTarget:this})}_getTargetShape(P){let V=this[P+"targetShape"];return V&&!V.getStage()&&(V=null),V}_pointerleave(P){const V=it(P.type),X=Y(P.type);if(V){this.setPointersPositions(P);var yt=this._getTargetShape(X),pt=!s.DD.isDragging||n.Konva.hitOnDragEnabled;yt&&pt?(yt._fireAndBubble(V.pointerout,{evt:P}),yt._fireAndBubble(V.pointerleave,{evt:P}),this._fire(V.pointerleave,{evt:P,target:this,currentTarget:this}),this[X+"targetShape"]=null):pt&&(this._fire(V.pointerleave,{evt:P,target:this,currentTarget:this}),this._fire(V.pointerout,{evt:P,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[]}}_pointerdown(P){const V=it(P.type),X=Y(P.type);if(V){this.setPointersPositions(P);var yt=!1;this._changedPointerPositions.forEach(pt=>{var S=this.getIntersection(pt);if(s.DD.justDragged=!1,n.Konva["_"+X+"ListenClick"]=!0,!(S&&S.isListening()))return;n.Konva.capturePointerEventsEnabled&&S.setPointerCapture(pt.id),this[X+"ClickStartShape"]=S,S._fireAndBubble(V.pointerdown,{evt:P,pointerId:pt.id}),yt=!0;const O=P.type.indexOf("touch")>=0;S.preventDefault()&&P.cancelable&&O&&P.preventDefault()}),yt||this._fire(V.pointerdown,{evt:P,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}}_pointermove(P){const V=it(P.type),X=Y(P.type);if(!V)return;s.DD.isDragging&&s.DD.node.preventDefault()&&P.cancelable&&P.preventDefault(),this.setPointersPositions(P);var yt=!s.DD.isDragging||n.Konva.hitOnDragEnabled;if(!yt)return;var pt={};let S=!1;var T=this._getTargetShape(X);this._changedPointerPositions.forEach(O=>{const k=l.getCapturedShape(O.id)||this.getIntersection(O),D=O.id,B={evt:P,pointerId:D};var z=T!==k;if(z&&T&&(T._fireAndBubble(V.pointerout,Object.assign({},B),k),T._fireAndBubble(V.pointerleave,Object.assign({},B),k)),k){if(pt[k._id])return;pt[k._id]=!0}k&&k.isListening()?(S=!0,z&&(k._fireAndBubble(V.pointerover,Object.assign({},B),T),k._fireAndBubble(V.pointerenter,Object.assign({},B),T),this[X+"targetShape"]=k),k._fireAndBubble(V.pointermove,Object.assign({},B))):T&&(this._fire(V.pointerover,{evt:P,target:this,currentTarget:this,pointerId:D}),this[X+"targetShape"]=null)}),S||this._fire(V.pointermove,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(P){const V=it(P.type),X=Y(P.type);if(!V)return;this.setPointersPositions(P);const yt=this[X+"ClickStartShape"],pt=this[X+"ClickEndShape"];var S={};let T=!1;this._changedPointerPositions.forEach(O=>{const k=l.getCapturedShape(O.id)||this.getIntersection(O);if(k){if(k.releaseCapture(O.id),S[k._id])return;S[k._id]=!0}const D=O.id,B={evt:P,pointerId:D};let z=!1;n.Konva["_"+X+"InDblClickWindow"]?(z=!0,clearTimeout(this[X+"DblTimeout"])):s.DD.justDragged||(n.Konva["_"+X+"InDblClickWindow"]=!0,clearTimeout(this[X+"DblTimeout"])),this[X+"DblTimeout"]=setTimeout(function(){n.Konva["_"+X+"InDblClickWindow"]=!1},n.Konva.dblClickWindow),k&&k.isListening()?(T=!0,this[X+"ClickEndShape"]=k,k._fireAndBubble(V.pointerup,Object.assign({},B)),n.Konva["_"+X+"ListenClick"]&&yt&&yt===k&&(k._fireAndBubble(V.pointerclick,Object.assign({},B)),z&&pt&&pt===k&&k._fireAndBubble(V.pointerdblclick,Object.assign({},B)))):(this[X+"ClickEndShape"]=null,n.Konva["_"+X+"ListenClick"]&&this._fire(V.pointerclick,{evt:P,target:this,currentTarget:this,pointerId:D}),z&&this._fire(V.pointerdblclick,{evt:P,target:this,currentTarget:this,pointerId:D}))}),T||this._fire(V.pointerup,{evt:P,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),n.Konva["_"+X+"ListenClick"]=!1,P.cancelable&&X!=="touch"&&P.preventDefault()}_contextmenu(P){this.setPointersPositions(P);var V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(G,{evt:P}):this._fire(G,{evt:P,target:this,currentTarget:this})}_wheel(P){this.setPointersPositions(P);var V=this.getIntersection(this.getPointerPosition());V&&V.isListening()?V._fireAndBubble(N,{evt:P}):this._fire(N,{evt:P,target:this,currentTarget:this})}_pointercancel(P){this.setPointersPositions(P);const V=l.getCapturedShape(P.pointerId)||this.getIntersection(this.getPointerPosition());V&&V._fireAndBubble(_,l.createEvent(P)),l.releaseCapture(P.pointerId)}_lostpointercapture(P){l.releaseCapture(P.pointerId)}setPointersPositions(P){var V=this._getContentPosition(),X=null,yt=null;P=P||window.event,P.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(P.touches,pt=>{this._pointerPositions.push({id:pt.identifier,x:(pt.clientX-V.left)/V.scaleX,y:(pt.clientY-V.top)/V.scaleY})}),Array.prototype.forEach.call(P.changedTouches||P.touches,pt=>{this._changedPointerPositions.push({id:pt.identifier,x:(pt.clientX-V.left)/V.scaleX,y:(pt.clientY-V.top)/V.scaleY})})):(X=(P.clientX-V.left)/V.scaleX,yt=(P.clientY-V.top)/V.scaleY,this.pointerPos={x:X,y:yt},this._pointerPositions=[{x:X,y:yt,id:t.Util._getFirstPointerId(P)}],this._changedPointerPositions=[{x:X,y:yt,id:t.Util._getFirstPointerId(P)}])}_setPointerPosition(P){t.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(P)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var P=this.content.getBoundingClientRect();return{top:P.top,left:P.left,scaleX:P.width/this.content.clientWidth||1,scaleY:P.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new a.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new a.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!!n.Konva.isBrowser){var P=this.container();if(!P)throw"Stage has no container. A container is required.";P.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),P.appendChild(this.content),this._resizeDOM()}}cache(){return t.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(P){P.batchDraw()}),this}}e.Stage=Zt,Zt.prototype.nodeType=h,(0,o._registerNode)(Zt),r.Factory.addGetterSetter(Zt,"container")})(fc);var ki={},$t={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapes=void 0;const t=ht,r=Ft,i=lt,n=Pt,a=Z,s=ht,o=le;var l="hasShadow",h="shadowRGBA",c="patternImage",g="linearGradient",p="radialGradient";let f;function d(){return f||(f=r.Util.createCanvasElement().getContext("2d"),f)}e.shapes={};function m(F){F.fill()}function y(F){F.stroke()}function w(F){F.fill()}function E(F){F.stroke()}function u(){this._clearCache(l)}function v(){this._clearCache(h)}function _(){this._clearCache(c)}function x(){this._clearCache(g)}function M(){this._clearCache(p)}class b extends n.Node{constructor(C){super(C);let A;for(;A=r.Util.getRandomColor(),!(A&&!(A in e.shapes)););this.colorKey=A,e.shapes[A]=this}getContext(){return r.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return r.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(l,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(c,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){var C=d();const A=C.createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(A&&A.setTransform){const G=new r.Transform;G.translate(this.fillPatternX(),this.fillPatternY()),G.rotate(t.Konva.getAngle(this.fillPatternRotation())),G.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),G.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const L=G.getMatrix(),R=typeof DOMMatrix>"u"?{a:L[0],b:L[1],c:L[2],d:L[3],e:L[4],f:L[5]}:new DOMMatrix(L);A.setTransform(R)}return A}}_getLinearGradient(){return this._getCache(g,this.__getLinearGradient)}__getLinearGradient(){var C=this.fillLinearGradientColorStops();if(C){for(var A=d(),G=this.fillLinearGradientStartPoint(),L=this.fillLinearGradientEndPoint(),R=A.createLinearGradient(G.x,G.y,L.x,L.y),U=0;U<C.length;U+=2)R.addColorStop(C[U],C[U+1]);return R}}_getRadialGradient(){return this._getCache(p,this.__getRadialGradient)}__getRadialGradient(){var C=this.fillRadialGradientColorStops();if(C){for(var A=d(),G=this.fillRadialGradientStartPoint(),L=this.fillRadialGradientEndPoint(),R=A.createRadialGradient(G.x,G.y,this.fillRadialGradientStartRadius(),L.x,L.y,this.fillRadialGradientEndRadius()),U=0;U<C.length;U+=2)R.addColorStop(C[U],C[U+1]);return R}}getShadowRGBA(){return this._getCache(h,this._getShadowRGBA)}_getShadowRGBA(){if(this.hasShadow()){var C=r.Util.colorToRGBA(this.shadowColor());if(C)return"rgba("+C.r+","+C.g+","+C.b+","+C.a*(this.shadowOpacity()||1)+")"}}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const C=this.hitStrokeWidth();return C==="auto"?this.hasStroke():this.strokeEnabled()&&!!C}intersects(C){var A=this.getStage(),G=A.bufferHitCanvas,L;return G.getContext().clear(),this.drawHit(G,null,!0),L=G.context.getImageData(Math.round(C.x),Math.round(C.y),1,1).data,L[3]>0}destroy(){return n.Node.prototype.destroy.call(this),delete e.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(C){var A;if(!this.getStage()||!((A=this.attrs.perfectDrawEnabled)!==null&&A!==void 0?A:!0))return!1;const L=C||this.hasFill(),R=this.hasStroke(),U=this.getAbsoluteOpacity()!==1;if(L&&R&&U)return!0;const H=this.hasShadow(),N=this.shadowForStrokeEnabled();return!!(L&&R&&H&&N)}setStrokeHitEnabled(C){r.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),C?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){var C=this.size();return{x:this._centroid?-C.width/2:0,y:this._centroid?-C.height/2:0,width:C.width,height:C.height}}getClientRect(C={}){const A=C.skipTransform,G=C.relativeTo,L=this.getSelfRect(),U=!C.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,H=L.width+U,N=L.height+U,I=!C.skipShadow&&this.hasShadow(),j=I?this.shadowOffsetX():0,q=I?this.shadowOffsetY():0,Y=H+Math.abs(j),it=N+Math.abs(q),dt=I&&this.shadowBlur()||0,ft=Y+dt*2,Zt=it+dt*2,At={width:ft,height:Zt,x:-(U/2+dt)+Math.min(j,0)+L.x,y:-(U/2+dt)+Math.min(q,0)+L.y};return A?At:this._transformedRect(At,G)}drawScene(C,A){var G=this.getLayer(),L=C||G.getCanvas(),R=L.getContext(),U=this._getCanvasCache(),H=this.getSceneFunc(),N=this.hasShadow(),I,j,q,Y=L.isCache,it=A===this;if(!this.isVisible()&&!it)return this;if(U){R.save();var dt=this.getAbsoluteTransform(A).getMatrix();return R.transform(dt[0],dt[1],dt[2],dt[3],dt[4],dt[5]),this._drawCachedSceneCanvas(R),R.restore(),this}if(!H)return this;if(R.save(),this._useBufferCanvas()&&!Y){I=this.getStage(),j=I.bufferCanvas,q=j.getContext(),q.clear(),q.save(),q._applyLineJoin(this);var ft=this.getAbsoluteTransform(A).getMatrix();q.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),H.call(this,q,this),q.restore();var Zt=j.pixelRatio;N&&R._applyShadow(this),R._applyOpacity(this),R._applyGlobalCompositeOperation(this),R.drawImage(j._canvas,0,0,j.width/Zt,j.height/Zt)}else{if(R._applyLineJoin(this),!it){var ft=this.getAbsoluteTransform(A).getMatrix();R.transform(ft[0],ft[1],ft[2],ft[3],ft[4],ft[5]),R._applyOpacity(this),R._applyGlobalCompositeOperation(this)}N&&R._applyShadow(this),H.call(this,R,this)}return R.restore(),this}drawHit(C,A,G=!1){if(!this.shouldDrawHit(A,G))return this;var L=this.getLayer(),R=C||L.hitCanvas,U=R&&R.getContext(),H=this.hitFunc()||this.sceneFunc(),N=this._getCanvasCache(),I=N&&N.hit;if(this.colorKey||r.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),I){U.save();var j=this.getAbsoluteTransform(A).getMatrix();return U.transform(j[0],j[1],j[2],j[3],j[4],j[5]),this._drawCachedHitCanvas(U),U.restore(),this}if(!H)return this;if(U.save(),U._applyLineJoin(this),!(this===A)){var Y=this.getAbsoluteTransform(A).getMatrix();U.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5])}return H.call(this,U,this),U.restore(),this}drawHitFromCache(C=0){var A=this._getCanvasCache(),G=this._getCachedSceneCanvas(),L=A.hit,R=L.getContext(),U=L.getWidth(),H=L.getHeight(),N,I,j,q,Y,it;R.clear(),R.drawImage(G._canvas,0,0,U,H);try{for(N=R.getImageData(0,0,U,H),I=N.data,j=I.length,q=r.Util._hexToRgb(this.colorKey),Y=0;Y<j;Y+=4)it=I[Y+3],it>C?(I[Y]=q.r,I[Y+1]=q.g,I[Y+2]=q.b,I[Y+3]=255):I[Y+3]=0;R.putImageData(N,0,0)}catch(dt){r.Util.error("Unable to draw hit graph from cached scene canvas. "+dt.message)}return this}hasPointerCapture(C){return o.hasPointerCapture(C,this)}setPointerCapture(C){o.setPointerCapture(C,this)}releaseCapture(C){o.releaseCapture(C,this)}}e.Shape=b,b.prototype._fillFunc=m,b.prototype._strokeFunc=y,b.prototype._fillFuncHit=w,b.prototype._strokeFuncHit=E,b.prototype._centroid=!1,b.prototype.nodeType="Shape",(0,s._registerNode)(b),b.prototype.eventListeners={},b.prototype.on.call(b.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",u),b.prototype.on.call(b.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",v),b.prototype.on.call(b.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",_),b.prototype.on.call(b.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",x),b.prototype.on.call(b.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",M),i.Factory.addGetterSetter(b,"stroke",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(b,"strokeWidth",2,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillAfterStrokeEnabled",!1),i.Factory.addGetterSetter(b,"hitStrokeWidth","auto",(0,a.getNumberOrAutoValidator)()),i.Factory.addGetterSetter(b,"strokeHitEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(b,"perfectDrawEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(b,"shadowForStrokeEnabled",!0,(0,a.getBooleanValidator)()),i.Factory.addGetterSetter(b,"lineJoin"),i.Factory.addGetterSetter(b,"lineCap"),i.Factory.addGetterSetter(b,"sceneFunc"),i.Factory.addGetterSetter(b,"hitFunc"),i.Factory.addGetterSetter(b,"dash"),i.Factory.addGetterSetter(b,"dashOffset",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"shadowColor",void 0,(0,a.getStringValidator)()),i.Factory.addGetterSetter(b,"shadowBlur",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"shadowOpacity",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(b,"shadowOffset",["x","y"]),i.Factory.addGetterSetter(b,"shadowOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"shadowOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillPatternImage"),i.Factory.addGetterSetter(b,"fill",void 0,(0,a.getStringOrGradientValidator)()),i.Factory.addGetterSetter(b,"fillPatternX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillPatternY",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillLinearGradientColorStops"),i.Factory.addGetterSetter(b,"strokeLinearGradientColorStops"),i.Factory.addGetterSetter(b,"fillRadialGradientStartRadius",0),i.Factory.addGetterSetter(b,"fillRadialGradientEndRadius",0),i.Factory.addGetterSetter(b,"fillRadialGradientColorStops"),i.Factory.addGetterSetter(b,"fillPatternRepeat","repeat"),i.Factory.addGetterSetter(b,"fillEnabled",!0),i.Factory.addGetterSetter(b,"strokeEnabled",!0),i.Factory.addGetterSetter(b,"shadowEnabled",!0),i.Factory.addGetterSetter(b,"dashEnabled",!0),i.Factory.addGetterSetter(b,"strokeScaleEnabled",!0),i.Factory.addGetterSetter(b,"fillPriority","color"),i.Factory.addComponentsGetterSetter(b,"fillPatternOffset",["x","y"]),i.Factory.addGetterSetter(b,"fillPatternOffsetX",0,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillPatternOffsetY",0,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(b,"fillPatternScale",["x","y"]),i.Factory.addGetterSetter(b,"fillPatternScaleX",1,(0,a.getNumberValidator)()),i.Factory.addGetterSetter(b,"fillPatternScaleY",1,(0,a.getNumberValidator)()),i.Factory.addComponentsGetterSetter(b,"fillLinearGradientStartPoint",["x","y"]),i.Factory.addComponentsGetterSetter(b,"strokeLinearGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(b,"fillLinearGradientStartPointX",0),i.Factory.addGetterSetter(b,"strokeLinearGradientStartPointX",0),i.Factory.addGetterSetter(b,"fillLinearGradientStartPointY",0),i.Factory.addGetterSetter(b,"strokeLinearGradientStartPointY",0),i.Factory.addComponentsGetterSetter(b,"fillLinearGradientEndPoint",["x","y"]),i.Factory.addComponentsGetterSetter(b,"strokeLinearGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(b,"fillLinearGradientEndPointX",0),i.Factory.addGetterSetter(b,"strokeLinearGradientEndPointX",0),i.Factory.addGetterSetter(b,"fillLinearGradientEndPointY",0),i.Factory.addGetterSetter(b,"strokeLinearGradientEndPointY",0),i.Factory.addComponentsGetterSetter(b,"fillRadialGradientStartPoint",["x","y"]),i.Factory.addGetterSetter(b,"fillRadialGradientStartPointX",0),i.Factory.addGetterSetter(b,"fillRadialGradientStartPointY",0),i.Factory.addComponentsGetterSetter(b,"fillRadialGradientEndPoint",["x","y"]),i.Factory.addGetterSetter(b,"fillRadialGradientEndPointX",0),i.Factory.addGetterSetter(b,"fillRadialGradientEndPointY",0),i.Factory.addGetterSetter(b,"fillPatternRotation",0),i.Factory.backCompat(b,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})($t);Object.defineProperty(ki,"__esModule",{value:!0});ki.Layer=void 0;const De=Ft,Ga=Er,Lr=Pt,to=lt,fl=we,Og=Z,kg=$t,Rg=ht;var Lg="#",Dg="beforeDraw",Ng="draw",vc=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],Ig=vc.length;class ei extends Ga.Container{constructor(t){super(t),this.canvas=new fl.SceneCanvas,this.hitCanvas=new fl.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this}setZIndex(t){super.setZIndex(t);var r=this.getStage();return r&&r.content&&(r.content.removeChild(this.getNativeCanvasElement()),t<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[t+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Lr.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){var t=Lr.Node.prototype.moveUp.call(this);if(!t)return!1;var r=this.getStage();return!r||!r.content?!1:(r.content.removeChild(this.getNativeCanvasElement()),this.index<r.children.length-1?r.content.insertBefore(this.getNativeCanvasElement(),r.children[this.index+1].getCanvas()._canvas):r.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Lr.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var r=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),r[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Lr.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var r=t.children;t.content&&(t.content.removeChild(this.getNativeCanvasElement()),t.content.insertBefore(this.getNativeCanvasElement(),r[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){var t=this.getNativeCanvasElement();return Lr.Node.prototype.remove.call(this),t&&t.parentNode&&De.Util._isInDocument(t)&&t.parentNode.removeChild(t),this}getStage(){return this.parent}setSize({width:t,height:r}){return this.canvas.setSize(t,r),this.hitCanvas.setSize(t,r),this._setSmoothEnabled(),this}_validateAdd(t){var r=t.getType();r!=="Group"&&r!=="Shape"&&De.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(t){return t=t||{},t.width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=t.x!==void 0?t.x:this.x(),t.y=t.y!==void 0?t.y:this.y(),Lr.Node.prototype._toKonvaCanvas.call(this,t)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){De.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){De.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,De.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(t){if(!this.isListening()||!this.isVisible())return null;for(var r=1,i=!1;;){for(let n=0;n<Ig;n++){const a=vc[n],s=this._getIntersection({x:t.x+a.x*r,y:t.y+a.y*r}),o=s.shape;if(o)return o;if(i=!!s.antialiased,!s.antialiased)break}if(i)r+=1;else return null}}_getIntersection(t){const r=this.hitCanvas.pixelRatio,i=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,n=i[3];if(n===255){const a=De.Util._rgbToHex(i[0],i[1],i[2]),s=kg.shapes[Lg+a];return s?{shape:s}:{antialiased:!0}}else if(n>0)return{antialiased:!0};return{}}drawScene(t,r){var i=this.getLayer(),n=t||i&&i.getCanvas();return this._fire(Dg,{node:this}),this.clearBeforeDraw()&&n.getContext().clear(),Ga.Container.prototype.drawScene.call(this,n,r),this._fire(Ng,{node:this}),this}drawHit(t,r){var i=this.getLayer(),n=t||i&&i.hitCanvas;return i&&i.clearBeforeDraw()&&i.getHitCanvas().getContext().clear(),Ga.Container.prototype.drawHit.call(this,n,r),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(t){De.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)}getHitGraphEnabled(t){return De.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!(!this.parent||!this.parent.content)){var t=this.parent,r=!!this.hitCanvas._canvas.parentNode;r?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}}destroy(){return De.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}ki.Layer=ei;ei.prototype.nodeType="Layer";(0,Rg._registerNode)(ei);to.Factory.addGetterSetter(ei,"imageSmoothingEnabled",!0);to.Factory.addGetterSetter(ei,"clearBeforeDraw",!0);to.Factory.addGetterSetter(ei,"hitGraphEnabled",!0,(0,Og.getBooleanValidator)());var In={};Object.defineProperty(In,"__esModule",{value:!0});In.FastLayer=void 0;const Gg=Ft,$g=ki,Ug=ht;class eo extends $g.Layer{constructor(t){super(t),this.listening(!1),Gg.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}In.FastLayer=eo;eo.prototype.nodeType="FastLayer";(0,Ug._registerNode)(eo);var ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.Group=void 0;const Bg=Ft,Hg=Er,Vg=ht;class ro extends Hg.Container{_validateAdd(t){var r=t.getType();r!=="Group"&&r!=="Shape"&&Bg.Util.throw("You may only add groups and shapes to groups.")}}ri.Group=ro;ro.prototype.nodeType="Group";(0,Vg._registerNode)(ro);var ii={};Object.defineProperty(ii,"__esModule",{value:!0});ii.Animation=void 0;const $a=ht,gl=Ft;var Ua=function(){return $a.glob.performance&&$a.glob.performance.now?function(){return $a.glob.performance.now()}:function(){return new Date().getTime()}}();class Fe{constructor(t,r){this.id=Fe.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ua(),frameRate:0},this.func=t,this.setLayers(r)}setLayers(t){var r=[];return t?t.length>0?r=t:r=[t]:r=[],this.layers=r,this}getLayers(){return this.layers}addLayer(t){var r=this.layers,i=r.length,n;for(n=0;n<i;n++)if(r[n]._id===t._id)return!1;return this.layers.push(t),!0}isRunning(){var t=Fe,r=t.animations,i=r.length,n;for(n=0;n<i;n++)if(r[n].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ua(),Fe._addAnimation(this),this}stop(){return Fe._removeAnimation(this),this}_updateFrameObject(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(t){this.animations.push(t),this._handleAnimation()}static _removeAnimation(t){var r=t.id,i=this.animations,n=i.length,a;for(a=0;a<n;a++)if(i[a].id===r){this.animations.splice(a,1);break}}static _runFrames(){var t={},r=this.animations,i,n,a,s,o,l,h,c,g;for(s=0;s<r.length;s++)if(i=r[s],n=i.layers,a=i.func,i._updateFrameObject(Ua()),l=n.length,a?g=a.call(i,i.frame)!==!1:g=!0,!!g)for(o=0;o<l;o++)h=n[o],h._id!==void 0&&(t[h._id]=h);for(c in t)t.hasOwnProperty(c)&&t[c].batchDraw()}static _animationLoop(){var t=Fe;t.animations.length?(t._runFrames(),gl.Util.requestAnimFrame(t._animationLoop)):t.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,gl.Util.requestAnimFrame(this._animationLoop))}}Fe.animations=[];Fe.animIdCounter=0;Fe.animRunning=!1;ii.Animation=Fe;var mc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Easings=e.Tween=void 0;const t=Ft,r=ii,i=Pt,n=ht;var a={node:1,duration:1,easing:1,onFinish:1,yoyo:1},s=1,o=2,l=3,h=0,c=["fill","stroke","shadowColor"];class g{constructor(d,m,y,w,E,u,v){this.prop=d,this.propFunc=m,this.begin=w,this._pos=w,this.duration=u,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=y,this._change=E-this.begin,this.pause()}fire(d){var m=this[d];m&&m()}setTime(d){d>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():d<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=d,this.update())}getTime(){return this._time}setPosition(d){this.prevPos=this._pos,this.propFunc(d),this._pos=d}getPosition(d){return d===void 0&&(d=this._time),this.func(d,this.begin,this._change,this.duration)}play(){this.state=o,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=l,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(d){this.pause(),this._time=d,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){var d=this.getTimer()-this._startTime;this.state===o?this.setTime(d):this.state===l&&this.setTime(this.duration-d)}pause(){this.state=s,this.fire("onPause")}getTimer(){return new Date().getTime()}}class p{constructor(d){var m=this,y=d.node,w=y._id,E,u=d.easing||e.Easings.Linear,v=!!d.yoyo,_;typeof d.duration>"u"?E=.3:d.duration===0?E=.001:E=d.duration,this.node=y,this._id=h++;var x=y.getLayer()||(y instanceof n.Konva.Stage?y.getLayers():null);x||t.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new r.Animation(function(){m.tween.onEnterFrame()},x),this.tween=new g(_,function(M){m._tweenFunc(M)},u,0,1,E*1e3,v),this._addListeners(),p.attrs[w]||(p.attrs[w]={}),p.attrs[w][this._id]||(p.attrs[w][this._id]={}),p.tweens[w]||(p.tweens[w]={});for(_ in d)a[_]===void 0&&this._addAttr(_,d[_]);this.reset(),this.onFinish=d.onFinish,this.onReset=d.onReset,this.onUpdate=d.onUpdate}_addAttr(d,m){var y=this.node,w=y._id,E,u,v,_,x,M,b,F;if(v=p.tweens[w][d],v&&delete p.attrs[w][v][d],E=y.getAttr(d),t.Util._isArray(m))if(u=[],x=Math.max(m.length,E.length),d==="points"&&m.length!==E.length&&(m.length>E.length?(b=E,E=t.Util._prepareArrayForTween(E,m,y.closed())):(M=m,m=t.Util._prepareArrayForTween(m,E,y.closed()))),d.indexOf("fill")===0)for(_=0;_<x;_++)if(_%2===0)u.push(m[_]-E[_]);else{var C=t.Util.colorToRGBA(E[_]);F=t.Util.colorToRGBA(m[_]),E[_]=C,u.push({r:F.r-C.r,g:F.g-C.g,b:F.b-C.b,a:F.a-C.a})}else for(_=0;_<x;_++)u.push(m[_]-E[_]);else c.indexOf(d)!==-1?(E=t.Util.colorToRGBA(E),F=t.Util.colorToRGBA(m),u={r:F.r-E.r,g:F.g-E.g,b:F.b-E.b,a:F.a-E.a}):u=m-E;p.attrs[w][this._id][d]={start:E,diff:u,end:m,trueEnd:M,trueStart:b},p.tweens[w][d]=this._id}_tweenFunc(d){var m=this.node,y=p.attrs[m._id][this._id],w,E,u,v,_,x,M,b;for(w in y){if(E=y[w],u=E.start,v=E.diff,b=E.end,t.Util._isArray(u))if(_=[],M=Math.max(u.length,b.length),w.indexOf("fill")===0)for(x=0;x<M;x++)x%2===0?_.push((u[x]||0)+v[x]*d):_.push("rgba("+Math.round(u[x].r+v[x].r*d)+","+Math.round(u[x].g+v[x].g*d)+","+Math.round(u[x].b+v[x].b*d)+","+(u[x].a+v[x].a*d)+")");else for(x=0;x<M;x++)_.push((u[x]||0)+v[x]*d);else c.indexOf(w)!==-1?_="rgba("+Math.round(u.r+v.r*d)+","+Math.round(u.g+v.g*d)+","+Math.round(u.b+v.b*d)+","+(u.a+v.a*d)+")":_=u+v*d;m.setAttr(w,_)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{var d=this.node,m=p.attrs[d._id][this._id];m.points&&m.points.trueEnd&&d.setAttr("points",m.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{var d=this.node,m=p.attrs[d._id][this._id];m.points&&m.points.trueStart&&d.points(m.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(d){return this.tween.seek(d*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){var d=this.node._id,m=this._id,y=p.tweens[d],w;this.pause();for(w in y)delete p.tweens[d][w];delete p.attrs[d][m]}}p.attrs={},p.tweens={},e.Tween=p,i.Node.prototype.to=function(f){var d=f.onFinish;f.node=this,f.onFinish=function(){this.destroy(),d&&d()};var m=new p(f);m.play()},e.Easings={BackEaseIn(f,d,m,y){var w=1.70158;return m*(f/=y)*f*((w+1)*f-w)+d},BackEaseOut(f,d,m,y){var w=1.70158;return m*((f=f/y-1)*f*((w+1)*f+w)+1)+d},BackEaseInOut(f,d,m,y){var w=1.70158;return(f/=y/2)<1?m/2*(f*f*(((w*=1.525)+1)*f-w))+d:m/2*((f-=2)*f*(((w*=1.525)+1)*f+w)+2)+d},ElasticEaseIn(f,d,m,y,w,E){var u=0;return f===0?d:(f/=y)===1?d+m:(E||(E=y*.3),!w||w<Math.abs(m)?(w=m,u=E/4):u=E/(2*Math.PI)*Math.asin(m/w),-(w*Math.pow(2,10*(f-=1))*Math.sin((f*y-u)*(2*Math.PI)/E))+d)},ElasticEaseOut(f,d,m,y,w,E){var u=0;return f===0?d:(f/=y)===1?d+m:(E||(E=y*.3),!w||w<Math.abs(m)?(w=m,u=E/4):u=E/(2*Math.PI)*Math.asin(m/w),w*Math.pow(2,-10*f)*Math.sin((f*y-u)*(2*Math.PI)/E)+m+d)},ElasticEaseInOut(f,d,m,y,w,E){var u=0;return f===0?d:(f/=y/2)===2?d+m:(E||(E=y*(.3*1.5)),!w||w<Math.abs(m)?(w=m,u=E/4):u=E/(2*Math.PI)*Math.asin(m/w),f<1?-.5*(w*Math.pow(2,10*(f-=1))*Math.sin((f*y-u)*(2*Math.PI)/E))+d:w*Math.pow(2,-10*(f-=1))*Math.sin((f*y-u)*(2*Math.PI)/E)*.5+m+d)},BounceEaseOut(f,d,m,y){return(f/=y)<1/2.75?m*(7.5625*f*f)+d:f<2/2.75?m*(7.5625*(f-=1.5/2.75)*f+.75)+d:f<2.5/2.75?m*(7.5625*(f-=2.25/2.75)*f+.9375)+d:m*(7.5625*(f-=2.625/2.75)*f+.984375)+d},BounceEaseIn(f,d,m,y){return m-e.Easings.BounceEaseOut(y-f,0,m,y)+d},BounceEaseInOut(f,d,m,y){return f<y/2?e.Easings.BounceEaseIn(f*2,0,m,y)*.5+d:e.Easings.BounceEaseOut(f*2-y,0,m,y)*.5+m*.5+d},EaseIn(f,d,m,y){return m*(f/=y)*f+d},EaseOut(f,d,m,y){return-m*(f/=y)*(f-2)+d},EaseInOut(f,d,m,y){return(f/=y/2)<1?m/2*f*f+d:-m/2*(--f*(f-2)-1)+d},StrongEaseIn(f,d,m,y){return m*(f/=y)*f*f*f*f+d},StrongEaseOut(f,d,m,y){return m*((f=f/y-1)*f*f*f*f+1)+d},StrongEaseInOut(f,d,m,y){return(f/=y/2)<1?m/2*f*f*f*f*f+d:m/2*((f-=2)*f*f*f*f+2)+d},Linear(f,d,m,y){return m*f/y+d}}})(mc);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;const t=ht,r=Ft,i=Pt,n=Er,a=fc,s=ki,o=In,l=ri,h=Dn,c=$t,g=ii,p=mc,f=$e,d=we;e.Konva=r.Util._assign(t.Konva,{Util:r.Util,Transform:r.Transform,Node:i.Node,Container:n.Container,Stage:a.Stage,stages:a.stages,Layer:s.Layer,FastLayer:o.FastLayer,Group:l.Group,DD:h.DD,Shape:c.Shape,shapes:c.shapes,Animation:g.Animation,Tween:p.Tween,Easings:p.Easings,Context:f.Context,Canvas:d.Canvas}),e.default=e.Konva})(hc);var Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Arc=void 0;const $n=lt,jg=$t,pl=ht,Un=Z,Wg=ht;class We extends jg.Shape{_sceneFunc(t){var r=pl.Konva.getAngle(this.angle()),i=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,r,i),t.arc(0,0,this.innerRadius(),r,0,!i),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}getSelfRect(){const t=this.innerRadius(),r=this.outerRadius(),i=this.clockwise(),n=pl.Konva.getAngle(i?360-this.angle():this.angle()),a=Math.cos(Math.min(n,Math.PI)),s=1,o=Math.sin(Math.min(Math.max(Math.PI,n),3*Math.PI/2)),l=Math.sin(Math.min(n,Math.PI/2)),h=a*(a>0?t:r),c=s*r,g=o*(o>0?t:r),p=l*(l>0?r:t);return{x:h,y:i?-1*p:g,width:c-h,height:p-g}}}Gn.Arc=We;We.prototype._centroid=!0;We.prototype.className="Arc";We.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Wg._registerNode)(We);$n.Factory.addGetterSetter(We,"innerRadius",0,(0,Un.getNumberValidator)());$n.Factory.addGetterSetter(We,"outerRadius",0,(0,Un.getNumberValidator)());$n.Factory.addGetterSetter(We,"angle",0,(0,Un.getNumberValidator)());$n.Factory.addGetterSetter(We,"clockwise",!1,(0,Un.getBooleanValidator)());var Bn={},Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.Line=void 0;const Hn=lt,zg=$t,_c=Z,Kg=ht;function Ss(e,t,r,i,n,a,s){var o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-t,2)),l=Math.sqrt(Math.pow(n-r,2)+Math.pow(a-i,2)),h=s*o/(o+l),c=s*l/(o+l),g=r-h*(n-e),p=i-h*(a-t),f=r+c*(n-e),d=i+c*(a-t);return[g,p,f,d]}function vl(e,t){var r=e.length,i=[],n,a;for(n=2;n<r-2;n+=2)a=Ss(e[n-2],e[n-1],e[n],e[n+1],e[n+2],e[n+3],t),!isNaN(a[0])&&(i.push(a[0]),i.push(a[1]),i.push(e[n]),i.push(e[n+1]),i.push(a[2]),i.push(a[3]));return i}class rr extends zg.Shape{constructor(t){super(t),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(t){var r=this.points(),i=r.length,n=this.tension(),a=this.closed(),s=this.bezier(),o,l,h;if(i){if(t.beginPath(),t.moveTo(r[0],r[1]),n!==0&&i>4){for(o=this.getTensionPoints(),l=o.length,h=a?0:4,a||t.quadraticCurveTo(o[0],o[1],o[2],o[3]);h<l-2;)t.bezierCurveTo(o[h++],o[h++],o[h++],o[h++],o[h++],o[h++]);a||t.quadraticCurveTo(o[l-2],o[l-1],r[i-2],r[i-1])}else if(s)for(h=2;h<i;)t.bezierCurveTo(r[h++],r[h++],r[h++],r[h++],r[h++],r[h++]);else for(h=2;h<i;h+=2)t.lineTo(r[h],r[h+1]);a?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():vl(this.points(),this.tension())}_getTensionPointsClosed(){var t=this.points(),r=t.length,i=this.tension(),n=Ss(t[r-2],t[r-1],t[0],t[1],t[2],t[3],i),a=Ss(t[r-4],t[r-3],t[r-2],t[r-1],t[0],t[1],i),s=vl(t,i),o=[n[2],n[3]].concat(s).concat([a[0],a[1],t[r-2],t[r-1],a[2],a[3],n[0],n[1],t[0],t[1]]);return o}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};this.tension()!==0?t=[t[0],t[1],...this._getTensionPoints(),t[t.length-2],t[t.length-1]]:t=this.points();for(var r=t[0],i=t[0],n=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],r=Math.min(r,s),i=Math.max(i,s),n=Math.min(n,o),a=Math.max(a,o);return{x:r,y:n,width:i-r,height:a-n}}}Ri.Line=rr;rr.prototype.className="Line";rr.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Kg._registerNode)(rr);Hn.Factory.addGetterSetter(rr,"closed",!1);Hn.Factory.addGetterSetter(rr,"bezier",!1);Hn.Factory.addGetterSetter(rr,"tension",0,(0,_c.getNumberValidator)());Hn.Factory.addGetterSetter(rr,"points",[],(0,_c.getNumberArrayValidator)());var ni={},yc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.t2length=e.getQuadraticArcLength=e.getCubicArcLength=e.binomialCoefficients=e.cValues=e.tValues=void 0,e.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],e.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],e.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const t=(s,o,l)=>{let h,c,g;h=l/2,c=0;for(let f=0;f<20;f++)g=h*e.tValues[20][f]+h,c+=e.cValues[20][f]*i(s,o,g);return h*c};e.getCubicArcLength=t;const r=(s,o,l)=>{l===void 0&&(l=1);const h=s[0]-2*s[1]+s[2],c=o[0]-2*o[1]+o[2],g=2*s[1]-2*s[0],p=2*o[1]-2*o[0],f=4*(h*h+c*c),d=4*(h*g+c*p),m=g*g+p*p;if(f===0)return l*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(o[2]-o[0],2));const y=d/(2*f),w=m/f,E=l+y,u=w-y*y,v=E*E+u>0?Math.sqrt(E*E+u):0,_=y*y+u>0?Math.sqrt(y*y+u):0,x=y+Math.sqrt(y*y+u)!==0?u*Math.log(Math.abs((E+v)/(y+_))):0;return Math.sqrt(f)/2*(E*v-y*_+x)};e.getQuadraticArcLength=r;function i(s,o,l){const h=n(1,l,s),c=n(1,l,o),g=h*h+c*c;return Math.sqrt(g)}const n=(s,o,l)=>{const h=l.length-1;let c,g;if(h===0)return 0;if(s===0){g=0;for(let p=0;p<=h;p++)g+=e.binomialCoefficients[h][p]*Math.pow(1-o,h-p)*Math.pow(o,p)*l[p];return g}else{c=new Array(h);for(let p=0;p<h;p++)c[p]=h*(l[p+1]-l[p]);return n(s-1,o,c)}},a=(s,o,l)=>{let h=1,c=s/o,g=(s-l(c))/o,p=0;for(;h>.001;){const f=l(c+g),d=Math.abs(s-f)/o;if(d<h)h=d,c+=g;else{const m=l(c-g),y=Math.abs(s-m)/o;y<h?(h=y,c-=g):g/=2}if(p++,p>500)break}return c};e.t2length=a})(yc);Object.defineProperty(ni,"__esModule",{value:!0});ni.Path=void 0;const Yg=lt,Xg=$t,qg=ht,Dr=yc;class Gt extends Xg.Shape{constructor(t){super(t),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Gt.parsePathData(this.data()),this.pathLength=Gt.getPathLength(this.dataArray)}_sceneFunc(t){var r=this.dataArray;t.beginPath();for(var i=!1,n=0;n<r.length;n++){var a=r[n].command,s=r[n].points;switch(a){case"L":t.lineTo(s[0],s[1]);break;case"M":t.moveTo(s[0],s[1]);break;case"C":t.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]);break;case"Q":t.quadraticCurveTo(s[0],s[1],s[2],s[3]);break;case"A":var o=s[0],l=s[1],h=s[2],c=s[3],g=s[4],p=s[5],f=s[6],d=s[7],m=h>c?h:c,y=h>c?1:h/c,w=h>c?c/h:1;t.translate(o,l),t.rotate(f),t.scale(y,w),t.arc(0,0,m,g,g+p,1-d),t.scale(1/y,1/w),t.rotate(-f),t.translate(-o,-l);break;case"z":i=!0,t.closePath();break}}!i&&!this.hasFill()?t.strokeShape(this):t.fillStrokeShape(this)}getSelfRect(){var t=[];this.dataArray.forEach(function(h){if(h.command==="A"){var c=h.points[4],g=h.points[5],p=h.points[4]+g,f=Math.PI/180;if(Math.abs(c-p)<f&&(f=Math.abs(c-p)),g<0)for(let d=c-f;d>p;d-=f){const m=Gt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],d,0);t.push(m.x,m.y)}else for(let d=c+f;d<p;d+=f){const m=Gt.getPointOnEllipticalArc(h.points[0],h.points[1],h.points[2],h.points[3],d,0);t.push(m.x,m.y)}}else if(h.command==="C")for(let d=0;d<=1;d+=.01){const m=Gt.getPointOnCubicBezier(d,h.start.x,h.start.y,h.points[0],h.points[1],h.points[2],h.points[3],h.points[4],h.points[5]);t.push(m.x,m.y)}else t=t.concat(h.points)});for(var r=t[0],i=t[0],n=t[1],a=t[1],s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],isNaN(s)||(r=Math.min(r,s),i=Math.max(i,s)),isNaN(o)||(n=Math.min(n,o),a=Math.max(a,o));return{x:r,y:n,width:i-r,height:a-n}}getLength(){return this.pathLength}getPointAtLength(t){return Gt.getPointAtLengthOfDataArray(t,this.dataArray)}static getLineLength(t,r,i,n){return Math.sqrt((i-t)*(i-t)+(n-r)*(n-r))}static getPathLength(t){let r=0;for(var i=0;i<t.length;++i)r+=t[i].pathLength;return r}static getPointAtLengthOfDataArray(t,r){var i,n=0,a=r.length;if(!a)return null;for(;n<a&&t>r[n].pathLength;)t-=r[n].pathLength,++n;if(n===a)return i=r[n-1].points.slice(-2),{x:i[0],y:i[1]};if(t<.01)return i=r[n].points.slice(0,2),{x:i[0],y:i[1]};var s=r[n],o=s.points;switch(s.command){case"L":return Gt.getPointOnLine(t,s.start.x,s.start.y,o[0],o[1]);case"C":return Gt.getPointOnCubicBezier((0,Dr.t2length)(t,Gt.getPathLength(r),m=>(0,Dr.getCubicArcLength)([s.start.x,o[0],o[2],o[4]],[s.start.y,o[1],o[3],o[5]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3],o[4],o[5]);case"Q":return Gt.getPointOnQuadraticBezier((0,Dr.t2length)(t,Gt.getPathLength(r),m=>(0,Dr.getQuadraticArcLength)([s.start.x,o[0],o[2]],[s.start.y,o[1],o[3]],m)),s.start.x,s.start.y,o[0],o[1],o[2],o[3]);case"A":var l=o[0],h=o[1],c=o[2],g=o[3],p=o[4],f=o[5],d=o[6];return p+=f*t/s.pathLength,Gt.getPointOnEllipticalArc(l,h,c,g,p,d)}return null}static getPointOnLine(t,r,i,n,a,s,o){s===void 0&&(s=r),o===void 0&&(o=i);var l=(a-i)/(n-r+1e-8),h=Math.sqrt(t*t/(1+l*l));n<r&&(h*=-1);var c=l*h,g;if(n===r)g={x:s,y:o+c};else if((o-i)/(s-r+1e-8)===l)g={x:s+h,y:o+c};else{var p,f,d=this.getLineLength(r,i,n,a),m=(s-r)*(n-r)+(o-i)*(a-i);m=m/(d*d),p=r+m*(n-r),f=i+m*(a-i);var y=this.getLineLength(s,o,p,f),w=Math.sqrt(t*t-y*y);h=Math.sqrt(w*w/(1+l*l)),n<r&&(h*=-1),c=l*h,g={x:p+h,y:f+c}}return g}static getPointOnCubicBezier(t,r,i,n,a,s,o,l,h){function c(y){return y*y*y}function g(y){return 3*y*y*(1-y)}function p(y){return 3*y*(1-y)*(1-y)}function f(y){return(1-y)*(1-y)*(1-y)}var d=l*c(t)+s*g(t)+n*p(t)+r*f(t),m=h*c(t)+o*g(t)+a*p(t)+i*f(t);return{x:d,y:m}}static getPointOnQuadraticBezier(t,r,i,n,a,s,o){function l(f){return f*f}function h(f){return 2*f*(1-f)}function c(f){return(1-f)*(1-f)}var g=s*l(t)+n*h(t)+r*c(t),p=o*l(t)+a*h(t)+i*c(t);return{x:g,y:p}}static getPointOnEllipticalArc(t,r,i,n,a,s){var o=Math.cos(s),l=Math.sin(s),h={x:i*Math.cos(a),y:n*Math.sin(a)};return{x:t+(h.x*o-h.y*l),y:r+(h.x*l+h.y*o)}}static parsePathData(t){if(!t)return[];var r=t,i=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];r=r.replace(new RegExp(" ","g"),",");for(var n=0;n<i.length;n++)r=r.replace(new RegExp(i[n],"g"),"|"+i[n]);var a=r.split("|"),s=[],o=[],l=0,h=0,c=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,g;for(n=1;n<a.length;n++){var p=a[n],f=p.charAt(0);for(p=p.slice(1),o.length=0;g=c.exec(p);)o.push(g[0]);for(var d=[],m=0,y=o.length;m<y;m++){if(o[m]==="00"){d.push(0,0);continue}var w=parseFloat(o[m]);isNaN(w)?d.push(0):d.push(w)}for(;d.length>0&&!isNaN(d[0]);){var E=null,u=[],v=l,_=h,x,M,b,F,C,A,G,L,R,U;switch(f){case"l":l+=d.shift(),h+=d.shift(),E="L",u.push(l,h);break;case"L":l=d.shift(),h=d.shift(),u.push(l,h);break;case"m":var H=d.shift(),N=d.shift();if(l+=H,h+=N,E="M",s.length>2&&s[s.length-1].command==="z"){for(var I=s.length-2;I>=0;I--)if(s[I].command==="M"){l=s[I].points[0]+H,h=s[I].points[1]+N;break}}u.push(l,h),f="l";break;case"M":l=d.shift(),h=d.shift(),E="M",u.push(l,h),f="L";break;case"h":l+=d.shift(),E="L",u.push(l,h);break;case"H":l=d.shift(),E="L",u.push(l,h);break;case"v":h+=d.shift(),E="L",u.push(l,h);break;case"V":h=d.shift(),E="L",u.push(l,h);break;case"C":u.push(d.shift(),d.shift(),d.shift(),d.shift()),l=d.shift(),h=d.shift(),u.push(l,h);break;case"c":u.push(l+d.shift(),h+d.shift(),l+d.shift(),h+d.shift()),l+=d.shift(),h+=d.shift(),E="C",u.push(l,h);break;case"S":M=l,b=h,x=s[s.length-1],x.command==="C"&&(M=l+(l-x.points[2]),b=h+(h-x.points[3])),u.push(M,b,d.shift(),d.shift()),l=d.shift(),h=d.shift(),E="C",u.push(l,h);break;case"s":M=l,b=h,x=s[s.length-1],x.command==="C"&&(M=l+(l-x.points[2]),b=h+(h-x.points[3])),u.push(M,b,l+d.shift(),h+d.shift()),l+=d.shift(),h+=d.shift(),E="C",u.push(l,h);break;case"Q":u.push(d.shift(),d.shift()),l=d.shift(),h=d.shift(),u.push(l,h);break;case"q":u.push(l+d.shift(),h+d.shift()),l+=d.shift(),h+=d.shift(),E="Q",u.push(l,h);break;case"T":M=l,b=h,x=s[s.length-1],x.command==="Q"&&(M=l+(l-x.points[0]),b=h+(h-x.points[1])),l=d.shift(),h=d.shift(),E="Q",u.push(M,b,l,h);break;case"t":M=l,b=h,x=s[s.length-1],x.command==="Q"&&(M=l+(l-x.points[0]),b=h+(h-x.points[1])),l+=d.shift(),h+=d.shift(),E="Q",u.push(M,b,l,h);break;case"A":F=d.shift(),C=d.shift(),A=d.shift(),G=d.shift(),L=d.shift(),R=l,U=h,l=d.shift(),h=d.shift(),E="A",u=this.convertEndpointToCenterParameterization(R,U,l,h,G,L,F,C,A);break;case"a":F=d.shift(),C=d.shift(),A=d.shift(),G=d.shift(),L=d.shift(),R=l,U=h,l+=d.shift(),h+=d.shift(),E="A",u=this.convertEndpointToCenterParameterization(R,U,l,h,G,L,F,C,A);break}s.push({command:E||f,points:u,start:{x:v,y:_},pathLength:this.calcLength(v,_,E||f,u)})}(f==="z"||f==="Z")&&s.push({command:"z",points:[],start:void 0,pathLength:0})}return s}static calcLength(t,r,i,n){var a,s,o,l,h=Gt;switch(i){case"L":return h.getLineLength(t,r,n[0],n[1]);case"C":return(0,Dr.getCubicArcLength)([t,n[0],n[2],n[4]],[r,n[1],n[3],n[5]],1);case"Q":return(0,Dr.getQuadraticArcLength)([t,n[0],n[2]],[r,n[1],n[3]],1);case"A":a=0;var c=n[4],g=n[5],p=n[4]+g,f=Math.PI/180;if(Math.abs(c-p)<f&&(f=Math.abs(c-p)),s=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],c,0),g<0)for(l=c-f;l>p;l-=f)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;else for(l=c+f;l<p;l+=f)o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],l,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),s=o;return o=h.getPointOnEllipticalArc(n[0],n[1],n[2],n[3],p,0),a+=h.getLineLength(s.x,s.y,o.x,o.y),a}return 0}static convertEndpointToCenterParameterization(t,r,i,n,a,s,o,l,h){var c=h*(Math.PI/180),g=Math.cos(c)*(t-i)/2+Math.sin(c)*(r-n)/2,p=-1*Math.sin(c)*(t-i)/2+Math.cos(c)*(r-n)/2,f=g*g/(o*o)+p*p/(l*l);f>1&&(o*=Math.sqrt(f),l*=Math.sqrt(f));var d=Math.sqrt((o*o*(l*l)-o*o*(p*p)-l*l*(g*g))/(o*o*(p*p)+l*l*(g*g)));a===s&&(d*=-1),isNaN(d)&&(d=0);var m=d*o*p/l,y=d*-l*g/o,w=(t+i)/2+Math.cos(c)*m-Math.sin(c)*y,E=(r+n)/2+Math.sin(c)*m+Math.cos(c)*y,u=function(C){return Math.sqrt(C[0]*C[0]+C[1]*C[1])},v=function(C,A){return(C[0]*A[0]+C[1]*A[1])/(u(C)*u(A))},_=function(C,A){return(C[0]*A[1]<C[1]*A[0]?-1:1)*Math.acos(v(C,A))},x=_([1,0],[(g-m)/o,(p-y)/l]),M=[(g-m)/o,(p-y)/l],b=[(-1*g-m)/o,(-1*p-y)/l],F=_(M,b);return v(M,b)<=-1&&(F=Math.PI),v(M,b)>=1&&(F=0),s===0&&F>0&&(F=F-2*Math.PI),s===1&&F<0&&(F=F+2*Math.PI),[w,E,o,l,x,F,c,s]}}ni.Path=Gt;Gt.prototype.className="Path";Gt.prototype._attrsAffectingSize=["data"];(0,qg._registerNode)(Gt);Yg.Factory.addGetterSetter(Gt,"data");Object.defineProperty(Bn,"__esModule",{value:!0});Bn.Arrow=void 0;const Vn=lt,Jg=Ri,bc=Z,Qg=ht,ml=ni;class Pr extends Jg.Line{_sceneFunc(t){super._sceneFunc(t);var r=Math.PI*2,i=this.points(),n=i,a=this.tension()!==0&&i.length>4;a&&(n=this.getTensionPoints());var s=this.pointerLength(),o=i.length,l,h;if(a){const p=[n[n.length-4],n[n.length-3],n[n.length-2],n[n.length-1],i[o-2],i[o-1]],f=ml.Path.calcLength(n[n.length-4],n[n.length-3],"C",p),d=ml.Path.getPointOnQuadraticBezier(Math.min(1,1-s/f),p[0],p[1],p[2],p[3],p[4],p[5]);l=i[o-2]-d.x,h=i[o-1]-d.y}else l=i[o-2]-i[o-4],h=i[o-1]-i[o-3];var c=(Math.atan2(h,l)+r)%r,g=this.pointerWidth();this.pointerAtEnding()&&(t.save(),t.beginPath(),t.translate(i[o-2],i[o-1]),t.rotate(c),t.moveTo(0,0),t.lineTo(-s,g/2),t.lineTo(-s,-g/2),t.closePath(),t.restore(),this.__fillStroke(t)),this.pointerAtBeginning()&&(t.save(),t.beginPath(),t.translate(i[0],i[1]),a?(l=(n[0]+n[2])/2-i[0],h=(n[1]+n[3])/2-i[1]):(l=i[2]-i[0],h=i[3]-i[1]),t.rotate((Math.atan2(-h,-l)+r)%r),t.moveTo(0,0),t.lineTo(-s,g/2),t.lineTo(-s,-g/2),t.closePath(),t.restore(),this.__fillStroke(t))}__fillStroke(t){var r=this.dashEnabled();r&&(this.attrs.dashEnabled=!1,t.setLineDash([])),t.fillStrokeShape(this),r&&(this.attrs.dashEnabled=!0)}getSelfRect(){const t=super.getSelfRect(),r=this.pointerWidth()/2;return{x:t.x-r,y:t.y-r,width:t.width+r*2,height:t.height+r*2}}}Bn.Arrow=Pr;Pr.prototype.className="Arrow";(0,Qg._registerNode)(Pr);Vn.Factory.addGetterSetter(Pr,"pointerLength",10,(0,bc.getNumberValidator)());Vn.Factory.addGetterSetter(Pr,"pointerWidth",10,(0,bc.getNumberValidator)());Vn.Factory.addGetterSetter(Pr,"pointerAtBeginning",!1);Vn.Factory.addGetterSetter(Pr,"pointerAtEnding",!0);var jn={};Object.defineProperty(jn,"__esModule",{value:!0});jn.Circle=void 0;const Zg=lt,t2=$t,e2=Z,r2=ht;class ai extends t2.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius()!==t/2&&this.radius(t/2)}setHeight(t){this.radius()!==t/2&&this.radius(t/2)}}jn.Circle=ai;ai.prototype._centroid=!0;ai.prototype.className="Circle";ai.prototype._attrsAffectingSize=["radius"];(0,r2._registerNode)(ai);Zg.Factory.addGetterSetter(ai,"radius",0,(0,e2.getNumberValidator)());var Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.Ellipse=void 0;const io=lt,i2=$t,Sc=Z,n2=ht;class ir extends i2.Shape{_sceneFunc(t){var r=this.radiusX(),i=this.radiusY();t.beginPath(),t.save(),r!==i&&t.scale(1,i/r),t.arc(0,0,r,0,Math.PI*2,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(t){this.radiusX(t/2)}setHeight(t){this.radiusY(t/2)}}Wn.Ellipse=ir;ir.prototype.className="Ellipse";ir.prototype._centroid=!0;ir.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,n2._registerNode)(ir);io.Factory.addComponentsGetterSetter(ir,"radius",["x","y"]);io.Factory.addGetterSetter(ir,"radiusX",0,(0,Sc.getNumberValidator)());io.Factory.addGetterSetter(ir,"radiusY",0,(0,Sc.getNumberValidator)());var zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.Image=void 0;const Ba=Ft,Ar=lt,a2=$t,s2=ht,Li=Z;let Re=class wc extends a2.Shape{constructor(t){super(t),this.on("imageChange.konva",()=>{this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const t=this.image();t&&t.complete||t&&t.readyState===4||t&&t.addEventListener&&t.addEventListener("load",()=>{this._requestDraw()})}_useBufferCanvas(){return super._useBufferCanvas(!0)}_sceneFunc(t){const r=this.getWidth(),i=this.getHeight(),n=this.cornerRadius(),a=this.attrs.image;let s;if(a){const o=this.attrs.cropWidth,l=this.attrs.cropHeight;o&&l?s=[a,this.cropX(),this.cropY(),o,l,0,0,r,i]:s=[a,0,0,r,i]}(this.hasFill()||this.hasStroke()||n)&&(t.beginPath(),n?Ba.Util.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)),a&&(n&&t.clip(),t.drawImage.apply(t,s))}_hitFunc(t){var r=this.width(),i=this.height(),n=this.cornerRadius();t.beginPath(),n?Ba.Util.drawRoundedRectPath(t,r,i,n):t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}getWidth(){var t,r;return(t=this.attrs.width)!==null&&t!==void 0?t:(r=this.image())===null||r===void 0?void 0:r.width}getHeight(){var t,r;return(t=this.attrs.height)!==null&&t!==void 0?t:(r=this.image())===null||r===void 0?void 0:r.height}static fromURL(t,r,i=null){var n=Ba.Util.createImageElement();n.onload=function(){var a=new wc({image:n});r(a)},n.onerror=i,n.crossOrigin="Anonymous",n.src=t}};zn.Image=Re;Re.prototype.className="Image";(0,s2._registerNode)(Re);Ar.Factory.addGetterSetter(Re,"cornerRadius",0,(0,Li.getNumberOrArrayOfNumbersValidator)(4));Ar.Factory.addGetterSetter(Re,"image");Ar.Factory.addComponentsGetterSetter(Re,"crop",["x","y","width","height"]);Ar.Factory.addGetterSetter(Re,"cropX",0,(0,Li.getNumberValidator)());Ar.Factory.addGetterSetter(Re,"cropY",0,(0,Li.getNumberValidator)());Ar.Factory.addGetterSetter(Re,"cropWidth",0,(0,Li.getNumberValidator)());Ar.Factory.addGetterSetter(Re,"cropHeight",0,(0,Li.getNumberValidator)());var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.Tag=Yr.Label=void 0;const Kn=lt,o2=$t,l2=ri,no=Z,Cc=ht;var xc=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],h2="Change.konva",c2="none",ws="up",Cs="right",xs="down",Es="left",u2=xc.length;class ao extends l2.Group{constructor(t){super(t),this.on("add.konva",function(r){this._addListeners(r.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(t){var r=this,i,n=function(){r._sync()};for(i=0;i<u2;i++)t.on(xc[i]+h2,n)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){var t=this.getText(),r=this.getTag(),i,n,a,s,o,l,h;if(t&&r){switch(i=t.width(),n=t.height(),a=r.pointerDirection(),s=r.pointerWidth(),h=r.pointerHeight(),o=0,l=0,a){case ws:o=i/2,l=-1*h;break;case Cs:o=i+s,l=n/2;break;case xs:o=i/2,l=n+h;break;case Es:o=-1*s,l=n/2;break}r.setAttrs({x:-1*o,y:-1*l,width:i,height:n}),t.setAttrs({x:-1*o,y:-1*l})}}}Yr.Label=ao;ao.prototype.className="Label";(0,Cc._registerNode)(ao);class Fr extends o2.Shape{_sceneFunc(t){var r=this.width(),i=this.height(),n=this.pointerDirection(),a=this.pointerWidth(),s=this.pointerHeight(),o=this.cornerRadius();let l=0,h=0,c=0,g=0;typeof o=="number"?l=h=c=g=Math.min(o,r/2,i/2):(l=Math.min(o[0]||0,r/2,i/2),h=Math.min(o[1]||0,r/2,i/2),g=Math.min(o[2]||0,r/2,i/2),c=Math.min(o[3]||0,r/2,i/2)),t.beginPath(),t.moveTo(l,0),n===ws&&(t.lineTo((r-a)/2,0),t.lineTo(r/2,-1*s),t.lineTo((r+a)/2,0)),t.lineTo(r-h,0),t.arc(r-h,h,h,Math.PI*3/2,0,!1),n===Cs&&(t.lineTo(r,(i-s)/2),t.lineTo(r+a,i/2),t.lineTo(r,(i+s)/2)),t.lineTo(r,i-g),t.arc(r-g,i-g,g,0,Math.PI/2,!1),n===xs&&(t.lineTo((r+a)/2,i),t.lineTo(r/2,i+s),t.lineTo((r-a)/2,i)),t.lineTo(c,i),t.arc(c,i-c,c,Math.PI/2,Math.PI,!1),n===Es&&(t.lineTo(0,(i+s)/2),t.lineTo(-1*a,i/2),t.lineTo(0,(i-s)/2)),t.lineTo(0,l),t.arc(l,l,l,Math.PI,Math.PI*3/2,!1),t.closePath(),t.fillStrokeShape(this)}getSelfRect(){var t=0,r=0,i=this.pointerWidth(),n=this.pointerHeight(),a=this.pointerDirection(),s=this.width(),o=this.height();return a===ws?(r-=n,o+=n):a===xs?o+=n:a===Es?(t-=i*1.5,s+=i):a===Cs&&(s+=i*1.5),{x:t,y:r,width:s,height:o}}}Yr.Tag=Fr;Fr.prototype.className="Tag";(0,Cc._registerNode)(Fr);Kn.Factory.addGetterSetter(Fr,"pointerDirection",c2);Kn.Factory.addGetterSetter(Fr,"pointerWidth",0,(0,no.getNumberValidator)());Kn.Factory.addGetterSetter(Fr,"pointerHeight",0,(0,no.getNumberValidator)());Kn.Factory.addGetterSetter(Fr,"cornerRadius",0,(0,no.getNumberOrArrayOfNumbersValidator)(4));var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.Rect=void 0;const d2=lt,f2=$t,g2=ht,p2=Ft,v2=Z;class Yn extends f2.Shape{_sceneFunc(t){var r=this.cornerRadius(),i=this.width(),n=this.height();t.beginPath(),r?p2.Util.drawRoundedRectPath(t,i,n,r):t.rect(0,0,i,n),t.closePath(),t.fillStrokeShape(this)}}Di.Rect=Yn;Yn.prototype.className="Rect";(0,g2._registerNode)(Yn);d2.Factory.addGetterSetter(Yn,"cornerRadius",0,(0,v2.getNumberOrArrayOfNumbersValidator)(4));var Xn={};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.RegularPolygon=void 0;const Ec=lt,m2=$t,Tc=Z,_2=ht;class Mr extends m2.Shape{_sceneFunc(t){const r=this._getPoints();t.beginPath(),t.moveTo(r[0].x,r[0].y);for(var i=1;i<r.length;i++)t.lineTo(r[i].x,r[i].y);t.closePath(),t.fillStrokeShape(this)}_getPoints(){const t=this.attrs.sides,r=this.attrs.radius||0,i=[];for(var n=0;n<t;n++)i.push({x:r*Math.sin(n*2*Math.PI/t),y:-1*r*Math.cos(n*2*Math.PI/t)});return i}getSelfRect(){const t=this._getPoints();var r=t[0].x,i=t[0].y,n=t[0].x,a=t[0].y;return t.forEach(s=>{r=Math.min(r,s.x),i=Math.max(i,s.x),n=Math.min(n,s.y),a=Math.max(a,s.y)}),{x:r,y:n,width:i-r,height:a-n}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}Xn.RegularPolygon=Mr;Mr.prototype.className="RegularPolygon";Mr.prototype._centroid=!0;Mr.prototype._attrsAffectingSize=["radius"];(0,_2._registerNode)(Mr);Ec.Factory.addGetterSetter(Mr,"radius",0,(0,Tc.getNumberValidator)());Ec.Factory.addGetterSetter(Mr,"sides",0,(0,Tc.getNumberValidator)());var qn={};Object.defineProperty(qn,"__esModule",{value:!0});qn.Ring=void 0;const Pc=lt,y2=$t,Ac=Z,b2=ht;var _l=Math.PI*2;class Or extends y2.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,_l,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),_l,0,!0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}qn.Ring=Or;Or.prototype.className="Ring";Or.prototype._centroid=!0;Or.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,b2._registerNode)(Or);Pc.Factory.addGetterSetter(Or,"innerRadius",0,(0,Ac.getNumberValidator)());Pc.Factory.addGetterSetter(Or,"outerRadius",0,(0,Ac.getNumberValidator)());var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Sprite=void 0;const kr=lt,S2=$t,w2=ii,Fc=Z,C2=ht;class Le extends S2.Shape{constructor(t){super(t),this._updated=!0,this.anim=new w2.Animation(()=>{var r=this._updated;return this._updated=!1,r}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(t){var r=this.animation(),i=this.frameIndex(),n=i*4,a=this.animations()[r],s=this.frameOffsets(),o=a[n+0],l=a[n+1],h=a[n+2],c=a[n+3],g=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,h,c),t.closePath(),t.fillStrokeShape(this)),g)if(s){var p=s[r],f=i*2;t.drawImage(g,o,l,h,c,p[f+0],p[f+1],h,c)}else t.drawImage(g,o,l,h,c,0,0,h,c)}_hitFunc(t){var r=this.animation(),i=this.frameIndex(),n=i*4,a=this.animations()[r],s=this.frameOffsets(),o=a[n+2],l=a[n+3];if(t.beginPath(),s){var h=s[r],c=i*2;t.rect(h[c+0],h[c+1],o,l)}else t.rect(0,0,o,l);t.closePath(),t.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){var t=this;this.interval=setInterval(function(){t._updateIndex()},1e3/this.frameRate())}start(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){var t=this.frameIndex(),r=this.animation(),i=this.animations(),n=i[r],a=n.length/4;t<a-1?this.frameIndex(t+1):this.frameIndex(0)}}Jn.Sprite=Le;Le.prototype.className="Sprite";(0,C2._registerNode)(Le);kr.Factory.addGetterSetter(Le,"animation");kr.Factory.addGetterSetter(Le,"animations");kr.Factory.addGetterSetter(Le,"frameOffsets");kr.Factory.addGetterSetter(Le,"image");kr.Factory.addGetterSetter(Le,"frameIndex",0,(0,Fc.getNumberValidator)());kr.Factory.addGetterSetter(Le,"frameRate",17,(0,Fc.getNumberValidator)());kr.Factory.backCompat(Le,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.Star=void 0;const so=lt,x2=$t,oo=Z,E2=ht;class nr extends x2.Shape{_sceneFunc(t){var r=this.innerRadius(),i=this.outerRadius(),n=this.numPoints();t.beginPath(),t.moveTo(0,0-i);for(var a=1;a<n*2;a++){var s=a%2===0?i:r,o=s*Math.sin(a*Math.PI/n),l=-1*s*Math.cos(a*Math.PI/n);t.lineTo(o,l)}t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(t){this.outerRadius(t/2)}setHeight(t){this.outerRadius(t/2)}}Qn.Star=nr;nr.prototype.className="Star";nr.prototype._centroid=!0;nr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,E2._registerNode)(nr);so.Factory.addGetterSetter(nr,"numPoints",5,(0,oo.getNumberValidator)());so.Factory.addGetterSetter(nr,"innerRadius",0,(0,oo.getNumberValidator)());so.Factory.addGetterSetter(nr,"outerRadius",0,(0,oo.getNumberValidator)());var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.Text=Cr.stringToArray=void 0;const Ts=Ft,Qt=lt,T2=$t,ar=Z,P2=ht;function Mc(e){return Array.from(e)}Cr.stringToArray=Mc;var Nr="auto",A2="center",ci="justify",F2="Change.konva",M2="2d",yl="-",Oc="left",O2="text",k2="Text",R2="top",L2="bottom",bl="middle",kc="normal",D2="px ",Xi=" ",N2="right",I2="word",G2="char",Sl="none",Ha="",Rc=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],$2=Rc.length;function U2(e){return e.split(",").map(t=>{t=t.trim();const r=t.indexOf(" ")>=0,i=t.indexOf('"')>=0||t.indexOf("'")>=0;return r&&!i&&(t=`"${t}"`),t}).join(", ")}var qi;function Va(){return qi||(qi=Ts.Util.createCanvasElement().getContext(M2),qi)}function B2(e){e.fillText(this._partialText,this._partialTextX,this._partialTextY)}function H2(e){e.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function V2(e){return e=e||{},!e.fillLinearGradientColorStops&&!e.fillRadialGradientColorStops&&!e.fillPatternImage&&(e.fill=e.fill||"black"),e}class Rt extends T2.Shape{constructor(t){super(V2(t)),this._partialTextX=0,this._partialTextY=0;for(var r=0;r<$2;r++)this.on(Rc[r]+F2,this._setTextData);this._setTextData()}_sceneFunc(t){var r=this.textArr,i=r.length;if(this.text()){var n=this.padding(),a=this.fontSize(),s=this.lineHeight()*a,o=this.verticalAlign(),l=0,h=this.align(),c=this.getWidth(),g=this.letterSpacing(),p=this.fill(),f=this.textDecoration(),d=f.indexOf("underline")!==-1,m=f.indexOf("line-through")!==-1,y,w=0,w=s/2,E=0,u=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",bl),t.setAttr("textAlign",Oc),o===bl?l=(this.getHeight()-i*s-n*2)/2:o===L2&&(l=this.getHeight()-i*s-n*2),t.translate(n,l+n),y=0;y<i;y++){var E=0,u=0,v=r[y],_=v.text,x=v.width,M=v.lastInParagraph,b,F,C;if(t.save(),h===N2?E+=c-x-n*2:h===A2&&(E+=(c-x-n*2)/2),d){t.save(),t.beginPath(),t.moveTo(E,w+u+Math.round(a/2)),b=_.split(" ").length-1,F=b===0,C=h===ci&&!M?c-n*2:x,t.lineTo(E+Math.round(C),w+u+Math.round(a/2)),t.lineWidth=a/15;const H=this._getLinearGradient();t.strokeStyle=H||p,t.stroke(),t.restore()}if(m){t.save(),t.beginPath(),t.moveTo(E,w+u),b=_.split(" ").length-1,F=b===0,C=h===ci&&M&&!F?c-n*2:x,t.lineTo(E+Math.round(C),w+u),t.lineWidth=a/15;const H=this._getLinearGradient();t.strokeStyle=H||p,t.stroke(),t.restore()}if(g!==0||h===ci){b=_.split(" ").length-1;for(var A=Mc(_),G=0;G<A.length;G++){var L=A[G];L===" "&&!M&&h===ci&&(E+=(c-n*2-x)/b),this._partialTextX=E,this._partialTextY=w+u,this._partialText=L,t.fillStrokeShape(this),E+=this.measureSize(L).width+g}}else this._partialTextX=E,this._partialTextY=w+u,this._partialText=_,t.fillStrokeShape(this);t.restore(),i>1&&(w+=s)}}}_hitFunc(t){var r=this.getWidth(),i=this.getHeight();t.beginPath(),t.rect(0,0,r,i),t.closePath(),t.fillStrokeShape(this)}setText(t){var r=Ts.Util._isString(t)?t:t==null?"":t+"";return this._setAttr(O2,r),this}getWidth(){var t=this.attrs.width===Nr||this.attrs.width===void 0;return t?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){var t=this.attrs.height===Nr||this.attrs.height===void 0;return t?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Ts.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(t){var r=Va(),i=this.fontSize(),n;return r.save(),r.font=this._getContextFont(),n=r.measureText(t),r.restore(),{width:n.width,height:i}}_getContextFont(){return this.fontStyle()+Xi+this.fontVariant()+Xi+(this.fontSize()+D2)+U2(this.fontFamily())}_addTextLine(t){this.align()===ci&&(t=t.trim());var i=this._getTextWidth(t);return this.textArr.push({text:t,width:i,lastInParagraph:!1})}_getTextWidth(t){var r=this.letterSpacing(),i=t.length;return Va().measureText(t).width+(i?r*(i-1):0)}_setTextData(){var t=this.text().split(`
`),r=+this.fontSize(),i=0,n=this.lineHeight()*r,a=this.attrs.width,s=this.attrs.height,o=a!==Nr&&a!==void 0,l=s!==Nr&&s!==void 0,h=this.padding(),c=a-h*2,g=s-h*2,p=0,f=this.wrap(),d=f!==Sl,m=f!==G2&&d,y=this.ellipsis();this.textArr=[],Va().font=this._getContextFont();for(var w=y?this._getTextWidth(Ha):0,E=0,u=t.length;E<u;++E){var v=t[E],_=this._getTextWidth(v);if(o&&_>c)for(;v.length>0;){for(var x=0,M=v.length,b="",F=0;x<M;){var C=x+M>>>1,A=v.slice(0,C+1),G=this._getTextWidth(A)+w;G<=c?(x=C+1,b=A,F=G):M=C}if(b){if(m){var L,R=v[b.length],U=R===Xi||R===yl;U&&F<=c?L=b.length:L=Math.max(b.lastIndexOf(Xi),b.lastIndexOf(yl))+1,L>0&&(x=L,b=b.slice(0,x),F=this._getTextWidth(b))}b=b.trimRight(),this._addTextLine(b),i=Math.max(i,F),p+=n;var H=this._shouldHandleEllipsis(p);if(H){this._tryToAddEllipsisToLastLine();break}if(v=v.slice(x),v=v.trimLeft(),v.length>0&&(_=this._getTextWidth(v),_<=c)){this._addTextLine(v),p+=n,i=Math.max(i,_);break}}else break}else this._addTextLine(v),p+=n,i=Math.max(i,_),this._shouldHandleEllipsis(p)&&E<u-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&p+n>g)break}this.textHeight=r,this.textWidth=i}_shouldHandleEllipsis(t){var r=+this.fontSize(),i=this.lineHeight()*r,n=this.attrs.height,a=n!==Nr&&n!==void 0,s=this.padding(),o=n-s*2,l=this.wrap(),h=l!==Sl;return!h||a&&t+i>o}_tryToAddEllipsisToLastLine(){var t=this.attrs.width,r=t!==Nr&&t!==void 0,i=this.padding(),n=t-i*2,a=this.ellipsis(),s=this.textArr[this.textArr.length-1];if(!(!s||!a)){if(r){var o=this._getTextWidth(s.text+Ha)<n;o||(s.text=s.text.slice(0,s.text.length-3))}this.textArr.splice(this.textArr.length-1,1),this._addTextLine(s.text+Ha)}}getStrokeScaleEnabled(){return!0}}Cr.Text=Rt;Rt.prototype._fillFunc=B2;Rt.prototype._strokeFunc=H2;Rt.prototype.className=k2;Rt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,P2._registerNode)(Rt);Qt.Factory.overWriteSetter(Rt,"width",(0,ar.getNumberOrAutoValidator)());Qt.Factory.overWriteSetter(Rt,"height",(0,ar.getNumberOrAutoValidator)());Qt.Factory.addGetterSetter(Rt,"fontFamily","Arial");Qt.Factory.addGetterSetter(Rt,"fontSize",12,(0,ar.getNumberValidator)());Qt.Factory.addGetterSetter(Rt,"fontStyle",kc);Qt.Factory.addGetterSetter(Rt,"fontVariant",kc);Qt.Factory.addGetterSetter(Rt,"padding",0,(0,ar.getNumberValidator)());Qt.Factory.addGetterSetter(Rt,"align",Oc);Qt.Factory.addGetterSetter(Rt,"verticalAlign",R2);Qt.Factory.addGetterSetter(Rt,"lineHeight",1,(0,ar.getNumberValidator)());Qt.Factory.addGetterSetter(Rt,"wrap",I2);Qt.Factory.addGetterSetter(Rt,"ellipsis",!1,(0,ar.getBooleanValidator)());Qt.Factory.addGetterSetter(Rt,"letterSpacing",0,(0,ar.getNumberValidator)());Qt.Factory.addGetterSetter(Rt,"text","",(0,ar.getStringValidator)());Qt.Factory.addGetterSetter(Rt,"textDecoration","");var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.TextPath=void 0;const ja=Ft,xe=lt,j2=$t,ui=ni,Wa=Cr,Lc=Z,W2=ht;var z2="",Dc="normal";function Nc(e){e.fillText(this.partialText,0,0)}function Ic(e){e.strokeText(this.partialText,0,0)}class Ut extends j2.Shape{constructor(t){super(t),this.dummyCanvas=ja.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return ui.Path.getPathLength(this.dataArray)}_getPointAtLength(t){if(!this.attrs.data)return null;const r=this.pathLength;return t-1>r?null:ui.Path.getPointAtLengthOfDataArray(t,this.dataArray)}_readDataAttribute(){this.dataArray=ui.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var r=this.textDecoration(),i=this.fill(),n=this.fontSize(),a=this.glyphInfo;r==="underline"&&t.beginPath();for(var s=0;s<a.length;s++){t.save();var o=a[s].p0;t.translate(o.x,o.y),t.rotate(a[s].rotation),this.partialText=a[s].text,t.fillStrokeShape(this),r==="underline"&&(s===0&&t.moveTo(0,n/2+1),t.lineTo(n,n/2+1)),t.restore()}r==="underline"&&(t.strokeStyle=i,t.lineWidth=n/20,t.stroke()),t.restore()}_hitFunc(t){t.beginPath();var r=this.glyphInfo;if(r.length>=1){var i=r[0].p0;t.moveTo(i.x,i.y)}for(var n=0;n<r.length;n++){var a=r[n].p1;t.lineTo(a.x,a.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return ja.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(t){return Wa.Text.prototype.setText.call(this,t)}_getContextFont(){return Wa.Text.prototype._getContextFont.call(this)}_getTextSize(t){var r=this.dummyCanvas,i=r.getContext("2d");i.save(),i.font=this._getContextFont();var n=i.measureText(t);return i.restore(),{width:n.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:t,height:r}=this._getTextSize(this.attrs.text);if(this.textWidth=t,this.textHeight=r,this.glyphInfo=[],!this.attrs.data)return null;const i=this.letterSpacing(),n=this.align(),a=this.kerningFunc(),s=Math.max(this.textWidth+((this.attrs.text||"").length-1)*i,0);let o=0;n==="center"&&(o=Math.max(0,this.pathLength/2-s/2)),n==="right"&&(o=Math.max(0,this.pathLength-s));const l=(0,Wa.stringToArray)(this.text());let h=o;for(var c=0;c<l.length;c++){const g=this._getPointAtLength(h);if(!g)return;let p=this._getTextSize(l[c]).width+i;if(l[c]===" "&&n==="justify"){const E=this.text().split(" ").length-1;p+=(this.pathLength-s)/E}const f=this._getPointAtLength(h+p);if(!f)return;const d=ui.Path.getLineLength(g.x,g.y,f.x,f.y);let m=0;if(a)try{m=a(l[c-1],l[c])*this.fontSize()}catch{m=0}g.x+=m,f.x+=m,this.textWidth+=m;const y=ui.Path.getPointOnLine(m+d/2,g.x,g.y,f.x,f.y),w=Math.atan2(f.y-g.y,f.x-g.x);this.glyphInfo.push({transposeX:y.x,transposeY:y.y,text:l[c],rotation:w,p0:g,p1:f}),h+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach(function(c){t.push(c.p0.x),t.push(c.p0.y),t.push(c.p1.x),t.push(c.p1.y)});for(var r=t[0]||0,i=t[0]||0,n=t[1]||0,a=t[1]||0,s,o,l=0;l<t.length/2;l++)s=t[l*2],o=t[l*2+1],r=Math.min(r,s),i=Math.max(i,s),n=Math.min(n,o),a=Math.max(a,o);var h=this.fontSize();return{x:r-h/2,y:n-h/2,width:i-r+h,height:a-n+h}}destroy(){return ja.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}Zn.TextPath=Ut;Ut.prototype._fillFunc=Nc;Ut.prototype._strokeFunc=Ic;Ut.prototype._fillFuncHit=Nc;Ut.prototype._strokeFuncHit=Ic;Ut.prototype.className="TextPath";Ut.prototype._attrsAffectingSize=["text","fontSize","data"];(0,W2._registerNode)(Ut);xe.Factory.addGetterSetter(Ut,"data");xe.Factory.addGetterSetter(Ut,"fontFamily","Arial");xe.Factory.addGetterSetter(Ut,"fontSize",12,(0,Lc.getNumberValidator)());xe.Factory.addGetterSetter(Ut,"fontStyle",Dc);xe.Factory.addGetterSetter(Ut,"align","left");xe.Factory.addGetterSetter(Ut,"letterSpacing",0,(0,Lc.getNumberValidator)());xe.Factory.addGetterSetter(Ut,"textBaseline","middle");xe.Factory.addGetterSetter(Ut,"fontVariant",Dc);xe.Factory.addGetterSetter(Ut,"text",z2);xe.Factory.addGetterSetter(Ut,"textDecoration",null);xe.Factory.addGetterSetter(Ut,"kerningFunc",null);var ta={};Object.defineProperty(ta,"__esModule",{value:!0});ta.Transformer=void 0;const St=Ft,wt=lt,wl=Pt,K2=$t,Y2=Di,Cl=ri,me=ht,sr=Z,X2=ht;var Gc="tr-konva",q2=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map(e=>e+`.${Gc}`).join(" "),xl="nodesRect",J2=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],Q2={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135};const Z2="ontouchstart"in me.Konva._global;function t5(e,t){if(e==="rotater")return"crosshair";t+=St.Util.degToRad(Q2[e]||0);var r=(St.Util.radToDeg(t)%360+360)%360;return St.Util._inRange(r,315+22.5,360)||St.Util._inRange(r,0,22.5)?"ns-resize":St.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":St.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":St.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":St.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":St.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":St.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":St.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(St.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}var pn=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],El=1e8;function e5(e){return{x:e.x+e.width/2*Math.cos(e.rotation)+e.height/2*Math.sin(-e.rotation),y:e.y+e.height/2*Math.cos(e.rotation)+e.width/2*Math.sin(e.rotation)}}function $c(e,t,r){const i=r.x+(e.x-r.x)*Math.cos(t)-(e.y-r.y)*Math.sin(t),n=r.y+(e.x-r.x)*Math.sin(t)+(e.y-r.y)*Math.cos(t);return Object.assign(Object.assign({},e),{rotation:e.rotation+t,x:i,y:n})}function r5(e,t){const r=e5(e);return $c(e,t,r)}function i5(e,t,r){let i=t;for(let n=0;n<e.length;n++){const a=me.Konva.getAngle(e[n]),s=Math.abs(a-t)%(Math.PI*2);Math.min(s,Math.PI*2-s)<r&&(i=a)}return i}class _t extends Cl.Group{constructor(t){super(t),this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(q2,this.update),this.getNode()&&this.update()}attachTo(t){return this.setNode(t),this}setNode(t){return St.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return Gc+this._id}setNodes(t=[]){this._nodes&&this._nodes.length&&this.detach();const r=t.filter(n=>n.isAncestorOf(this)?(St.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);this._nodes=t=r,t.length===1&&this.useSingleNodeRotation()?this.rotation(t[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(n=>{const a=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()},s=n._attrsAffectingSize.map(o=>o+"Change."+this._getEventNamespace()).join(" ");n.on(s,a),n.on(J2.map(o=>o+`.${this._getEventNamespace()}`).join(" "),a),n.on(`absoluteTransformChange.${this._getEventNamespace()}`,a),this._proxyDrag(n)}),this._resetTransformCache();var i=!!this.findOne(".top-left");return i&&this.update(),this}_proxyDrag(t){let r;t.on(`dragstart.${this._getEventNamespace()}`,i=>{r=t.getAbsolutePosition(),!this.isDragging()&&t!==this.findOne(".back")&&this.startDrag(i,!1)}),t.on(`dragmove.${this._getEventNamespace()}`,i=>{if(!r)return;const n=t.getAbsolutePosition(),a=n.x-r.x,s=n.y-r.y;this.nodes().forEach(o=>{if(o===t||o.isDragging())return;const l=o.getAbsolutePosition();o.setAbsolutePosition({x:l.x+a,y:l.y+s}),o.startDrag(i)}),r=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(t=>{t.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(xl),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(xl,this.__getNodeRect)}__getNodeShape(t,r=this.rotation(),i){var n=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),a=t.getAbsoluteScale(i),s=t.getAbsolutePosition(i),o=n.x*a.x-t.offsetX()*a.x,l=n.y*a.y-t.offsetY()*a.y;const h=(me.Konva.getAngle(t.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),c={x:s.x+o*Math.cos(h)+l*Math.sin(-h),y:s.y+l*Math.cos(h)+o*Math.sin(h),width:n.width*a.x,height:n.height*a.y,rotation:h};return $c(c,-me.Konva.getAngle(r),{x:0,y:0})}__getNodeRect(){var t=this.getNode();if(!t)return{x:-El,y:-El,width:0,height:0,rotation:0};const r=[];this.nodes().map(h=>{const c=h.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()});var g=[{x:c.x,y:c.y},{x:c.x+c.width,y:c.y},{x:c.x+c.width,y:c.y+c.height},{x:c.x,y:c.y+c.height}],p=h.getAbsoluteTransform();g.forEach(function(f){var d=p.point(f);r.push(d)})});const i=new St.Transform;i.rotate(-me.Konva.getAngle(this.rotation()));var n,a,s,o;r.forEach(function(h){var c=i.point(h);n===void 0&&(n=s=c.x,a=o=c.y),n=Math.min(n,c.x),a=Math.min(a,c.y),s=Math.max(s,c.x),o=Math.max(o,c.y)}),i.invert();const l=i.point({x:n,y:a});return{x:l.x,y:l.y,width:s-n,height:o-a,rotation:me.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),pn.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")}_createAnchor(t){var r=new Y2.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Z2?10:"auto"}),i=this;r.on("mousedown touchstart",function(n){i._handleMouseDown(n)}),r.on("dragstart",n=>{r.stopDrag(),n.cancelBubble=!0}),r.on("dragend",n=>{n.cancelBubble=!0}),r.on("mouseenter",()=>{var n=me.Konva.getAngle(this.rotation()),a=t5(t,n);r.getStage().content&&(r.getStage().content.style.cursor=a),this._cursorChange=!0}),r.on("mouseout",()=>{r.getStage().content&&(r.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(r)}_createBack(){var t=new K2.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(r){var i=this.getParent(),n=i.padding();r.beginPath(),r.rect(-n,-n,this.width()+n*2,this.height()+n*2),r.moveTo(this.width()/2,-n),i.rotateEnabled()&&r.lineTo(this.width()/2,-i.rotateAnchorOffset()*St.Util._sign(this.height())-n),r.fillStrokeShape(this)},hitFunc:(r,i)=>{if(this.shouldOverdrawWholeArea()){var n=this.padding();r.beginPath(),r.rect(-n,-n,i.width()+n*2,i.height()+n*2),r.fillStrokeShape(i)}}});this.add(t),this._proxyDrag(t),t.on("dragstart",r=>{r.cancelBubble=!0}),t.on("dragmove",r=>{r.cancelBubble=!0}),t.on("dragend",r=>{r.cancelBubble=!0}),this.on("dragmove",r=>{this.update()})}_handleMouseDown(t){this._movingAnchorName=t.target.name().split(" ")[0];var r=this._getNodeRect(),i=r.width,n=r.height,a=Math.sqrt(Math.pow(i,2)+Math.pow(n,2));this.sin=Math.abs(n/a),this.cos=Math.abs(i/a),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;var s=t.target.getAbsolutePosition(),o=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:o.x-s.x,y:o.y-s.y},this._fire("transformstart",{evt:t.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:t.evt,target:l})})}_handleMouseMove(t){var r,i,n,a=this.findOne("."+this._movingAnchorName),s=a.getStage();s.setPointersPositions(t);const o=s.getPointerPosition();let l={x:o.x-this._anchorDragOffset.x,y:o.y-this._anchorDragOffset.y};const h=a.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(h,l,t)),a.setAbsolutePosition(l);const c=a.getAbsolutePosition();if(!(h.x===c.x&&h.y===c.y)){if(this._movingAnchorName==="rotater"){var g=this._getNodeRect();r=a.x()-g.width/2,i=-a.y()+g.height/2;let L=Math.atan2(-i,r)+Math.PI/2;g.height<0&&(L-=Math.PI);var p=me.Konva.getAngle(this.rotation());const R=p+L,U=me.Konva.getAngle(this.rotationSnapTolerance()),N=i5(this.rotationSnaps(),R,U)-g.rotation,I=r5(g,N);this._fitNodesInto(I,t);return}var f=this.shiftBehavior(),d;f==="inverted"?d=this.keepRatio()&&!t.shiftKey:f==="none"?d=this.keepRatio():d=this.keepRatio()||t.shiftKey;var u=this.centeredScaling()||t.altKey;if(this._movingAnchorName==="top-left"){if(d){var m=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(m.y-a.y(),2));var y=this.findOne(".top-left").x()>m.x?-1:1,w=this.findOne(".top-left").y()>m.y?-1:1;r=n*this.cos*y,i=n*this.sin*w,this.findOne(".top-left").x(m.x-r),this.findOne(".top-left").y(m.y-i)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(a.y());else if(this._movingAnchorName==="top-right"){if(d){var m=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(m.y-a.y(),2));var y=this.findOne(".top-right").x()<m.x?-1:1,w=this.findOne(".top-right").y()>m.y?-1:1;r=n*this.cos*y,i=n*this.sin*w,this.findOne(".top-right").x(m.x+r),this.findOne(".top-right").y(m.y-i)}var E=a.position();this.findOne(".top-left").y(E.y),this.findOne(".bottom-right").x(E.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(a.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(a.x());else if(this._movingAnchorName==="bottom-left"){if(d){var m=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};n=Math.sqrt(Math.pow(m.x-a.x(),2)+Math.pow(a.y()-m.y,2));var y=m.x<a.x()?-1:1,w=a.y()<m.y?-1:1;r=n*this.cos*y,i=n*this.sin*w,a.x(m.x-r),a.y(m.y+i)}E=a.position(),this.findOne(".top-left").x(E.x),this.findOne(".bottom-right").y(E.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(a.y());else if(this._movingAnchorName==="bottom-right"){if(d){var m=u?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};n=Math.sqrt(Math.pow(a.x()-m.x,2)+Math.pow(a.y()-m.y,2));var y=this.findOne(".bottom-right").x()<m.x?-1:1,w=this.findOne(".bottom-right").y()<m.y?-1:1;r=n*this.cos*y,i=n*this.sin*w,this.findOne(".bottom-right").x(m.x+r),this.findOne(".bottom-right").y(m.y+i)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));var u=this.centeredScaling()||t.altKey;if(u){var v=this.findOne(".top-left"),_=this.findOne(".bottom-right"),x=v.x(),M=v.y(),b=this.getWidth()-_.x(),F=this.getHeight()-_.y();_.move({x:-x,y:-M}),v.move({x:b,y:F})}var C=this.findOne(".top-left").getAbsolutePosition();r=C.x,i=C.y;var A=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),G=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:r,y:i,width:A,height:G,rotation:me.Konva.getAngle(this.rotation())},t)}}_handleMouseUp(t){this._removeEvents(t)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(t){if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));var r=this.getNode();this._fire("transformend",{evt:t,target:r}),r&&this._nodes.forEach(i=>{i._fire("transformend",{evt:t,target:i})}),this._movingAnchorName=null}}_fitNodesInto(t,r){var i=this._getNodeRect();const n=1;if(St.Util._inRange(t.width,-this.padding()*2-n,n)){this.update();return}if(St.Util._inRange(t.height,-this.padding()*2-n,n)){this.update();return}const a=this.flipEnabled();var s=new St.Transform;if(s.rotate(me.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){const g=s.point({x:-this.padding()*2,y:0});if(t.x+=g.x,t.y+=g.y,t.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,!a){this.update();return}}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0){const g=s.point({x:this.padding()*2,y:0});if(this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,t.width+=this.padding()*2,!a){this.update();return}}if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){const g=s.point({x:0,y:-this.padding()*2});if(t.x+=g.x,t.y+=g.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,t.height+=this.padding()*2,!a){this.update();return}}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const g=s.point({x:0,y:this.padding()*2});if(this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=g.x,this._anchorDragOffset.y-=g.y,t.height+=this.padding()*2,!a){this.update();return}}if(this.boundBoxFunc()){const g=this.boundBoxFunc()(i,t);g?t=g:St.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,l=new St.Transform;l.translate(i.x,i.y),l.rotate(i.rotation),l.scale(i.width/o,i.height/o);const h=new St.Transform;h.translate(t.x,t.y),h.rotate(t.rotation),h.scale(t.width/o,t.height/o);const c=h.multiply(l.invert());this._nodes.forEach(g=>{var p;const f=g.getParent().getAbsoluteTransform(),d=g.getTransform().copy();d.translate(g.offsetX(),g.offsetY());const m=new St.Transform;m.multiply(f.copy().invert()).multiply(c).multiply(f).multiply(d);const y=m.decompose();g.setAttrs(y),this._fire("transform",{evt:r,target:g}),g._fire("transform",{evt:r,target:g}),(p=g.getLayer())===null||p===void 0||p.batchDraw()}),this.rotation(St.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(t,r){this.findOne(t).setAttrs(r)}update(){var t,r=this._getNodeRect();this.rotation(St.Util._getRotation(r.rotation));var i=r.width,n=r.height,a=this.enabledAnchors(),s=this.resizeEnabled(),o=this.padding(),l=this.anchorSize();this.find("._anchor").forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+o,offsetY:l/2+o,visible:s&&a.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:i/2,y:0,offsetY:l/2+o,visible:s&&a.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:i,y:0,offsetX:l/2-o,offsetY:l/2+o,visible:s&&a.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:n/2,offsetX:l/2+o,visible:s&&a.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:i,y:n/2,offsetX:l/2-o,visible:s&&a.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:n,offsetX:l/2+o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:i/2,y:n,offsetY:l/2-o,visible:s&&a.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:i,y:n,offsetX:l/2-o,offsetY:l/2-o,visible:s&&a.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:i/2,y:-this.rotateAnchorOffset()*St.Util._sign(n)-o,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:i,height:n,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0}),(t=this.getLayer())===null||t===void 0||t.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Cl.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return wl.Node.prototype.toObject.call(this)}clone(t){var r=wl.Node.prototype.clone.call(this,t);return r}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}ta.Transformer=_t;function n5(e){return e instanceof Array||St.Util.warn("enabledAnchors value should be an array"),e instanceof Array&&e.forEach(function(t){pn.indexOf(t)===-1&&St.Util.warn("Unknown anchor name: "+t+". Available names are: "+pn.join(", "))}),e||[]}_t.prototype.className="Transformer";(0,X2._registerNode)(_t);wt.Factory.addGetterSetter(_t,"enabledAnchors",pn,n5);wt.Factory.addGetterSetter(_t,"flipEnabled",!0,(0,sr.getBooleanValidator)());wt.Factory.addGetterSetter(_t,"resizeEnabled",!0);wt.Factory.addGetterSetter(_t,"anchorSize",10,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"rotateEnabled",!0);wt.Factory.addGetterSetter(_t,"rotationSnaps",[]);wt.Factory.addGetterSetter(_t,"rotateAnchorOffset",50,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"rotationSnapTolerance",5,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"borderEnabled",!0);wt.Factory.addGetterSetter(_t,"anchorStroke","rgb(0, 161, 255)");wt.Factory.addGetterSetter(_t,"anchorStrokeWidth",1,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"anchorFill","white");wt.Factory.addGetterSetter(_t,"anchorCornerRadius",0,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"borderStroke","rgb(0, 161, 255)");wt.Factory.addGetterSetter(_t,"borderStrokeWidth",1,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"borderDash");wt.Factory.addGetterSetter(_t,"keepRatio",!0);wt.Factory.addGetterSetter(_t,"shiftBehavior","default");wt.Factory.addGetterSetter(_t,"centeredScaling",!1);wt.Factory.addGetterSetter(_t,"ignoreStroke",!1);wt.Factory.addGetterSetter(_t,"padding",0,(0,sr.getNumberValidator)());wt.Factory.addGetterSetter(_t,"node");wt.Factory.addGetterSetter(_t,"nodes");wt.Factory.addGetterSetter(_t,"boundBoxFunc");wt.Factory.addGetterSetter(_t,"anchorDragBoundFunc");wt.Factory.addGetterSetter(_t,"shouldOverdrawWholeArea",!1);wt.Factory.addGetterSetter(_t,"useSingleNodeRotation",!0);wt.Factory.backCompat(_t,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var ea={};Object.defineProperty(ea,"__esModule",{value:!0});ea.Wedge=void 0;const ra=lt,a5=$t,s5=ht,Uc=Z,o5=ht;class ze extends a5.Shape{_sceneFunc(t){t.beginPath(),t.arc(0,0,this.radius(),0,s5.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(t){this.radius(t/2)}setHeight(t){this.radius(t/2)}}ea.Wedge=ze;ze.prototype.className="Wedge";ze.prototype._centroid=!0;ze.prototype._attrsAffectingSize=["radius"];(0,o5._registerNode)(ze);ra.Factory.addGetterSetter(ze,"radius",0,(0,Uc.getNumberValidator)());ra.Factory.addGetterSetter(ze,"angle",0,(0,Uc.getNumberValidator)());ra.Factory.addGetterSetter(ze,"clockwise",!1);ra.Factory.backCompat(ze,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.Blur=void 0;const Tl=lt,l5=Pt,h5=Z;function Pl(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var c5=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],u5=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function d5(e,t){var r=e.data,i=e.width,n=e.height,a,s,o,l,h,c,g,p,f,d,m,y,w,E,u,v,_,x,M,b,F,C,A,G,L=t+t+1,R=i-1,U=n-1,H=t+1,N=H*(H+1)/2,I=new Pl,j=null,q=I,Y=null,it=null,dt=c5[t],ft=u5[t];for(o=1;o<L;o++)q=q.next=new Pl,o===H&&(j=q);for(q.next=I,g=c=0,s=0;s<n;s++){for(v=_=x=M=p=f=d=m=0,y=H*(b=r[c]),w=H*(F=r[c+1]),E=H*(C=r[c+2]),u=H*(A=r[c+3]),p+=N*b,f+=N*F,d+=N*C,m+=N*A,q=I,o=0;o<H;o++)q.r=b,q.g=F,q.b=C,q.a=A,q=q.next;for(o=1;o<H;o++)l=c+((R<o?R:o)<<2),p+=(q.r=b=r[l])*(G=H-o),f+=(q.g=F=r[l+1])*G,d+=(q.b=C=r[l+2])*G,m+=(q.a=A=r[l+3])*G,v+=b,_+=F,x+=C,M+=A,q=q.next;for(Y=I,it=j,a=0;a<i;a++)r[c+3]=A=m*dt>>ft,A!==0?(A=255/A,r[c]=(p*dt>>ft)*A,r[c+1]=(f*dt>>ft)*A,r[c+2]=(d*dt>>ft)*A):r[c]=r[c+1]=r[c+2]=0,p-=y,f-=w,d-=E,m-=u,y-=Y.r,w-=Y.g,E-=Y.b,u-=Y.a,l=g+((l=a+t+1)<R?l:R)<<2,v+=Y.r=r[l],_+=Y.g=r[l+1],x+=Y.b=r[l+2],M+=Y.a=r[l+3],p+=v,f+=_,d+=x,m+=M,Y=Y.next,y+=b=it.r,w+=F=it.g,E+=C=it.b,u+=A=it.a,v-=b,_-=F,x-=C,M-=A,it=it.next,c+=4;g+=i}for(a=0;a<i;a++){for(_=x=M=v=f=d=m=p=0,c=a<<2,y=H*(b=r[c]),w=H*(F=r[c+1]),E=H*(C=r[c+2]),u=H*(A=r[c+3]),p+=N*b,f+=N*F,d+=N*C,m+=N*A,q=I,o=0;o<H;o++)q.r=b,q.g=F,q.b=C,q.a=A,q=q.next;for(h=i,o=1;o<=t;o++)c=h+a<<2,p+=(q.r=b=r[c])*(G=H-o),f+=(q.g=F=r[c+1])*G,d+=(q.b=C=r[c+2])*G,m+=(q.a=A=r[c+3])*G,v+=b,_+=F,x+=C,M+=A,q=q.next,o<U&&(h+=i);for(c=a,Y=I,it=j,s=0;s<n;s++)l=c<<2,r[l+3]=A=m*dt>>ft,A>0?(A=255/A,r[l]=(p*dt>>ft)*A,r[l+1]=(f*dt>>ft)*A,r[l+2]=(d*dt>>ft)*A):r[l]=r[l+1]=r[l+2]=0,p-=y,f-=w,d-=E,m-=u,y-=Y.r,w-=Y.g,E-=Y.b,u-=Y.a,l=a+((l=s+H)<U?l:U)*i<<2,p+=v+=Y.r=r[l],f+=_+=Y.g=r[l+1],d+=x+=Y.b=r[l+2],m+=M+=Y.a=r[l+3],Y=Y.next,y+=b=it.r,w+=F=it.g,E+=C=it.b,u+=A=it.a,v-=b,_-=F,x-=C,M-=A,it=it.next,c+=i}}const f5=function(t){var r=Math.round(this.blurRadius());r>0&&d5(t,r)};ia.Blur=f5;Tl.Factory.addGetterSetter(l5.Node,"blurRadius",0,(0,h5.getNumberValidator)(),Tl.Factory.afterSetFilter);var na={};Object.defineProperty(na,"__esModule",{value:!0});na.Brighten=void 0;const Al=lt,g5=Pt,p5=Z,v5=function(e){var t=this.brightness()*255,r=e.data,i=r.length,n;for(n=0;n<i;n+=4)r[n]+=t,r[n+1]+=t,r[n+2]+=t};na.Brighten=v5;Al.Factory.addGetterSetter(g5.Node,"brightness",0,(0,p5.getNumberValidator)(),Al.Factory.afterSetFilter);var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.Contrast=void 0;const Fl=lt,m5=Pt,_5=Z,y5=function(e){var t=Math.pow((this.contrast()+100)/100,2),r=e.data,i=r.length,n=150,a=150,s=150,o;for(o=0;o<i;o+=4)n=r[o],a=r[o+1],s=r[o+2],n/=255,n-=.5,n*=t,n+=.5,n*=255,a/=255,a-=.5,a*=t,a+=.5,a*=255,s/=255,s-=.5,s*=t,s+=.5,s*=255,n=n<0?0:n>255?255:n,a=a<0?0:a>255?255:a,s=s<0?0:s>255?255:s,r[o]=n,r[o+1]=a,r[o+2]=s};aa.Contrast=y5;Fl.Factory.addGetterSetter(m5.Node,"contrast",0,(0,_5.getNumberValidator)(),Fl.Factory.afterSetFilter);var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.Emboss=void 0;const er=lt,oa=Pt,b5=Ft,Bc=Z,S5=function(e){var t=this.embossStrength()*10,r=this.embossWhiteLevel()*255,i=this.embossDirection(),n=this.embossBlend(),a=0,s=0,o=e.data,l=e.width,h=e.height,c=l*4,g=h;switch(i){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:b5.Util.error("Unknown emboss direction: "+i)}do{var p=(g-1)*c,f=a;g+f<1&&(f=0),g+f>h&&(f=0);var d=(g-1+f)*l*4,m=l;do{var y=p+(m-1)*4,w=s;m+w<1&&(w=0),m+w>l&&(w=0);var E=d+(m-1+w)*4,u=o[y]-o[E],v=o[y+1]-o[E+1],_=o[y+2]-o[E+2],x=u,M=x>0?x:-x,b=v>0?v:-v,F=_>0?_:-_;if(b>M&&(x=v),F>M&&(x=_),x*=t,n){var C=o[y]+x,A=o[y+1]+x,G=o[y+2]+x;o[y]=C>255?255:C<0?0:C,o[y+1]=A>255?255:A<0?0:A,o[y+2]=G>255?255:G<0?0:G}else{var L=r-x;L<0?L=0:L>255&&(L=255),o[y]=o[y+1]=o[y+2]=L}}while(--m)}while(--g)};sa.Emboss=S5;er.Factory.addGetterSetter(oa.Node,"embossStrength",.5,(0,Bc.getNumberValidator)(),er.Factory.afterSetFilter);er.Factory.addGetterSetter(oa.Node,"embossWhiteLevel",.5,(0,Bc.getNumberValidator)(),er.Factory.afterSetFilter);er.Factory.addGetterSetter(oa.Node,"embossDirection","top-left",null,er.Factory.afterSetFilter);er.Factory.addGetterSetter(oa.Node,"embossBlend",!1,null,er.Factory.afterSetFilter);var la={};Object.defineProperty(la,"__esModule",{value:!0});la.Enhance=void 0;const Ml=lt,w5=Pt,C5=Z;function za(e,t,r,i,n){var a=r-t,s=n-i,o;return a===0?i+s/2:s===0?i:(o=(e-t)/a,o=s*o+i,o)}const x5=function(e){var t=e.data,r=t.length,i=t[0],n=i,a,s=t[1],o=s,l,h=t[2],c=h,g,p,f=this.enhance();if(f!==0){for(p=0;p<r;p+=4)a=t[p+0],a<i?i=a:a>n&&(n=a),l=t[p+1],l<s?s=l:l>o&&(o=l),g=t[p+2],g<h?h=g:g>c&&(c=g);n===i&&(n=255,i=0),o===s&&(o=255,s=0),c===h&&(c=255,h=0);var d,m,y,w,E,u,v,_,x;for(f>0?(m=n+f*(255-n),y=i-f*(i-0),E=o+f*(255-o),u=s-f*(s-0),_=c+f*(255-c),x=h-f*(h-0)):(d=(n+i)*.5,m=n+f*(n-d),y=i+f*(i-d),w=(o+s)*.5,E=o+f*(o-w),u=s+f*(s-w),v=(c+h)*.5,_=c+f*(c-v),x=h+f*(h-v)),p=0;p<r;p+=4)t[p+0]=za(t[p+0],i,n,y,m),t[p+1]=za(t[p+1],s,o,u,E),t[p+2]=za(t[p+2],h,c,x,_)}};la.Enhance=x5;Ml.Factory.addGetterSetter(w5.Node,"enhance",0,(0,C5.getNumberValidator)(),Ml.Factory.afterSetFilter);var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.Grayscale=void 0;const E5=function(e){var t=e.data,r=t.length,i,n;for(i=0;i<r;i+=4)n=.34*t[i]+.5*t[i+1]+.16*t[i+2],t[i]=n,t[i+1]=n,t[i+2]=n};ha.Grayscale=E5;var ca={};Object.defineProperty(ca,"__esModule",{value:!0});ca.HSL=void 0;const Xr=lt,lo=Pt,ho=Z;Xr.Factory.addGetterSetter(lo.Node,"hue",0,(0,ho.getNumberValidator)(),Xr.Factory.afterSetFilter);Xr.Factory.addGetterSetter(lo.Node,"saturation",0,(0,ho.getNumberValidator)(),Xr.Factory.afterSetFilter);Xr.Factory.addGetterSetter(lo.Node,"luminance",0,(0,ho.getNumberValidator)(),Xr.Factory.afterSetFilter);const T5=function(e){var t=e.data,r=t.length,i=1,n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s=this.luminance()*127,o,l=i*n*Math.cos(a*Math.PI/180),h=i*n*Math.sin(a*Math.PI/180),c=.299*i+.701*l+.167*h,g=.587*i-.587*l+.33*h,p=.114*i-.114*l-.497*h,f=.299*i-.299*l-.328*h,d=.587*i+.413*l+.035*h,m=.114*i-.114*l+.293*h,y=.299*i-.3*l+1.25*h,w=.587*i-.586*l-1.05*h,E=.114*i+.886*l-.2*h,u,v,_,x;for(o=0;o<r;o+=4)u=t[o+0],v=t[o+1],_=t[o+2],x=t[o+3],t[o+0]=c*u+g*v+p*_+s,t[o+1]=f*u+d*v+m*_+s,t[o+2]=y*u+w*v+E*_+s,t[o+3]=x};ca.HSL=T5;var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.HSV=void 0;const qr=lt,co=Pt,uo=Z,P5=function(e){var t=e.data,r=t.length,i=Math.pow(2,this.value()),n=Math.pow(2,this.saturation()),a=Math.abs(this.hue()+360)%360,s,o=i*n*Math.cos(a*Math.PI/180),l=i*n*Math.sin(a*Math.PI/180),h=.299*i+.701*o+.167*l,c=.587*i-.587*o+.33*l,g=.114*i-.114*o-.497*l,p=.299*i-.299*o-.328*l,f=.587*i+.413*o+.035*l,d=.114*i-.114*o+.293*l,m=.299*i-.3*o+1.25*l,y=.587*i-.586*o-1.05*l,w=.114*i+.886*o-.2*l,E,u,v,_;for(s=0;s<r;s+=4)E=t[s+0],u=t[s+1],v=t[s+2],_=t[s+3],t[s+0]=h*E+c*u+g*v,t[s+1]=p*E+f*u+d*v,t[s+2]=m*E+y*u+w*v,t[s+3]=_};ua.HSV=P5;qr.Factory.addGetterSetter(co.Node,"hue",0,(0,uo.getNumberValidator)(),qr.Factory.afterSetFilter);qr.Factory.addGetterSetter(co.Node,"saturation",0,(0,uo.getNumberValidator)(),qr.Factory.afterSetFilter);qr.Factory.addGetterSetter(co.Node,"value",0,(0,uo.getNumberValidator)(),qr.Factory.afterSetFilter);var da={};Object.defineProperty(da,"__esModule",{value:!0});da.Invert=void 0;const A5=function(e){var t=e.data,r=t.length,i;for(i=0;i<r;i+=4)t[i]=255-t[i],t[i+1]=255-t[i+1],t[i+2]=255-t[i+2]};da.Invert=A5;var fa={};Object.defineProperty(fa,"__esModule",{value:!0});fa.Kaleidoscope=void 0;const vn=lt,Hc=Pt,Ol=Ft,Vc=Z;var F5=function(e,t,r){var i=e.data,n=t.data,a=e.width,s=e.height,o=r.polarCenterX||a/2,l=r.polarCenterY||s/2,h,c,g,p=0,f=0,d=0,m=0,y,w=Math.sqrt(o*o+l*l);c=a-o,g=s-l,y=Math.sqrt(c*c+g*g),w=y>w?y:w;var E=s,u=a,v,_,x=360/u*Math.PI/180,M,b;for(_=0;_<u;_+=1)for(M=Math.sin(_*x),b=Math.cos(_*x),v=0;v<E;v+=1)c=Math.floor(o+w*v/E*b),g=Math.floor(l+w*v/E*M),h=(g*a+c)*4,p=i[h+0],f=i[h+1],d=i[h+2],m=i[h+3],h=(_+v*a)*4,n[h+0]=p,n[h+1]=f,n[h+2]=d,n[h+3]=m},M5=function(e,t,r){var i=e.data,n=t.data,a=e.width,s=e.height,o=r.polarCenterX||a/2,l=r.polarCenterY||s/2,h,c,g,p,f,d=0,m=0,y=0,w=0,E,u=Math.sqrt(o*o+l*l);c=a-o,g=s-l,E=Math.sqrt(c*c+g*g),u=E>u?E:u;var v=s,_=a,x,M,b=r.polarRotation||0,F,C;for(c=0;c<a;c+=1)for(g=0;g<s;g+=1)p=c-o,f=g-l,x=Math.sqrt(p*p+f*f)*v/u,M=(Math.atan2(f,p)*180/Math.PI+360+b)%360,M=M*_/360,F=Math.floor(M),C=Math.floor(x),h=(C*a+F)*4,d=i[h+0],m=i[h+1],y=i[h+2],w=i[h+3],h=(g*a+c)*4,n[h+0]=d,n[h+1]=m,n[h+2]=y,n[h+3]=w};const O5=function(e){var t=e.width,r=e.height,i,n,a,s,o,l,h,c,g,p,f=Math.round(this.kaleidoscopePower()),d=Math.round(this.kaleidoscopeAngle()),m=Math.floor(t*(d%360)/360);if(!(f<1)){var y=Ol.Util.createCanvasElement();y.width=t,y.height=r;var w=y.getContext("2d").getImageData(0,0,t,r);Ol.Util.releaseCanvas(y),F5(e,w,{polarCenterX:t/2,polarCenterY:r/2});for(var E=t/Math.pow(2,f);E<=8;)E=E*2,f-=1;E=Math.ceil(E);var u=E,v=0,_=u,x=1;for(m+E>t&&(v=u,_=0,x=-1),n=0;n<r;n+=1)for(i=v;i!==_;i+=x)a=Math.round(i+m)%t,g=(t*n+a)*4,o=w.data[g+0],l=w.data[g+1],h=w.data[g+2],c=w.data[g+3],p=(t*n+i)*4,w.data[p+0]=o,w.data[p+1]=l,w.data[p+2]=h,w.data[p+3]=c;for(n=0;n<r;n+=1)for(u=Math.floor(E),s=0;s<f;s+=1){for(i=0;i<u+1;i+=1)g=(t*n+i)*4,o=w.data[g+0],l=w.data[g+1],h=w.data[g+2],c=w.data[g+3],p=(t*n+u*2-i-1)*4,w.data[p+0]=o,w.data[p+1]=l,w.data[p+2]=h,w.data[p+3]=c;u*=2}M5(w,e,{polarRotation:0})}};fa.Kaleidoscope=O5;vn.Factory.addGetterSetter(Hc.Node,"kaleidoscopePower",2,(0,Vc.getNumberValidator)(),vn.Factory.afterSetFilter);vn.Factory.addGetterSetter(Hc.Node,"kaleidoscopeAngle",0,(0,Vc.getNumberValidator)(),vn.Factory.afterSetFilter);var ga={};Object.defineProperty(ga,"__esModule",{value:!0});ga.Mask=void 0;const kl=lt,k5=Pt,R5=Z;function Ji(e,t,r){var i=(r*e.width+t)*4,n=[];return n.push(e.data[i++],e.data[i++],e.data[i++],e.data[i++]),n}function di(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)+Math.pow(e[2]-t[2],2))}function L5(e){for(var t=[0,0,0],r=0;r<e.length;r++)t[0]+=e[r][0],t[1]+=e[r][1],t[2]+=e[r][2];return t[0]/=e.length,t[1]/=e.length,t[2]/=e.length,t}function D5(e,t){var r=Ji(e,0,0),i=Ji(e,e.width-1,0),n=Ji(e,0,e.height-1),a=Ji(e,e.width-1,e.height-1),s=t||10;if(di(r,i)<s&&di(i,a)<s&&di(a,n)<s&&di(n,r)<s){for(var o=L5([i,r,a,n]),l=[],h=0;h<e.width*e.height;h++){var c=di(o,[e.data[h*4],e.data[h*4+1],e.data[h*4+2]]);l[h]=c<s?0:255}return l}}function N5(e,t){for(var r=0;r<e.width*e.height;r++)e.data[4*r+3]=t[r]}function I5(e,t,r){for(var i=[1,1,1,1,0,1,1,1,1],n=Math.round(Math.sqrt(i.length)),a=Math.floor(n/2),s=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,g=0;g<n;g++)for(var p=0;p<n;p++){var f=o+g-a,d=l+p-a;if(f>=0&&f<r&&d>=0&&d<t){var m=f*t+d,y=i[g*n+p];c+=e[m]*y}}s[h]=c===255*8?255:0}return s}function G5(e,t,r){for(var i=[1,1,1,1,1,1,1,1,1],n=Math.round(Math.sqrt(i.length)),a=Math.floor(n/2),s=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,g=0;g<n;g++)for(var p=0;p<n;p++){var f=o+g-a,d=l+p-a;if(f>=0&&f<r&&d>=0&&d<t){var m=f*t+d,y=i[g*n+p];c+=e[m]*y}}s[h]=c>=255*4?255:0}return s}function $5(e,t,r){for(var i=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],n=Math.round(Math.sqrt(i.length)),a=Math.floor(n/2),s=[],o=0;o<r;o++)for(var l=0;l<t;l++){for(var h=o*t+l,c=0,g=0;g<n;g++)for(var p=0;p<n;p++){var f=o+g-a,d=l+p-a;if(f>=0&&f<r&&d>=0&&d<t){var m=f*t+d,y=i[g*n+p];c+=e[m]*y}}s[h]=c}return s}const U5=function(e){var t=this.threshold(),r=D5(e,t);return r&&(r=I5(r,e.width,e.height),r=G5(r,e.width,e.height),r=$5(r,e.width,e.height),N5(e,r)),e};ga.Mask=U5;kl.Factory.addGetterSetter(k5.Node,"threshold",0,(0,R5.getNumberValidator)(),kl.Factory.afterSetFilter);var pa={};Object.defineProperty(pa,"__esModule",{value:!0});pa.Noise=void 0;const Rl=lt,B5=Pt,H5=Z,V5=function(e){var t=this.noise()*255,r=e.data,i=r.length,n=t/2,a;for(a=0;a<i;a+=4)r[a+0]+=n-2*n*Math.random(),r[a+1]+=n-2*n*Math.random(),r[a+2]+=n-2*n*Math.random()};pa.Noise=V5;Rl.Factory.addGetterSetter(B5.Node,"noise",.2,(0,H5.getNumberValidator)(),Rl.Factory.afterSetFilter);var va={};Object.defineProperty(va,"__esModule",{value:!0});va.Pixelate=void 0;const Ll=lt,j5=Ft,W5=Pt,z5=Z,K5=function(e){var t=Math.ceil(this.pixelSize()),r=e.width,i=e.height,n,a,s,o,l,h,c,g=Math.ceil(r/t),p=Math.ceil(i/t),f,d,m,y,w,E,u,v=e.data;if(t<=0){j5.Util.error("pixelSize value can not be <= 0");return}for(w=0;w<g;w+=1)for(E=0;E<p;E+=1){for(o=0,l=0,h=0,c=0,f=w*t,d=f+t,m=E*t,y=m+t,u=0,n=f;n<d;n+=1)if(!(n>=r))for(a=m;a<y;a+=1)a>=i||(s=(r*a+n)*4,o+=v[s+0],l+=v[s+1],h+=v[s+2],c+=v[s+3],u+=1);for(o=o/u,l=l/u,h=h/u,c=c/u,n=f;n<d;n+=1)if(!(n>=r))for(a=m;a<y;a+=1)a>=i||(s=(r*a+n)*4,v[s+0]=o,v[s+1]=l,v[s+2]=h,v[s+3]=c)}};va.Pixelate=K5;Ll.Factory.addGetterSetter(W5.Node,"pixelSize",8,(0,z5.getNumberValidator)(),Ll.Factory.afterSetFilter);var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.Posterize=void 0;const Dl=lt,Y5=Pt,X5=Z,q5=function(e){var t=Math.round(this.levels()*254)+1,r=e.data,i=r.length,n=255/t,a;for(a=0;a<i;a+=1)r[a]=Math.floor(r[a]/n)*n};ma.Posterize=q5;Dl.Factory.addGetterSetter(Y5.Node,"levels",.5,(0,X5.getNumberValidator)(),Dl.Factory.afterSetFilter);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});_a.RGB=void 0;const mn=lt,fo=Pt,J5=Z,Q5=function(e){var t=e.data,r=t.length,i=this.red(),n=this.green(),a=this.blue(),s,o;for(s=0;s<r;s+=4)o=(.34*t[s]+.5*t[s+1]+.16*t[s+2])/255,t[s]=o*i,t[s+1]=o*n,t[s+2]=o*a,t[s+3]=t[s+3]};_a.RGB=Q5;mn.Factory.addGetterSetter(fo.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mn.Factory.addGetterSetter(fo.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});mn.Factory.addGetterSetter(fo.Node,"blue",0,J5.RGBComponent,mn.Factory.afterSetFilter);var ya={};Object.defineProperty(ya,"__esModule",{value:!0});ya.RGBA=void 0;const Pi=lt,ba=Pt,Z5=Z,tp=function(e){var t=e.data,r=t.length,i=this.red(),n=this.green(),a=this.blue(),s=this.alpha(),o,l;for(o=0;o<r;o+=4)l=1-s,t[o]=i*s+t[o]*l,t[o+1]=n*s+t[o+1]*l,t[o+2]=a*s+t[o+2]*l};ya.RGBA=tp;Pi.Factory.addGetterSetter(ba.Node,"red",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Pi.Factory.addGetterSetter(ba.Node,"green",0,function(e){return this._filterUpToDate=!1,e>255?255:e<0?0:Math.round(e)});Pi.Factory.addGetterSetter(ba.Node,"blue",0,Z5.RGBComponent,Pi.Factory.afterSetFilter);Pi.Factory.addGetterSetter(ba.Node,"alpha",1,function(e){return this._filterUpToDate=!1,e>1?1:e<0?0:e});var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});Sa.Sepia=void 0;const ep=function(e){var t=e.data,r=t.length,i,n,a,s;for(i=0;i<r;i+=4)n=t[i+0],a=t[i+1],s=t[i+2],t[i+0]=Math.min(255,n*.393+a*.769+s*.189),t[i+1]=Math.min(255,n*.349+a*.686+s*.168),t[i+2]=Math.min(255,n*.272+a*.534+s*.131)};Sa.Sepia=ep;var wa={};Object.defineProperty(wa,"__esModule",{value:!0});wa.Solarize=void 0;const rp=function(e){var t=e.data,r=e.width,i=e.height,n=r*4,a=i;do{var s=(a-1)*n,o=r;do{var l=s+(o-1)*4,h=t[l],c=t[l+1],g=t[l+2];h>127&&(h=255-h),c>127&&(c=255-c),g>127&&(g=255-g),t[l]=h,t[l+1]=c,t[l+2]=g}while(--o)}while(--a)};wa.Solarize=rp;var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});Ca.Threshold=void 0;const Nl=lt,ip=Pt,np=Z,ap=function(e){var t=this.threshold()*255,r=e.data,i=r.length,n;for(n=0;n<i;n+=1)r[n]=r[n]<t?0:255};Ca.Threshold=ap;Nl.Factory.addGetterSetter(ip.Node,"threshold",.5,(0,np.getNumberValidator)(),Nl.Factory.afterSetFilter);Object.defineProperty(kn,"__esModule",{value:!0});kn.Konva=void 0;const Il=hc,sp=Gn,op=Bn,lp=jn,hp=Wn,cp=zn,Gl=Yr,up=Ri,dp=ni,fp=Di,gp=Xn,pp=qn,vp=Jn,mp=Qn,_p=Cr,yp=Zn,bp=ta,Sp=ea,wp=ia,Cp=na,xp=aa,Ep=sa,Tp=la,Pp=ha,Ap=ca,Fp=ua,Mp=da,Op=fa,kp=ga,Rp=pa,Lp=va,Dp=ma,Np=_a,Ip=ya,Gp=Sa,$p=wa,Up=Ca;kn.Konva=Il.Konva.Util._assign(Il.Konva,{Arc:sp.Arc,Arrow:op.Arrow,Circle:lp.Circle,Ellipse:hp.Ellipse,Image:cp.Image,Label:Gl.Label,Tag:Gl.Tag,Line:up.Line,Path:dp.Path,Rect:fp.Rect,RegularPolygon:gp.RegularPolygon,Ring:pp.Ring,Sprite:vp.Sprite,Star:mp.Star,Text:_p.Text,TextPath:yp.TextPath,Transformer:bp.Transformer,Wedge:Sp.Wedge,Filters:{Blur:wp.Blur,Brighten:Cp.Brighten,Contrast:xp.Contrast,Emboss:Ep.Emboss,Enhance:Tp.Enhance,Grayscale:Pp.Grayscale,HSL:Ap.HSL,HSV:Fp.HSV,Invert:Mp.Invert,Kaleidoscope:Op.Kaleidoscope,Mask:kp.Mask,Noise:Rp.Noise,Pixelate:Lp.Pixelate,Posterize:Dp.Posterize,RGB:Np.RGB,RGBA:Ip.RGBA,Sepia:Gp.Sepia,Solarize:$p.Solarize,Threshold:Up.Threshold}});Object.defineProperty(fn,"__esModule",{value:!0});const Bp=kn;W1.exports=Bp.Konva;const fi=j1(fn),Hp={class:"w-full flex justify-center container mx-auto"},Vp={class:"lg:flex w-full justify-center"},jp={id:"dwimage",class:"relative flex w-full lg:max-w-[450px] justify-center"},Wp=["src"],zp=J("div",{id:"zone",class:"absolute w-[40%] h-[50%] top-[20%] z-10 hover:border-2 overflow-hidden"},null,-1),Kp=jt({__name:"CustomTshirt",setup(e){const{selectedStyle:t,selectedType:r,typeView:i}=Dh(),n=mt(()=>i.value==="front"?r.value.url.front==="front1"?B1:V1:r.value.url.back?H1:""),a={text:"",bold:!1,italic:!1,fontSize:12,colour:"#fffff",letterSpacing:1,padding:null,bgColour:null,fontFamily:null},s=rt({...a}),o=rt(),l=rt(!1),h=rt(null),c=(v,_)=>{v.style.position="absolute",v.innerText=_.text,v.style.fontSize=_.fontSize+"px",v.style.color=_.colour,v.style.fontWeight=_.bold?"800":"400",v.style.fontStyle=_.italic?"italic":"",v.style.letterSpacing=_.letterSpacing+"px",v.style.padding=_.padding?_.padding+"px":"0px",_.bgColour&&(v.style.backgroundColor=_.bgColour),_.fontFamily&&(v.className=`font-${_.fontFamily}`)},g=v=>{let _=0,x=0,M=0,b=0;var F=document.getElementById("zone");const C=document.createElement("div");C.style.zIndex="20",F==null||F.appendChild(C),c(C,v),C.addEventListener("mouseover",()=>{C.style.cursor="move"}),C.onmousedown=A,C.onclick=f;function A(R){R=R||window.event,R.preventDefault(),M=R.clientX,b=R.clientY,document.onmouseup=L,document.onmousemove=G}function G(R){R=R||window.event,R.preventDefault(),_=M-R.clientX,x=b-R.clientY,M=R.clientX,b=R.clientY,C.style.top=C.offsetTop-x+"px",C.style.left=C.offsetLeft-_+"px"}function L(){document.onmouseup=null,document.onmousemove=null}s.value={...a}},p=v=>v[0]==="#"?v:(v=v.slice(4,-1),"#"+(v==null?void 0:v.split(",").map(function(_){return _=parseInt(_).toString(16),_.length==1?"0"+_:_}).join(""))),f=v=>{o.value=v.target,l.value=!0,h.value="text";let _={...a};_.text=v.target.innerText,_.bold=v.target.style.fontWeight==800,_.italic=v.target.style.fontStyle==="italic",_.fontSize=parseInt(v.target.style.fontSize.slice(0,-2)),_.colour=v.target.style.color?p(v.target.style.color):"#fffff",_.letterSpacing=parseInt(v.target.style.letterSpacing.slice(0,-2)),_.padding=parseInt(v.target.style.padding.slice(0,-2)),_.bgColour=v.target.style.backgroundColor?p(v.target.style.backgroundColor):null,_.fontFamily=v.target.className.slice(5),s.value=_},d=()=>{o.value=null,s.value={...a},l.value=!1},m=()=>{l.value&&(o.value.remove(),d())},y=v=>{c(o.value,v)},w=v=>{l.value=!0,h.value="art",o.value=v.target},E=v=>{function _(U){var H=U.getParent(),N=H.findOne(".topLeft"),I=H.findOne(".topRight"),j=H.findOne(".bottomRight"),q=H.findOne(".bottomLeft"),Y=H.findOne("Image"),it=U.x(),dt=U.y();switch(U.getName()){case"topLeft":I.y(dt),q.x(it);break;case"topRight":N.y(dt),j.x(it);break;case"bottomRight":q.y(dt),I.x(it);break;case"bottomLeft":j.y(dt),N.x(it);break}Y.position(N.position());var ft=I.x()-N.x(),Zt=q.y()-N.y();ft&&Zt&&(Y.width(ft),Y.height(Zt))}function x(U,H,N,I){var j=new fi.Circle({x:H,y:N,stroke:"#666",strokeWidth:0,radius:8,name:I,draggable:!0,dragOnTop:!1});j.on("dragmove",function(){_(this)}),j.on("mousedown touchstart",function(){U.draggable(!1),this.moveToTop()}),j.on("dragend",function(){U.draggable(!0)}),j.on("mouseover",function(){document.body.style.cursor="pointer",this.strokeWidth(4)}),j.on("mouseout",function(){document.body.style.cursor="default",this.strokeWidth(0)}),U.add(j)}var M=document.getElementById("zone");const b=document.createElement("div");b.onclick=w,b.id="container",M==null||M.appendChild(b);let F=M==null?void 0:M.clientWidth,C=M==null?void 0:M.clientHeight;var A=new fi.Stage({container:"container",width:F,height:C}),G=new fi.Layer;A.add(G);var L=new Image,R=new fi.Group({x:0,y:0,draggable:!0});G.add(R),L.src=URL.createObjectURL(v),L.onload=function(){let U=new fi.Image({x:0,y:0,image:L,width:100,height:100});R.add(U)},x(R,0,0,"topLeft"),x(R,100,0,"topRight"),x(R,100,100,"bottomRight"),x(R,0,100,"bottomLeft")},u=()=>{const v=document.getElementById("dwimage");v&&U1(v).then(function(_){var x=document.createElement("a");x.download="design.jpeg",x.href=_,x.click()})};return(v,_)=>(Ot(),Bt("div",Hp,[J("div",Vp,[Nt(Xf,{onSendData:g,onSendImage:E,onSendEditData:y,editMode:l.value,"edit-type":h.value,selectedData:s.value,onDelete:m,onCloseEditMode:d},null,8,["editMode","edit-type","selectedData"]),J("div",jp,[J("img",{src:Wt(n),alt:"",class:oe([Wt(t),"object-contain w-full"])},null,10,Wp),zp]),Nt(w0,{onDownload:u})])]))}}),Yp=jt({__name:"App",setup(e){return(t,r)=>(Ot(),zs(Kp,{msg:"Vite + Vue"}))}});g0(Yp).mount("#app");
